<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orange Data Mining Practice Guide: Retail Campaign Analytics</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica', Arial, sans-serif;
            background-color: white;
            color: #333;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 0;
            border-bottom: 2px solid #2c3e50;
        }

        .header h1 {
            font-size: 2.5em;
            color: #2c3e50;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header p {
            font-size: 1.2em;
            color: #7f8c8d;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: #ecf0f1;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .section {
            margin-bottom: 40px;
            background: #fdfdfd;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #3498db;
        }

        .section h2 {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 20px;
            font-weight: 400;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .section h2:hover {
            color: #3498db;
        }

        .section-number {
            background: #3498db;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .section-content {
            display: block;
            transition: all 0.3s ease;
        }

        .section.collapsed .section-content {
            display: none;
        }

        .subsection {
            margin: 25px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 3px solid #e74c3c;
        }

        .subsection h3 {
            color: #c0392b;
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .workflow {
            background: #2c3e50;
            color: white;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            margin: 20px 0;
            text-align: center;
            letter-spacing: 1px;
        }

        .step-list {
            list-style: none;
            counter-reset: step-counter;
        }

        .step-list li {
            counter-increment: step-counter;
            margin: 15px 0;
            padding: 15px;
            background: #ecf0f1;
            border-radius: 5px;
            position: relative;
            padding-left: 60px;
        }

        .step-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: 15px;
            top: 15px;
            background: #e74c3c;
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9em;
        }

        .expected-result {
            background: #d5f4e6;
            border: 1px solid #27ae60;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }

        .expected-result h4 {
            color: #27ae60;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            margin: 15px 0;
            overflow-x: auto;
        }

        .highlight {
            background: linear-gradient(120deg, #a8e6cf 0%, #dcedc8 100%);
            padding: 3px 6px;
            border-radius: 3px;
            font-weight: bold;
        }

        .warning {
            background: #fff3cd;
            border: 1px solid #ffc107;
            color: #856404;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }

        .warning h4 {
            color: #856404;
            margin-bottom: 10px;
        }

        .tip {
            background: #cce5ff;
            border: 1px solid #007bff;
            color: #004085;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }

        .tip h4 {
            color: #004085;
            margin-bottom: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
            cursor: pointer;
        }

        .checkbox-item input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .checkbox-item label {
            cursor: pointer;
            font-size: 1.05em;
        }

        .completion-status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #2c3e50;
            color: white;
            padding: 15px 20px;
            border-radius: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
        }

        .expand-all, .collapse-all {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            margin: 0 5px 20px 0;
            font-size: 0.95em;
            transition: background 0.3s ease;
        }

        .expand-all:hover, .collapse-all:hover {
            background: #2980b9;
        }

        .dataset-info {
            background: #f8f9fa;
            border: 2px solid #6c757d;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .dataset-info h3 {
            color: #495057;
            margin-bottom: 15px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .feature-card {
            background: white;
            border: 1px solid #dee2e6;
            padding: 15px;
            border-radius: 8px;
        }

        .feature-card h4 {
            color: #495057;
            margin-bottom: 8px;
        }

        .quiz-container {
            background: #f8f9fa;
            border: 2px solid #6c757d;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .quiz-question {
            background: white;
            border: 1px solid #dee2e6;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .quiz-question h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .quiz-question p {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1.05em;
        }

        .quiz-options {
            margin: 15px 0;
        }

        .quiz-option {
            display: block;
            padding: 12px 15px;
            margin: 8px 0;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
        }

        .quiz-option:hover {
            background: #e3f2fd;
            border-color: #2196f3;
        }

        .quiz-option input[type="radio"] {
            margin-right: 10px;
            transform: scale(1.1);
        }

        .quiz-option.correct {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .quiz-option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        .quiz-feedback {
            margin: 15px 0;
            padding: 15px;
            border-radius: 6px;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: #d4edda;
            border: 1px solid #28a745;
            color: #155724;
        }

        .quiz-feedback.incorrect {
            background: #f8d7da;
            border: 1px solid #dc3545;
            color: #721c24;
        }

        .quiz-submit {
            text-align: center;
            margin: 30px 0;
        }

        .submit-quiz, .reset-quiz {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            margin: 0 10px;
            transition: background 0.3s ease;
        }

        .submit-quiz:hover {
            background: #2980b9;
        }

        .reset-quiz {
            background: #6c757d;
        }

        .reset-quiz:hover {
            background: #5a6268;
        }

        .quiz-results {
            background: #e8f5e8;
            border: 2px solid #27ae60;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            display: none;
        }

        .quiz-results.show {
            display: block;
        }

        .quiz-results h4 {
            color: #27ae60;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .quiz-results.poor {
            background: #fff3cd;
            border-color: #ffc107;
        }

        .quiz-results.poor h4 {
            color: #856404;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .header h1 {
                font-size: 2em;
            }

            .section {
                padding: 20px;
            }

            .completion-status {
                position: relative;
                top: auto;
                right: auto;
                margin: 20px 0;
            }

            .quiz-option {
                padding: 10px 12px;
                font-size: 0.95em;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Orange Data Mining Practice Guide</h1>
        <p>Unsupervised Learning: Retail Campaign Analytics</p>
    </div>

    <div class="completion-status">
        <span id="completion-text">Progress: 0/8 sections completed</span>
    </div>

    <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
    </div>

    <div class="controls">
        <button class="expand-all" onclick="expandAll()">Expand All Sections</button>
        <button class="collapse-all" onclick="collapseAll()">Collapse All Sections</button>
    </div>

    <!-- Section 1: Dataset Overview -->
    <div class="section" data-section="1">
        <h2 onclick="toggleSection(this)">
            <span class="section-number">1</span>
            Dataset Overview and Business Context
        </h2>
        <div class="section-content">
            <div class="dataset-info">
                <h3>Retail Campaign Dataset Analysis</h3>
                <p><strong>Business Objective:</strong> Segment customers based on behavior and demographics to improve marketing campaign targeting effectiveness.</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>Demographic Features</h4>
                        <p>Age (18-75), Income_K ($15K-$117K)</p>
                    </div>
                    <div class="feature-card">
                        <h4>Behavioral Features</h4>
                        <p>AvgTransactionValue ($10-$146), PreviousPurchases (0-15)</p>
                    </div>
                    <div class="feature-card">
                        <h4>Engagement Features</h4>
                        <p>EmailOpenRate (0-68%), DaysSinceLastPurchase (1-183)</p>
                    </div>
                    <div class="feature-card">
                        <h4>Categorical Features</h4>
                        <p>LoyaltyMember, PreferredChannel, CustomerSegment</p>
                    </div>
                </div>
            </div>

            <div class="warning">
                <h4>Scale Disparity Issue</h4>
                <p>Notice the significant scale differences: Income ranges $15,000-$117,000 while Age ranges 18-75. This requires normalization before clustering to prevent income from dominating the distance calculations.</p>
            </div>

            <div class="subsection">
                <h3>Learning Objectives</h3>
                <ul class="step-list">
                    <li>Understand the importance of data preprocessing in unsupervised learning</li>
                    <li>Implement K-means clustering for customer segmentation</li>
                    <li>Apply Principal Component Analysis for dimensionality reduction</li>
                    <li>Interpret results in business context for actionable insights</li>
                </ul>
            </div>

            <div class="checkbox-item">
                <input type="checkbox" id="check1" onchange="updateProgress()">
                <label for="check1">I understand the dataset structure and business context</label>
            </div>
        </div>
    </div>

    <!-- Section 2: Data Import and Exploration -->
    <div class="section" data-section="2">
        <h2 onclick="toggleSection(this)">
            <span class="section-number">2</span>
            Data Import and Exploratory Analysis in Orange
        </h2>
        <div class="section-content">
            <div class="workflow">
                File → Data Table → Distributions
            </div>

            <div class="subsection">
                <h3>Step-by-Step Implementation</h3>
                <ul class="step-list">
                    <li>Open Orange Data Mining software</li>
                    <li>Drag <span class="highlight">File widget</span> onto the canvas</li>
                    <li>Double-click File widget and load <code>retail_campaign_dataset.csv</code></li>
                    <li>Connect <span class="highlight">Data Table widget</span> to File widget</li>
                    <li>Connect <span class="highlight">Distributions widget</span> to File widget</li>
                </ul>
            </div>

            <div class="expected-result">
                <h4>Expected Observations</h4>
                <p><strong>Data Table:</strong> 200 rows, 12 columns with mixed data types</p>
                <p><strong>Distributions:</strong> Income_K shows right-skewed distribution, Age shows normal distribution</p>
                <p><strong>Scale Issues:</strong> Income values (15,000-117,000) vs Age values (18-75)</p>
            </div>

            <div class="tip">
                <h4>Analysis Tips</h4>
                <p>Pay attention to the different scales and distributions. This will inform your preprocessing decisions in the next steps.</p>
            </div>

            <div class="checkbox-item">
                <input type="checkbox" id="check2" onchange="updateProgress()">
                <label for="check2">I have successfully imported and explored the dataset</label>
            </div>
        </div>
    </div>

    <!-- Section 3: Data Preprocessing -->
    <div class="section" data-section="3">
        <h2 onclick="toggleSection(this)">
            <span class="section-number">3</span>
            Feature Selection and Normalization
        </h2>
        <div class="section-content">
            <div class="workflow">
                File → Select Columns → Normalize → Data Table
            </div>

            <div class="subsection">
                <h3>Feature Selection Process</h3>
                <ul class="step-list">
                    <li>Add <span class="highlight">Select Columns widget</span> and connect to File widget</li>
                    <li><strong>Features box:</strong> Move Age, Income_K, AvgTransactionValue, PreviousPurchases, DaysSinceLastPurchase, EmailOpenRate</li>
                    <li><strong>Ignored box:</strong> Move CustomerID (identifier, not useful for clustering)</li>
                    <li><strong>Meta box:</strong> Move categorical variables (LoyaltyMember, PreferredChannel, etc.)</li>
                </ul>
            </div>

            <div class="subsection">
                <h3>Normalization Implementation</h3>
                <ul class="step-list">
                    <li>Add <span class="highlight">Normalize widget</span> and connect to Select Columns</li>
                    <li>Choose <span class="highlight">"Standardize to N(0,1)"</span> for Z-score normalization</li>
                    <li>This transforms each feature to mean=0, standard deviation=1</li>
                    <li>Connect Data Table to Normalize widget to verify results</li>
                </ul>
            </div>

            <div class="expected-result">
                <h4>Post-Normalization Results</h4>
                <p><strong>Age values:</strong> Now range approximately -2 to +2</p>
                <p><strong>Income_K values:</strong> Now range approximately -2 to +2</p>
                <p><strong>All features:</strong> Similar scale, mean≈0, std≈1</p>
            </div>

            <div class="code-block">
                Z-score Formula: Z = (X - μ) / σ
                where μ = mean, σ = standard deviation
            </div>

            <div class="checkbox-item">
                <input type="checkbox" id="check3" onchange="updateProgress()">
                <label for="check3">I have successfully selected features and applied normalization</label>
            </div>
        </div>
    </div>

    <!-- Section 4: K-means Clustering -->
    <div class="section" data-section="4">
        <h2 onclick="toggleSection(this)">
            <span class="section-number">4</span>
            K-means Clustering Implementation
        </h2>
        <div class="section-content">
            <div class="workflow">
                Normalize → k-Means → Scatter Plot → Silhouette Plot
            </div>

            <div class="subsection">
                <h3>K-means Configuration</h3>
                <ul class="step-list">
                    <li>Add <span class="highlight">k-Means widget</span> and connect to Normalize widget</li>
                    <li><strong>Number of clusters:</strong> Start with k=3</li>
                    <li><strong>Initialization:</strong> K-means++ (recommended)</li>
                    <li><strong>Re-runs:</strong> 10 (for stability)</li>
                    <li><strong>Max iterations:</strong> 300</li>
                </ul>
            </div>

            <div class="subsection">
                <h3>Results Visualization</h3>
                <ul class="step-list">
                    <li>Connect <span class="highlight">Scatter Plot widget</span> to k-Means</li>
                    <li><strong>X-axis:</strong> Income_K, <strong>Y-axis:</strong> AvgTransactionValue</li>
                    <li><strong>Color:</strong> Cluster (automatically applied)</li>
                    <li>Connect <span class="highlight">Silhouette Plot widget</span> to k-Means for validation</li>
                </ul>
            </div>

            <div class="expected-result">
                <h4>Expected Customer Segments</h4>
                <p><strong>Cluster 1 - Premium Customers:</strong> High income, high transaction value</p>
                <p><strong>Cluster 2 - Budget Customers:</strong> Lower income, price-sensitive behavior</p>
                <p><strong>Cluster 3 - Regular Customers:</strong> Medium values across metrics</p>
            </div>

            <div class="subsection">
                <h3>Optimal k Selection Process</h3>
                <ul class="step-list">
                    <li>Test different k values: k=2, 3, 4, 5, 6</li>
                    <li>Record silhouette scores for each k</li>
                    <li>Choose k with highest silhouette score (typically >0.5 indicates good clustering)</li>
                    <li>Consider business interpretability alongside statistical metrics</li>
                </ul>
            </div>

            <div class="checkbox-item">
                <input type="checkbox" id="check4" onchange="updateProgress()">
                <label for="check4">I have successfully implemented K-means clustering and found optimal k</label>
            </div>
        </div>
    </div>

    <!-- Section 5: PCA Implementation -->
    <div class="section" data-section="5">
        <h2 onclick="toggleSection(this)">
            <span class="section-number">5</span>
            Principal Component Analysis
        </h2>
        <div class="section-content">
            <div class="workflow">
                Normalize → PCA → Biplot → Data Table
            </div>

            <div class="subsection">
                <h3>PCA Configuration</h3>
                <ul class="step-list">
                    <li>Add <span class="highlight">PCA widget</span> and connect to Normalize widget</li>
                    <li><strong>Components:</strong> Start with "All" to see total variance explained</li>
                    <li><strong>Normalize:</strong> Unchecked (data already normalized)</li>
                    <li>Examine Components output for variance explained by each PC</li>
                </ul>
            </div>

            <div class="expected-result">
                <h4>Expected PCA Results</h4>
                <p><strong>PC1:</strong> ~35-45% variance (Customer value/spending power)</p>
                <p><strong>PC2:</strong> ~20-25% variance (Engagement/frequency patterns)</p>
                <p><strong>PC3:</strong> ~15-20% variance (Customer lifecycle stage)</p>
                <p><strong>Cumulative:</strong> First 3 PCs explain ~70-80% of total variance</p>
            </div>

            <div class="subsection">
                <h3>Component Interpretation</h3>
                <ul class="step-list">
                    <li>Connect <span class="highlight">Data Table widget</span> to PCA to examine loadings</li>
                    <li><strong>PC1 loadings:</strong> High on Income_K and AvgTransactionValue (economic value)</li>
                    <li><strong>PC2 loadings:</strong> High on EmailOpenRate, negative on DaysSinceLastPurchase (engagement)</li>
                    <li>Connect <span class="highlight">Biplot widget</span> for visual interpretation</li>
                </ul>
            </div>

            <div class="subsection">
                <h3>Biplot Analysis</h3>
                <ul class="step-list">
                    <li><strong>Points:</strong> Customers projected into PC space</li>
                    <li><strong>Arrows:</strong> Original variables' contributions to PCs</li>
                    <li><strong>Arrow length:</strong> Variable importance</li>
                    <li><strong>Arrow direction:</strong> Variable correlation patterns</li>
                </ul>
            </div>

            <div class="tip">
                <h4>Dimensionality Reduction Decision</h4>
                <p>If first 2-3 components explain >80% variance, you can reduce from 6 features to 2-3 components for simpler analysis and visualization.</p>
            </div>

            <div class="checkbox-item">
                <input type="checkbox" id="check5" onchange="updateProgress()">
                <label for="check5">I have successfully implemented PCA and interpreted the components</label>
            </div>
        </div>
    </div>

    <!-- Section 6: Combined Analysis -->
    <div class="section" data-section="6">
        <h2 onclick="toggleSection(this)">
            <span class="section-number">6</span>
            Integrated PCA + K-means Workflow
        </h2>
        <div class="section-content">
            <div class="workflow">
                File → Select Columns → Normalize → PCA → k-Means → Scatter Plot
            </div>

            <div class="subsection">
                <h3>Advanced Workflow Benefits</h3>
                <ul class="step-list">
                    <li><strong>Noise reduction:</strong> PCA removes noise from minor components</li>
                    <li><strong>Computational efficiency:</strong> Clustering on 2-3 PCs instead of 6 features</li>
                    <li><strong>Better visualization:</strong> 2D/3D plotting of principal components</li>
                    <li><strong>Multicollinearity removal:</strong> PCs are orthogonal by definition</li>
                </ul>
            </div>

            <div class="subsection">
                <h3>Implementation Steps</h3>
                <ul class="step-list">
                    <li>Use previous PCA setup with 2-3 components</li>
                    <li>Connect PCA output to k-Means widget</li>
                    <li>Apply same k-Means configuration as before</li>
                    <li>Compare clustering results: original features vs. principal components</li>
                </ul>
            </div>

            <div class="expected-result">
                <h4>Expected Improvements</h4>
                <p><strong>Clearer separation:</strong> Clusters more distinct in PC space</p>
                <p><strong>Better silhouette scores:</strong> Improved cluster quality metrics</p>
                <p><strong>Easier interpretation:</strong> 2D visualization instead of 6D space</p>
            </div>

            <div class="checkbox-item">
                <input type="checkbox" id="check6" onchange="updateProgress()">
                <label for="check6">I have successfully combined PCA with K-means clustering</label>
            </div>
        </div>
    </div>

    <!-- Section 7: Business Interpretation -->
    <div class="section" data-section="7">
        <h2 onclick="toggleSection(this)">
            <span class="section-number">7</span>
            Business Interpretation and Recommendations
        </h2>
        <div class="section-content">
            <div class="subsection">
                <h3>Customer Segment Profiles</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>Premium Segment</h4>
                        <p><strong>Characteristics:</strong> High income, high spending, frequent purchases</p>
                        <p><strong>Strategy:</strong> VIP treatment, premium products, loyalty rewards</p>
                    </div>
                    <div class="feature-card">
                        <h4>Budget Segment</h4>
                        <p><strong>Characteristics:</strong> Lower income, price-sensitive, occasional purchases</p>
                        <p><strong>Strategy:</strong> Discounts, value propositions, cost-effective products</p>
                    </div>
                    <div class="feature-card">
                        <h4>Regular Segment</h4>
                        <p><strong>Characteristics:</strong> Moderate income and spending, consistent behavior</p>
                        <p><strong>Strategy:</strong> Standard campaigns, cross-selling, retention focus</p>
                    </div>
                </div>
            </div>

            <div class="subsection">
                <h3>Actionable Marketing Strategies</h3>
                <ul class="step-list">
                    <li><strong>Targeted Campaigns:</strong> Design specific campaigns for each customer segment</li>
                    <li><strong>Product Recommendations:</strong> Suggest products based on cluster characteristics</li>
                    <li><strong>Pricing Strategies:</strong> Adjust pricing based on segment price sensitivity</li>
                    <li><strong>Channel Optimization:</strong> Use preferred channels identified in analysis</li>
                </ul>
            </div>

            <div class="subsection">
                <h3>Technical Insights</h3>
                <ul class="step-list">
                    <li><strong>Feature Importance:</strong> Income and transaction value are primary differentiators</li>
                    <li><strong>Engagement Patterns:</strong> Email open rates correlate with purchase frequency</li>
                    <li><strong>Lifecycle Stage:</strong> Days since last purchase indicates customer lifecycle position</li>
                    <li><strong>Dimensionality:</strong> 2-3 principal components capture most customer variation</li>
                </ul>
            </div>

            <div class="expected-result">
                <h4>Business Impact Metrics</h4>
                <p><strong>Campaign Efficiency:</strong> 25-40% improvement through targeted segmentation</p>
                <p><strong>Customer Retention:</strong> Better understanding of at-risk customers</p>
                <p><strong>Resource Allocation:</strong> Focus marketing spend on high-value segments</p>
            </div>

            <div class="checkbox-item">
                <input type="checkbox" id="check7" onchange="updateProgress()">
                <label for="check7">I can interpret clustering results and provide business recommendations</label>
            </div>
        </div>
    </div>

    <!-- Section 8: Knowledge Assessment Quiz -->
    <div class="section" data-section="8">
        <h2 onclick="toggleSection(this)">
            <span class="section-number">8</span>
            Knowledge Assessment Quiz
        </h2>
        <div class="section-content">
            <div class="subsection">
                <h3>Test Your Understanding</h3>
                <p>Complete these multiple choice questions to assess your understanding of Orange Data Mining workflows with the retail campaign dataset.</p>
            </div>

            <div class="quiz-container">
                <!-- Question 1 -->
                <div class="quiz-question">
                    <h4>Question 1: Feature Normalization Requirements</h4>
                    <p>Based on the retail campaign dataset, which features should be normalized before clustering?</p>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="A">
                            <span>A) Only Age and Income_K</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="B">
                            <span>B) All numerical features (Age, Income_K, AvgTransactionValue, PreviousPurchases, DaysSinceLastPurchase, EmailOpenRate)</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="C">
                            <span>C) Only categorical features</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q1" value="D">
                            <span>D) No normalization needed</span>
                        </label>
                    </div>
                    <div class="quiz-feedback" id="feedback1"></div>
                </div>

                <!-- Question 2 -->
                <div class="quiz-question">
                    <h4>Question 2: Scale Disparity Analysis</h4>
                    <p>In the retail dataset, what is the main reason Income_K (15-117) and Age (18-75) need normalization?</p>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="A">
                            <span>A) Income values are much larger in magnitude than Age values</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="B">
                            <span>B) They are measured in different units</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="C">
                            <span>C) Both A and B</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q2" value="D">
                            <span>D) They don't need normalization</span>
                        </label>
                    </div>
                    <div class="quiz-feedback" id="feedback2"></div>
                </div>

                <!-- Question 3 -->
                <div class="quiz-question">
                    <h4>Question 3: Orange Workflow Selection</h4>
                    <p>For customer segmentation using this retail dataset, which Orange workflow is most appropriate?</p>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="A">
                            <span>A) File → k-Means → Scatter Plot</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="B">
                            <span>B) File → Select Columns → Normalize → k-Means → Scatter Plot</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="C">
                            <span>C) File → PCA → Scatter Plot</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q3" value="D">
                            <span>D) File → Data Table only</span>
                        </label>
                    </div>
                    <div class="quiz-feedback" id="feedback3"></div>
                </div>

                <!-- Question 4 -->
                <div class="quiz-question">
                    <h4>Question 4: Normalization Results</h4>
                    <p>After normalizing the retail dataset, what should the Age values approximately range between?</p>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="A">
                            <span>A) 18-75 (unchanged)</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="B">
                            <span>B) 0-1 (if using Min-Max scaling)</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="C">
                            <span>C) Around -2 to +2 (if using Z-score scaling)</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q4" value="D">
                            <span>D) Both B and C are possible depending on normalization method</span>
                        </label>
                    </div>
                    <div class="quiz-feedback" id="feedback4"></div>
                </div>

                <!-- Question 5 -->
                <div class="quiz-question">
                    <h4>Question 5: Clustering Interpretation</h4>
                    <p>In the retail dataset clustering results, if customers with high Income_K and high AvgTransactionValue cluster together, this represents:</p>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="A">
                            <span>A) Data preprocessing error</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="B">
                            <span>B) High-value customer segment</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="C">
                            <span>C) Random clustering</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q5" value="D">
                            <span>D) Poor algorithm performance</span>
                        </label>
                    </div>
                    <div class="quiz-feedback" id="feedback5"></div>
                </div>

                <!-- Question 6 -->
                <div class="quiz-question">
                    <h4>Question 6: PCA Component Interpretation</h4>
                    <p>When applying PCA to the 6 numerical features in the retail dataset, the first principal component likely represents:</p>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q6" value="A">
                            <span>A) Customer age only</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q6" value="B">
                            <span>B) Overall customer value/spending behavior</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q6" value="C">
                            <span>C) Email engagement only</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q6" value="D">
                            <span>D) Purchase frequency only</span>
                        </label>
                    </div>
                    <div class="quiz-feedback" id="feedback6"></div>
                </div>

                <!-- Question 7 -->
                <div class="quiz-question">
                    <h4>Question 7: PCA Variance Interpretation</h4>
                    <p>If PCA shows that 2 components explain 75% of variance in the retail dataset, this means:</p>
                    <div class="quiz-options">
                        <label class="quiz-option">
                            <input type="radio" name="q7" value="A">
                            <span>A) 25% of the data is lost</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q7" value="B">
                            <span>B) The remaining 4 features contain mostly noise</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q7" value="C">
                            <span>C) 2 components capture most of the meaningful customer variation</span>
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="q7" value="D">
                            <span>D) PCA failed</span>
                        </label>
                    </div>
                    <div class="quiz-feedback" id="feedback7"></div>
                </div>

                <div class="quiz-submit">
                    <button class="submit-quiz" onclick="submitQuiz()">Submit Quiz</button>
                    <button class="reset-quiz" onclick="resetQuiz()">Reset Quiz</button>
                </div>

                <div class="quiz-results" id="quizResults"></div>
            </div>

            <div class="checkbox-item">
                <input type="checkbox" id="check8" onchange="updateProgress()">
                <label for="check8">I have completed the knowledge assessment quiz</label>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>
            <span class="section-number">✓</span>
            Practice Complete - Next Steps
        </h2>
        <div class="section-content">
            <div class="expected-result">
                <h4>Congratulations!</h4>
                <p>You have successfully completed the Orange Data Mining practice for unsupervised learning. You should now be able to:</p>
                <ul>
                    <li>Import and explore datasets in Orange</li>
                    <li>Preprocess data with proper feature selection and normalization</li>
                    <li>Implement K-means clustering with optimal k selection</li>
                    <li>Apply PCA for dimensionality reduction</li>
                    <li>Combine techniques for improved analysis</li>
                    <li>Interpret results in business context</li>
                </ul>
            </div>

            <div class="tip">
                <h4>Assessment Preparation</h4>
                <p>Practice this workflow with different parameter settings and datasets to build confidence for your DATA4800 assessment. Focus on understanding the why behind each step, not just the how.</p>
            </div>
        </div>
    </div>

    <script>
        let completedSections = 0;
        const totalSections = 8; // Updated to include quiz section

        // Quiz answers
        const quizAnswers = {
            q1: 'B',
            q2: 'C', 
            q3: 'B',
            q4: 'D',
            q5: 'B',
            q6: 'B',
            q7: 'C'
        };

        // Quiz explanations
        const quizExplanations = {
            q1: {
                correct: "Correct! All numerical features have different scales (Age: 18-75, Income_K: 15-117K, EmailOpenRate: 0-68%) requiring normalization.",
                incorrect: "Incorrect. All numerical features need normalization due to different scales, not just some features."
            },
            q2: {
                correct: "Correct! Income ranges 15,000-117,000 while Age ranges 18-75, creating scale disparity and different units that would bias clustering.",
                incorrect: "Incorrect. Both the magnitude difference AND different units create the need for normalization."
            },
            q3: {
                correct: "Correct! Proper preprocessing (selecting numerical features + normalization) is essential before clustering.",
                incorrect: "Incorrect. You need proper preprocessing - feature selection and normalization - before applying clustering algorithms."
            },
            q4: {
                correct: "Correct! Min-Max scaling produces 0-1 range, while Z-score scaling typically produces values within ±3 standard deviations.",
                incorrect: "Incorrect. The range depends on the normalization method chosen - both Min-Max and Z-score are valid options."
            },
            q5: {
                correct: "Correct! This would be a meaningful high-value customer segment for targeted premium campaigns.",
                incorrect: "Incorrect. High income and high transaction value clustering together represents a logical, valuable customer segment."
            },
            q6: {
                correct: "Correct! PC1 typically captures the largest variance, likely combining income, transaction value, and purchase behavior into overall customer value.",
                incorrect: "Incorrect. PC1 represents the direction of maximum variance, which typically combines multiple related features like income and spending."
            },
            q7: {
                correct: "Correct! 75% variance retention indicates the 2 PCs capture most meaningful customer behavior patterns.",
                incorrect: "Incorrect. High variance retention (75%) means the principal components successfully capture the important patterns in customer data."
            }
        };

        function toggleSection(header) {
            const section = header.parentElement;
            section.classList.toggle('collapsed');
        }

        function expandAll() {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('collapsed');
            });
        }

        function collapseAll() {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.add('collapsed');
            });
        }

        function updateProgress() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            completedSections = Array.from(checkboxes).filter(cb => cb.checked).length;
            
            const progressPercentage = (completedSections / totalSections) * 100;
            document.getElementById('progressFill').style.width = progressPercentage + '%';
            document.getElementById('completion-text').textContent = 
                `Progress: ${completedSections}/${totalSections} sections completed`;
        }

        function submitQuiz() {
            let score = 0;
            let totalQuestions = Object.keys(quizAnswers).length;
            
            // Check each question
            Object.keys(quizAnswers).forEach(questionId => {
                const selectedOption = document.querySelector(`input[name="${questionId}"]:checked`);
                const feedbackDiv = document.getElementById(`feedback${questionId.slice(-1)}`);
                const questionOptions = document.querySelectorAll(`input[name="${questionId}"]`);
                
                // Remove previous styling
                questionOptions.forEach(option => {
                    option.parentElement.classList.remove('correct', 'incorrect');
                });
                
                if (selectedOption) {
                    const isCorrect = selectedOption.value === quizAnswers[questionId];
                    if (isCorrect) {
                        score++;
                        selectedOption.parentElement.classList.add('correct');
                        feedbackDiv.className = 'quiz-feedback correct show';
                        feedbackDiv.innerHTML = `✓ ${quizExplanations[questionId].correct}`;
                    } else {
                        selectedOption.parentElement.classList.add('incorrect');
                        // Also highlight the correct answer
                        questionOptions.forEach(option => {
                            if (option.value === quizAnswers[questionId]) {
                                option.parentElement.classList.add('correct');
                            }
                        });
                        feedbackDiv.className = 'quiz-feedback incorrect show';
                        feedbackDiv.innerHTML = `✗ ${quizExplanations[questionId].incorrect}`;
                    }
                } else {
                    // No answer selected
                    feedbackDiv.className = 'quiz-feedback incorrect show';
                    feedbackDiv.innerHTML = '⚠ Please select an answer for this question.';
                }
            });
            
            // Show results
            const resultsDiv = document.getElementById('quizResults');
            const percentage = Math.round((score / totalQuestions) * 100);
            
            let resultClass = '';
            let resultMessage = '';
            
            if (percentage >= 80) {
                resultClass = 'show';
                resultMessage = `
                    <h4>Excellent! Score: ${score}/${totalQuestions} (${percentage}%)</h4>
                    <p>You have demonstrated strong understanding of Orange Data Mining workflows for unsupervised learning. You're well-prepared for the assessment!</p>
                `;
            } else if (percentage >= 60) {
                resultClass = 'show';
                resultMessage = `
                    <h4>Good Progress! Score: ${score}/${totalQuestions} (${percentage}%)</h4>
                    <p>You have a solid foundation but should review the concepts where you made errors. Practice the Orange workflows again and retake the quiz.</p>
                `;
            } else {
                resultClass = 'show poor';
                resultMessage = `
                    <h4>More Study Needed: Score: ${score}/${totalQuestions} (${percentage}%)</h4>
                    <p>You should review the practice guide sections more thoroughly and ensure you understand each concept before the assessment. Focus on the areas where you made errors.</p>
                `;
            }
            
            resultsDiv.className = `quiz-results ${resultClass}`;
            resultsDiv.innerHTML = resultMessage;
            
            // Auto-check the quiz completion checkbox if score is good
            if (percentage >= 60) {
                document.getElementById('check8').checked = true;
                updateProgress();
            }
        }

        function resetQuiz() {
            // Clear all radio buttons
            const radioButtons = document.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => {
                radio.checked = false;
                radio.parentElement.classList.remove('correct', 'incorrect');
            });
            
            // Hide all feedback
            const feedbacks = document.querySelectorAll('.quiz-feedback');
            feedbacks.forEach(feedback => {
                feedback.classList.remove('show', 'correct', 'incorrect');
            });
            
            // Hide results
            document.getElementById('quizResults').classList.remove('show', 'poor');
            
            // Uncheck quiz completion
            document.getElementById('check8').checked = false;
            updateProgress();
        }

        // Initialize progress
        updateProgress();

        // Add smooth scrolling for better navigation
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('.section h2');
            sections.forEach(section => {
                section.addEventListener('click', function() {
                    setTimeout(() => {
                        this.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 100);
                });
            });
        });

        // Auto-save progress in localStorage
        function saveProgress() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            const progress = {};
            checkboxes.forEach(cb => {
                progress[cb.id] = cb.checked;
            });
            localStorage.setItem('orangePracticeProgress', JSON.stringify(progress));
        }

        function loadProgress() {
            const saved = localStorage.getItem('orangePracticeProgress');
            if (saved) {
                const progress = JSON.parse(saved);
                Object.keys(progress).forEach(id => {
                    const checkbox = document.getElementById(id);
                    if (checkbox) {
                        checkbox.checked = progress[id];
                    }
                });
                updateProgress();
            }
        }

        // Load saved progress on page load
        document.addEventListener('DOMContentLoaded', loadProgress);

        // Save progress when checkboxes change
        document.addEventListener('change', function(e) {
            if (e.target.type === 'checkbox') {
                saveProgress();
            }
        });
    </script>
</body>
</html>