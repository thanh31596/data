<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decision Trees & Random Forests - 21 Slides</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica', Arial, sans-serif;
            background: white;
            color: #333;
            overflow: hidden;
        }

        .slideshow-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        .slide {
            display: none;
            width: 100%;
            height: 100%;
            padding: 40px 60px;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .slide.active {
            display: flex;
        }

        .slide h1 {
            font-size: 3.5em;
            margin-bottom: 30px;
            color: #2c3e50;
            font-weight: 300;
        }

        .slide h2 {
            font-size: 2.8em;
            margin-bottom: 25px;
            color: #2c3e50;
            font-weight: 300;
        }

        .slide h3 {
            font-size: 2.2em;
            margin-bottom: 20px;
            color: #34495e;
            font-weight: 300;
        }

        .slide h4 {
            font-size: 1.6em;
            margin-bottom: 15px;
            color: #34495e;
            font-weight: 400;
        }

        .slide p {
            font-size: 1.3em;
            line-height: 1.6;
            margin-bottom: 20px;
            max-width: 900px;
        }

        .learning-objectives {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-top: 40px;
            max-width: 1000px;
        }

        .objective {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            border-left: 4px solid #3498db;
        }

        .decision-examples {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-top: 40px;
            max-width: 1000px;
        }

        .example {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .example:hover {
            transform: translateY(-5px);
            background: #e8f4f8;
        }

        .example .details {
            display: none;
            margin-top: 15px;
            font-size: 1.1em;
            color: #666;
        }

        .example:hover .details {
            display: block;
        }

        .tree-visual {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 30px 0;
        }

        .tree-node {
            background: #3498db;
            color: white;
            padding: 15px 25px;
            border-radius: 25px;
            margin: 10px;
            position: relative;
            font-weight: 500;
        }

        .tree-node.root {
            background: #e74c3c;
        }

        .tree-node.leaf {
            background: #27ae60;
        }

        .tree-branches {
            display: flex;
            gap: 50px;
            margin-top: 20px;
        }

        .entropy-visual {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 40px 0;
            max-width: 800px;
        }

        .bag {
            display: flex;
            flex-wrap: wrap;
            width: 200px;
            height: 150px;
            border: 3px solid #34495e;
            border-radius: 15px;
            padding: 15px;
            justify-content: center;
            align-items: center;
        }

        .ball {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            margin: 2px;
        }

        .ball.red { background: #e74c3c; }
        .ball.blue { background: #3498db; }
        .ball.green { background: #27ae60; }

        .forest-visual {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin: 40px 0;
            max-width: 900px;
        }

        .tree-box {
            border: 2px solid #bdc3c7;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .tree-box:hover {
            border-color: #3498db;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .mini-tree {
            width: 80px;
            height: 60px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="20" r="8" fill="%23e74c3c"/><line x1="50" y1="28" x2="35" y2="50" stroke="%233498db" stroke-width="2"/><line x1="50" y1="28" x2="65" y2="50" stroke="%233498db" stroke-width="2"/><circle cx="35" cy="50" r="6" fill="%233498db"/><circle cx="65" cy="50" r="6" fill="%233498db"/><line x1="35" y1="56" x2="25" y2="75" stroke="%233498db" stroke-width="2"/><line x1="35" y1="56" x2="45" y2="75" stroke="%233498db" stroke-width="2"/><line x1="65" y1="56" x2="55" y2="75" stroke="%233498db" stroke-width="2"/><line x1="65" y1="56" x2="75" y2="75" stroke="%233498db" stroke-width="2"/><circle cx="25" cy="75" r="4" fill="%2327ae60"/><circle cx="45" cy="75" r="4" fill="%2327ae60"/><circle cx="55" cy="75" r="4" fill="%2327ae60"/><circle cx="75" cy="75" r="4" fill="%2327ae60"/></svg>') no-repeat center;
            background-size: contain;
            margin: 0 auto 15px auto;
        }

        .voting-box {
            background: #f1f2f6;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            max-width: 600px;
        }

        .vote-result {
            font-size: 1.4em;
            font-weight: 600;
            color: #27ae60;
            margin-top: 15px;
        }

        .data-sample {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            max-width: 800px;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 1.1em;
        }

        .data-table th,
        .data-table td {
            border: 1px solid #dee2e6;
            padding: 12px;
            text-align: left;
        }

        .data-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
        }

        .data-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .interactive-poll {
            background: #e8f4f8;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            max-width: 600px;
        }

        .poll-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .poll-option {
            background: white;
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 500;
        }

        .poll-option:hover {
            background: #3498db;
            color: white;
        }

        .navigation {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            align-items: center;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px 25px;
            border-radius: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .nav-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-family: 'Helvetica', Arial, sans-serif;
            font-size: 1em;
            transition: background 0.3s ease;
        }

        .nav-btn:hover:not(:disabled) {
            background: #2980b9;
        }

        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }

        .slide-counter {
            font-weight: 600;
            color: #2c3e50;
            margin: 0 15px;
        }

        .formula-box {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
            max-width: 500px;
        }

        .formula {
            font-size: 1.4em;
            font-weight: 500;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .algorithm-steps {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            margin: 30px 0;
            max-width: 900px;
        }

        .algorithm-step {
            background: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 20px;
            border-radius: 0 8px 8px 0;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin: 30px 0;
            max-width: 1000px;
        }

        .comparison-item {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
        }

        .comparison-item h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .comparison-item ul {
            list-style: none;
            padding: 0;
        }

        .comparison-item li {
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
            line-height: 1.5;
        }

        .comparison-item li:before {
            content: "●";
            color: #3498db;
            position: absolute;
            left: 0;
        }

        .hands-on-activity {
            background: #fff5f5;
            border: 2px solid #e53e3e;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            max-width: 800px;
        }

        .activity-workspace {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 25px;
            margin-top: 20px;
        }

        .fill-blank {
            display: inline-block;
            border-bottom: 2px solid #3498db;
            min-width: 100px;
            height: 30px;
            margin: 0 5px;
            position: relative;
        }

        .show-answer-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Helvetica', Arial, sans-serif;
            font-size: 1em;
            margin-top: 20px;
            transition: background 0.3s ease;
        }

        .show-answer-btn:hover {
            background: #229954;
        }

        .answer-revealed {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            display: none;
        }

        .answer-revealed.show {
            display: block;
        }

        .roadmap {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 800px;
            margin: 40px 0;
        }

        .roadmap-step {
            background: #f8f9fa;
            border: 2px solid #3498db;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-weight: 600;
            color: #2c3e50;
            position: relative;
        }

        .roadmap-step:not(:last-child):after {
            content: "→";
            position: absolute;
            right: -40px;
            font-size: 2em;
            color: #3498db;
        }

        .confusion-matrix {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2px;
            max-width: 400px;
            margin: 30px auto;
            border: 2px solid #2c3e50;
        }

        .matrix-cell {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            font-weight: 600;
            border: 1px solid #dee2e6;
        }

        .matrix-cell.header {
            background: #3498db;
            color: white;
        }

        .matrix-cell.true-positive {
            background: #d4edda;
            color: #155724;
        }

        .matrix-cell.false-negative {
            background: #f8d7da;
            color: #721c24;
        }

        .matrix-cell.false-positive {
            background: #f8d7da;
            color: #721c24;
        }

        .matrix-cell.true-negative {
            background: #d4edda;
            color: #155724;
        }

        .workflow-container {
            display: flex;
            justify-content: space-around;
            max-width: 900px;
            margin: 40px 0;
        }

        .workflow-step {
            background: #f8f9fa;
            border: 2px solid #3498db;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            flex: 1;
            margin: 0 10px;
            transition: transform 0.3s ease;
        }

        .workflow-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        @keyframes treeGrow {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .animated-tree {
            animation: treeGrow 1s ease-in-out;
        }

        .highlight {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="slideshow-container">
        <!-- Slide 1: Title & Learning Objectives -->
        <div class="slide active">
            <h1>Decision Trees & Random Forests</h1>
            <h3>Supervised Learning for Classification and Regression</h3>
            
            <div class="interactive-poll">
                <h4>Quick Poll: Have you made a decision tree today?</h4>
                <div class="poll-options">
                    <div class="poll-option" onclick="showPollResult()">Yes, consciously</div>
                    <div class="poll-option" onclick="showPollResult()">Yes, unconsciously</div>
                    <div class="poll-option" onclick="showPollResult()">No</div>
                    <div class="poll-option" onclick="showPollResult()">Not sure</div>
                </div>
                <div id="pollResult" style="display: none; margin-top: 20px; font-weight: 600; color: #27ae60;">
                    Great! We all use decision trees in daily life - from choosing what to wear to route planning.
                </div>
            </div>

            <div class="learning-objectives">
                <div class="objective">
                    <h4>Understand</h4>
                    <p>How decision trees make predictions through hierarchical rule-based decisions</p>
                </div>
                <div class="objective">
                    <h4>Build</h4>
                    <p>Random forests to improve prediction accuracy and reduce overfitting</p>
                </div>
                <div class="objective">
                    <h4>Apply</h4>
                    <p>Tree-based methods to real-world classification and regression problems</p>
                </div>
            </div>
        </div>

        <!-- Slide 2: Real-World Decision Making -->
        <div class="slide">
            <h2>Real-World Decision Making</h2>
            <h3>How do you decide which movie to watch?</h3>
            
            <div class="decision-examples">
                <div class="example">
                    <h4>Netflix Recommendations</h4>
                    <p>Personalized content filtering</p>
                    <div class="details">
                        Uses viewing history, ratings, and similar user behavior to predict preferences through sophisticated decision tree ensembles.
                    </div>
                </div>
                <div class="example">
                    <h4>Loan Approvals</h4>
                    <p>Financial risk assessment</p>
                    <div class="details">
                        Banks use income, credit score, employment history, and debt-to-income ratio to determine creditworthiness automatically.
                    </div>
                </div>
                <div class="example">
                    <h4>Medical Diagnosis</h4>
                    <p>Clinical decision support</p>
                    <div class="details">
                        Symptoms, test results, and patient history are processed through diagnostic trees to suggest potential conditions and treatments.
                    </div>
                </div>
            </div>
            
            <div class="highlight">
                <p><strong>Key Insight:</strong> All these systems use the same fundamental approach - asking a series of structured questions to reach a decision, just like human reasoning but at scale.</p>
            </div>
        </div>

        <!-- Slide 3: The Classification Challenge -->
        <div class="slide">
            <h2>The Classification Challenge</h2>
            <h3>Can we teach a computer to classify customer responses?</h3>
            
            <div class="data-sample">
                <h4>Retail Campaign Dataset Sample</h4>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Age</th>
                            <th>Income (K)</th>
                            <th>Email Open Rate</th>
                            <th>Loyalty Member</th>
                            <th>Campaign Response</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>34</td>
                            <td>65.2</td>
                            <td>0.45</td>
                            <td>Yes</td>
                            <td><strong>Responded</strong></td>
                        </tr>
                        <tr>
                            <td>22</td>
                            <td>28.7</td>
                            <td>0.12</td>
                            <td>No</td>
                            <td><strong>No Response</strong></td>
                        </tr>
                        <tr>
                            <td>45</td>
                            <td>89.3</td>
                            <td>0.67</td>
                            <td>Yes</td>
                            <td><strong>Responded</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="interactive-poll">
                <h4>Which features do you think matter most for predicting campaign response?</h4>
                <div class="poll-options">
                    <div class="poll-option">Age</div>
                    <div class="poll-option">Income</div>
                    <div class="poll-option">Email Open Rate</div>
                    <div class="poll-option">Loyalty Membership</div>
                </div>
            </div>
        </div>

        <!-- Slide 4: Today's Journey -->
        <div class="slide">
            <h2>Today's Journey</h2>
            <h3>From Simple Trees to Powerful Forests</h3>
            
            <div class="roadmap">
                <div class="roadmap-step">
                    <div>Decision</div>
                    <div>Trees</div>
                </div>
                <div class="roadmap-step">
                    <div>Information</div>
                    <div>Theory</div>
                </div>
                <div class="roadmap-step">
                    <div>Random</div>
                    <div>Forests</div>
                </div>
                <div class="roadmap-step">
                    <div>Hands-on</div>
                    <div>Practice</div>
                </div>
            </div>
            
            <div class="interactive-poll">
                <h4>Prediction: Which will be more accurate?</h4>
                <div class="poll-options">
                    <div class="poll-option">Single Decision Tree</div>
                    <div class="poll-option">Random Forest (Multiple Trees)</div>
                </div>
            </div>
            
            <p style="margin-top: 30px; font-size: 1.4em; color: #2c3e50;"><strong>Timeline:</strong> 90 minutes to master tree-based machine learning</p>
        </div>

        <!-- Slide 5: What is a Decision Tree? -->
        <div class="slide">
            <h2>What is a Decision Tree?</h2>
            <h3>A series of yes/no questions leading to an answer</h3>
            
            <div class="tree-visual animated-tree">
                <div class="tree-node root">Should I bring an umbrella?</div>
                <div class="tree-branches">
                    <div style="display: flex; flex-direction: column; align-items: center;">
                        <div class="tree-node">Is it cloudy?</div>
                        <div style="display: flex; gap: 30px; margin-top: 20px;">
                            <div class="tree-node leaf">Yes → Bring it</div>
                            <div class="tree-node leaf">No → Leave it</div>
                        </div>
                    </div>
                    <div style="display: flex; flex-direction: column; align-items: center;">
                        <div class="tree-node">Check forecast?</div>
                        <div style="display: flex; gap: 30px; margin-top: 20px;">
                            <div class="tree-node leaf">Rain → Bring it</div>
                            <div class="tree-node leaf">Sun → Leave it</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="highlight">
                <p><strong>Key Insight:</strong> Decision trees mirror human decision-making processes. We naturally think in terms of sequential questions and logical rules.</p>
            </div>
            
            <p>In machine learning, we formalize this intuitive process using mathematical criteria to determine the optimal sequence of questions.</p>
        </div>

        <!-- Slide 6: Tree Anatomy -->
        <div class="slide">
            <h2>Tree Anatomy</h2>
            <h3>Understanding the structure</h3>
            
            <div style="display: flex; justify-content: space-between; align-items: flex-start; max-width: 1100px; margin: 40px 0;">
                <div class="tree-visual" style="flex: 1;">
                    <div class="tree-node root">Income ≥ $50K?</div>
                    <div class="tree-branches">
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <p style="margin: 10px 0; font-weight: 600;">Yes</p>
                            <div class="tree-node">Age ≥ 30?</div>
                            <div style="display: flex; gap: 20px; margin-top: 15px;">
                                <div style="text-align: center;">
                                    <p style="font-size: 0.9em; margin-bottom: 5px;">Yes</p>
                                    <div class="tree-node leaf">Responded</div>
                                </div>
                                <div style="text-align: center;">
                                    <p style="font-size: 0.9em; margin-bottom: 5px;">No</p>
                                    <div class="tree-node leaf">No Response</div>
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <p style="margin: 10px 0; font-weight: 600;">No</p>
                            <div class="tree-node">Loyalty Member?</div>
                            <div style="display: flex; gap: 20px; margin-top: 15px;">
                                <div style="text-align: center;">
                                    <p style="font-size: 0.9em; margin-bottom: 5px;">Yes</p>
                                    <div class="tree-node leaf">Responded</div>
                                </div>
                                <div style="text-align: center;">
                                    <p style="font-size: 0.9em; margin-bottom: 5px;">No</p>
                                    <div class="tree-node leaf">No Response</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="flex: 1; margin-left: 40px;">
                    <div class="comparison-item">
                        <h4>Tree Components</h4>
                        <ul>
                            <li><strong>Root Node:</strong> First decision point (Income ≥ $50K?)</li>
                            <li><strong>Internal Nodes:</strong> Intermediate decisions (Age ≥ 30?, Loyalty Member?)</li>
                            <li><strong>Leaf Nodes:</strong> Final predictions (Responded, No Response)</li>
                            <li><strong>Branches:</strong> Possible outcomes of each decision</li>
                        </ul>
                    </div>
                    
                    <div class="data-sample" style="margin-top: 20px;">
                        <h4>Sample Data Leading to Tree</h4>
                        <table class="data-table" style="font-size: 0.9em;">
                            <tr><th>Income</th><th>Age</th><th>Loyalty</th><th>Response</th></tr>
                            <tr><td>$75K</td><td>35</td><td>Yes</td><td>Yes</td></tr>
                            <tr><td>$30K</td><td>25</td><td>Yes</td><td>Yes</td></tr>
                            <tr><td>$45K</td><td>22</td><td>No</td><td>No</td></tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 7: Building Your First Tree (Demo) -->
        <div class="slide">
            <h2>Building Your First Tree (Demo)</h2>
            <h3>Step-by-step tree construction</h3>
            
            <div style="display: flex; justify-content: space-between; max-width: 1200px; margin: 40px 0;">
                <div style="flex: 1;">
                    <div class="data-sample">
                        <h4>Bank Loan Dataset</h4>
                        <table class="data-table" style="font-size: 1em;">
                            <thead>
                                <tr>
                                    <th>Income</th>
                                    <th>Credit Score</th>
                                    <th>Age</th>
                                    <th>Loan Approved</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>$80K</td><td>750</td><td>35</td><td><strong>Yes</strong></td></tr>
                                <tr><td>$35K</td><td>620</td><td>28</td><td><strong>No</strong></td></tr>
                                <tr><td>$65K</td><td>710</td><td>42</td><td><strong>Yes</strong></td></tr>
                                <tr><td>$25K</td><td>580</td><td>25</td><td><strong>No</strong></td></tr>
                                <tr><td>$90K</td><td>780</td><td>38</td><td><strong>Yes</strong></td></tr>
                                <tr><td>$40K</td><td>650</td><td>31</td><td><strong>No</strong></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div style="flex: 1; margin-left: 40px;">
                    <div class="algorithm-steps">
                        <div class="algorithm-step" id="step1">
                            <h4>Step 1: Choose Best Split</h4>
                            <p>Calculate information gain for each feature</p>
                        </div>
                        <div class="algorithm-step" id="step2">
                            <h4>Step 2: Split Dataset</h4>
                            <p>Divide data based on chosen feature</p>
                        </div>
                        <div class="algorithm-step" id="step3">
                            <h4>Step 3: Repeat Process</h4>
                            <p>Apply same logic to each subset</p>
                        </div>
                        <div class="algorithm-step" id="step4">
                            <h4>Step 4: Stop Condition</h4>
                            <p>When nodes are pure or depth limit reached</p>
                        </div>
                    </div>
                    
                    <button class="show-answer-btn" onclick="demonstrateTreeBuilding()">Demonstrate Tree Building</button>
                    
                    <div id="treeBuildingResult" class="answer-revealed">
                        <h4>Resulting Decision Tree:</h4>
                        <p><strong>Best first split:</strong> Credit Score ≥ 700</p>
                        <p><strong>Left branch:</strong> Income ≥ $60K → Final decision</p>
                        <p><strong>Right branch:</strong> All approved (pure node)</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 8: Information Gain Concept -->
        <div class="slide">
            <h2>Information Gain Concept</h2>
            <h3>How do we choose the best questions?</h3>
            
            <div style="display: flex; justify-content: space-between; max-width: 1200px; margin: 40px 0;">
                <div style="flex: 1;">
                    <h4>Before Split: Mixed Results</h4>
                    <div class="data-sample">
                        <table class="data-table">
                            <tr><th>Customer Type</th><th>Count</th><th>Response Rate</th></tr>
                            <tr><td>All Customers</td><td>100</td><td>50% (Mixed)</td></tr>
                        </table>
                        <div style="text-align: center; margin: 20px 0;">
                            <p style="background: #fff3cd; padding: 15px; border-radius: 8px; font-weight: 600;">
                                High Uncertainty: Equal mix of responses
                            </p>
                        </div>
                    </div>
                </div>
                
                <div style="flex: 1; margin-left: 40px;">
                    <h4>After Split: Reduced "Messiness"</h4>
                    <div class="data-sample">
                        <table class="data-table">
                            <tr><th>Customer Type</th><th>Count</th><th>Response Rate</th></tr>
                            <tr><td>High Income</td><td>40</td><td>80% (Clear)</td></tr>
                            <tr><td>Low Income</td><td>60</td><td>30% (Clear)</td></tr>
                        </table>
                        <div style="text-align: center; margin: 20px 0;">
                            <p style="background: #d4edda; padding: 15px; border-radius: 8px; font-weight: 600;">
                                Low Uncertainty: Clear patterns in each group
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="formula-box">
                <div class="formula">Information Gain = Entropy(Parent) - Weighted Average(Entropy(Children))</div>
                <p style="text-align: center; margin-top: 15px; color: #666;">
                    <strong>Goal:</strong> Maximize information gain by choosing splits that create the most homogeneous subgroups
                </p>
            </div>
            
            <div class="highlight">
                <p><strong>Intuition:</strong> Good splits transform confusion into clarity. We want each resulting group to be as "pure" as possible in terms of the target outcome.</p>
            </div>
        </div>

        <!-- Slide 9: Entropy Explained Simply -->
        <div class="slide">
            <h2>Entropy Explained Simply</h2>
            <h3>Entropy = measure of disorder/uncertainty</h3>
            
            <div class="entropy-visual">
                <div style="text-align: center;">
                    <h4>High Entropy (Mixed)</h4>
                    <div class="bag">
                        <div class="ball red"></div>
                        <div class="ball blue"></div>
                        <div class="ball red"></div>
                        <div class="ball green"></div>
                        <div class="ball blue"></div>
                        <div class="ball red"></div>
                        <div class="ball green"></div>
                        <div class="ball blue"></div>
                        <div class="ball red"></div>
                        <div class="ball green"></div>
                        <div class="ball blue"></div>
                        <div class="ball red"></div>
                    </div>
                    <p style="margin-top: 15px; font-weight: 600; color: #e74c3c;">Entropy ≈ 1.58</p>
                    <p>Highly unpredictable</p>
                </div>
                
                <div style="text-align: center;">
                    <h4>Low Entropy (Sorted)</h4>
                    <div class="bag">
                        <div class="ball red"></div>
                        <div class="ball red"></div>
                        <div class="ball red"></div>
                        <div class="ball red"></div>
                        <div class="ball red"></div>
                        <div class="ball red"></div>
                        <div class="ball red"></div>
                        <div class="ball red"></div>
                        <div class="ball red"></div>
                        <div class="ball red"></div>
                        <div class="ball red"></div>
                        <div class="ball red"></div>
                    </div>
                    <p style="margin-top: 15px; font-weight: 600; color: #27ae60;">Entropy = 0</p>
                    <p>Completely predictable</p>
                </div>
            </div>
            
            <div class="data-sample">
                <h4>Real Example: Customer Campaign Response</h4>
                <div style="display: flex; justify-content: space-between;">
                    <div style="flex: 1; text-align: center;">
                        <h5>All Customers</h5>
                        <p>50 Responded, 50 No Response</p>
                        <p style="color: #e74c3c; font-weight: 600;">Entropy = 1.0</p>
                    </div>
                    <div style="flex: 1; text-align: center;">
                        <h5>High Income Group</h5>
                        <p>80 Responded, 20 No Response</p>
                        <p style="color: #f39c12; font-weight: 600;">Entropy = 0.72</p>
                    </div>
                    <div style="flex: 1; text-align: center;">
                        <h5>Loyalty Members</h5>
                        <p>95 Responded, 5 No Response</p>
                        <p style="color: #27ae60; font-weight: 600;">Entropy = 0.29</p>
                    </div>
                </div>
            </div>
            
            <div class="formula-box">
                <div class="formula">Entropy = -Σ p(i) × log₂(p(i))</div>
                <p style="text-align: center; color: #666;">where p(i) is the proportion of samples belonging to class i</p>
            </div>
        </div>

        <!-- Slide 10: Gini Index Alternative -->
        <div class="slide">
            <h2>Gini Index Alternative</h2>
            <h3>Another way to measure purity</h3>
            
            <div class="highlight" style="margin-bottom: 30px;">
                <h4>What is Purity in Decision Trees?</h4>
                <p><strong>Purity</strong> means how "unmixed" or "homogeneous" a group is. Think of it like:</p>
                <ul style="text-align: left; max-width: 600px; margin: 15px auto;">
                    <li><strong>Pure milk:</strong> Only milk, no water mixed in</li>
                    <li><strong>Pure customer group:</strong> All customers behave the same way (all respond or all don't respond)</li>
                    <li><strong>Impure mixture:</strong> 50% responders, 50% non-responders = very mixed/impure</li>
                    <li><strong>High purity:</strong> 95% responders, 5% non-responders = almost pure</li>
                </ul>
                <p><strong>Goal:</strong> Split data to create the purest possible groups - where customers in each group behave as similarly as possible.</p>
            </div>
            
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Entropy</h4>
                    <ul>
                        <li>Range: 0 to log₂(classes)</li>
                        <li>Based on information theory</li>
                        <li>More computationally expensive</li>
                        <li>Emphasizes balanced splits</li>
                        <li>Formula: -Σ p(i) × log₂(p(i))</li>
                    </ul>
                </div>
                <div class="comparison-item">
                    <h4>Gini Index</h4>
                    <ul>
                        <li>Range: 0 to 0.5 (binary classification)</li>
                        <li>Based on probability theory</li>
                        <li>Faster to compute</li>
                        <li>Emphasizes largest class</li>
                        <li>Formula: 1 - Σ p(i)²</li>
                    </ul>
                </div>
            </div>
            
            <div class="hands-on-activity">
                <h4>Interactive Calculation: 2-Class Example</h4>
                <div class="activity-workspace">
                    <p><strong>Dataset:</strong> 60 customers responded, 40 did not respond</p>
                    <p><strong>Calculate Gini Index:</strong></p>
                    <p>p(Responded) = 60/100 = <span class="fill-blank" id="prob1">0.6</span></p>
                    <p>p(No Response) = 40/100 = <span class="fill-blank" id="prob2">0.4</span></p>
                    <p>Gini = 1 - (0.6² + 0.4²) = 1 - (<span class="fill-blank" id="calc1">0.36</span> + <span class="fill-blank" id="calc2">0.16</span>) = <span class="fill-blank" id="result">0.48</span></p>
                    
                    <button class="show-answer-btn" onclick="showGiniCalculation()">Show Complete Calculation</button>
                    
                    <div id="giniResult" class="answer-revealed">
                        <h5>Complete Solution:</h5>
                        <p>Gini Index = 1 - (0.6² + 0.4²) = 1 - (0.36 + 0.16) = 1 - 0.52 = <strong>0.48</strong></p>
                        <p><strong>Interpretation:</strong> Gini = 0.48 indicates moderate impurity. Lower values (closer to 0) represent more homogeneous groups, while higher values indicate more mixed groups.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 11: Hands-On Activity 1 -->
        <div class="slide">
            <h2>Hands-On Activity 1</h2>
            <h3>Calculate the best split for campaign response prediction</h3>
            
            <div style="display: flex; justify-content: space-between; max-width: 1200px; margin: 40px 0;">
                <div style="flex: 1;">
                    <div class="data-sample">
                        <h4>Customer Dataset (12 records)</h4>
                        <table class="data-table" style="font-size: 0.95em;">
                            <thead>
                                <tr>
                                    <th>Age</th>
                                    <th>Income</th>
                                    <th>Email Rate</th>
                                    <th>Response</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>25</td><td>35K</td><td>0.2</td><td>No</td></tr>
                                <tr><td>35</td><td>65K</td><td>0.6</td><td>Yes</td></tr>
                                <tr><td>45</td><td>85K</td><td>0.8</td><td>Yes</td></tr>
                                <tr><td>28</td><td>40K</td><td>0.3</td><td>No</td></tr>
                                <tr><td>52</td><td>95K</td><td>0.7</td><td>Yes</td></tr>
                                <tr><td>31</td><td>55K</td><td>0.4</td><td>Yes</td></tr>
                                <tr><td>42</td><td>75K</td><td>0.9</td><td>Yes</td></tr>
                                <tr><td>29</td><td>45K</td><td>0.1</td><td>No</td></tr>
                                <tr><td>38</td><td>70K</td><td>0.5</td><td>Yes</td></tr>
                                <tr><td>33</td><td>50K</td><td>0.3</td><td>No</td></tr>
                                <tr><td>47</td><td>90K</td><td>0.8</td><td>Yes</td></tr>
                                <tr><td>26</td><td>38K</td><td>0.2</td><td>No</td></tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="formula-box" style="margin-top: 20px;">
                        <h4>Key Formulas</h4>
                        <div class="formula">Entropy = -Σ p(i) × log₂(p(i))</div>
                        <div class="formula">Information Gain = Entropy(Parent) - Weighted Average(Entropy(Children))</div>
                        <p style="text-align: center; margin-top: 10px; color: #666; font-size: 0.9em;">
                            where p(i) is the proportion of samples in class i
                        </p>
                    </div>
                </div>
                
                <div style="flex: 1; margin-left: 40px;">
                    <div class="hands-on-activity">
                        <h4>Your Task: Find Best Split</h4>
                        <div class="activity-workspace">
                            <p><strong>1. Current entropy of all data:</strong></p>
                            <p>7 Yes, 5 No → Entropy = <input type="text" style="width: 80px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;" placeholder="0.00"></p>
                            
                            <p><strong>2. Test split: Email Rate ≥ 0.5</strong></p>
                            <p>Left branch (≥0.5): <input type="number" style="width: 50px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"> Yes, <input type="number" style="width: 50px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"> No</p>
                            <p>Right branch (<0.5): <input type="number" style="width: 50px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"> Yes, <input type="number" style="width: 50px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"> No</p>
                            
                            <p><strong>3. Calculate entropies for each branch:</strong></p>
                            <p>Entropy(Left) = <input type="text" style="width: 80px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;" placeholder="0.00"></p>
                            <p>Entropy(Right) = <input type="text" style="width: 80px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;" placeholder="0.00"></p>
                            
                            <p><strong>4. Calculate weighted average entropy:</strong></p>
                            <p>Weighted Avg = (<input type="number" style="width: 50px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;">/12) × <input type="text" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"> + (<input type="number" style="width: 50px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;">/12) × <input type="text" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"></p>
                            <p>= <input type="text" style="width: 80px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;" placeholder="0.00"></p>
                            
                            <p><strong>5. Calculate information gain:</strong></p>
                            <p>Information Gain = <input type="text" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"> - <input type="text" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"> = <input type="text" style="width: 80px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;" placeholder="0.00"></p>
                            
                            <button class="show-answer-btn" onclick="showActivitySolution()">Show Complete Solution</button>
                            
                            <div id="activityResult" class="answer-revealed">
                                <h5>Complete Solution:</h5>
                                <p><strong>1.</strong> Initial entropy: H(S) = -7/12×log₂(7/12) - 5/12×log₂(5/12) = <strong>0.98</strong></p>
                                <p><strong>2.</strong> Email Rate ≥ 0.5: 6 Yes, 0 No | Email Rate < 0.5: 1 Yes, 5 No</p>
                                <p><strong>3.</strong> Entropy(Left) = 0, Entropy(Right) = 0.65</p>
                                <p><strong>4.</strong> Weighted Avg = (6/12)×0 + (6/12)×0.65 = <strong>0.325</strong></p>
                                <p><strong>5.</strong> Information Gain = 0.98 - 0.325 = <strong>0.655</strong></p>
                                <p><strong>Conclusion:</strong> This is an excellent split with high information gain!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 12: Decision Tree Advantages & Limitations -->
        <div class="slide">
            <h2>Decision Tree Advantages & Limitations</h2>
            <h3>Understanding when to use single trees</h3>
            
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Advantages</h4>
                    <ul>
                        <li><strong>Interpretability:</strong> Easy to understand and explain to stakeholders</li>
                        <li><strong>No preprocessing:</strong> Handles both numerical and categorical data</li>
                        <li><strong>Feature selection:</strong> Automatically identifies important variables</li>
                        <li><strong>Non-linear relationships:</strong> Captures complex interactions</li>
                        <li><strong>Fast training:</strong> Efficient algorithm for large datasets</li>
                        <li><strong>Rule extraction:</strong> Can extract explicit if-then rules</li>
                    </ul>
                </div>
                <div class="comparison-item">
                    <h4>Limitations</h4>
                    <ul>
                        <li><strong>Overfitting:</strong> Can create overly complex trees</li>
                        <li><strong>Instability:</strong> Small data changes cause large tree changes</li>
                        <li><strong>Bias:</strong> Favors features with more levels</li>
                        <li><strong>Linear relationships:</strong> Poor at capturing linear patterns</li>
                        <li><strong>Greedy algorithm:</strong> May not find globally optimal tree</li>
                        <li><strong>Predictive accuracy:</strong> Often outperformed by ensemble methods</li>
                    </ul>
                </div>
            </div>
            
            <div class="highlight">
                <p><strong>Key Insight:</strong> Single decision trees are excellent for interpretation and quick insights, but their limitations motivate ensemble methods like Random Forests for improved predictive performance.</p>
            </div>
            
            <div class="algorithm-steps">
                <div class="algorithm-step">
                    <h4>Best Use Cases</h4>
                    <p>Exploratory analysis, rule generation, and situations requiring interpretability</p>
                </div>
                <div class="algorithm-step">
                    <h4>Alternative Solutions</h4>
                    <p>Random Forests for accuracy, pruning for overfitting, gradient boosting for performance</p>
                </div>
            </div>
        </div>

        <!-- Slide 13: The Wisdom of Crowds -->
        <div class="slide">
            <h2>The Wisdom of Crowds</h2>
            <h3>Why ask one expert when you can ask many?</h3>
            
            <div class="interactive-poll">
                <h4>Guess the Number of Jellybeans in the Jar</h4>
                <div style="background: #f8f9fa; border-radius: 15px; padding: 30px; margin: 30px 0;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div style="width: 150px; height: 200px; margin: 0 auto; position: relative;">
                            <!-- Simple jar shape -->
                            <div style="width: 120px; height: 160px; background: #ecf0f1; border: 4px solid #34495e; border-radius: 0 0 60px 60px; margin: 0 auto; position: relative; overflow: hidden;">
                                <!-- Jar lid -->
                                <div style="position: absolute; top: -8px; left: -8px; right: -8px; height: 16px; background: #95a5a6; border-radius: 8px; border: 2px solid #34495e;"></div>
                                
                                <!-- Jellybeans inside jar -->
                                <div style="position: absolute; top: 20px; left: 10px; right: 10px; bottom: 20px;">
                                    <div style="display: flex; flex-wrap: wrap; gap: 2px; justify-content: center;">
                                        <div style="width: 12px; height: 8px; background: #e74c3c; border-radius: 50%; transform: rotate(15deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #27ae60; border-radius: 50%; transform: rotate(-20deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #3498db; border-radius: 50%; transform: rotate(45deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #f39c12; border-radius: 50%; transform: rotate(-10deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #9b59b6; border-radius: 50%; transform: rotate(30deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #e67e22; border-radius: 50%; transform: rotate(-45deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #e74c3c; border-radius: 50%; transform: rotate(20deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #27ae60; border-radius: 50%; transform: rotate(-30deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #3498db; border-radius: 50%; transform: rotate(10deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #f39c12; border-radius: 50%; transform: rotate(-15deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #9b59b6; border-radius: 50%; transform: rotate(35deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #e67e22; border-radius: 50%; transform: rotate(-25deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #e74c3c; border-radius: 50%; transform: rotate(40deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #27ae60; border-radius: 50%; transform: rotate(-40deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #3498db; border-radius: 50%; transform: rotate(25deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #f39c12; border-radius: 50%; transform: rotate(-35deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #9b59b6; border-radius: 50%; transform: rotate(50deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #e67e22; border-radius: 50%; transform: rotate(-50deg);"></div>
                                    </div>
                                    <!-- Add more rows -->
                                    <div style="display: flex; flex-wrap: wrap; gap: 2px; justify-content: center; margin-top: 5px;">
                                        <div style="width: 12px; height: 8px; background: #e74c3c; border-radius: 50%; transform: rotate(60deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #27ae60; border-radius: 50%; transform: rotate(-60deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #3498db; border-radius: 50%; transform: rotate(15deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #f39c12; border-radius: 50%; transform: rotate(-45deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #9b59b6; border-radius: 50%; transform: rotate(30deg);"></div>
                                        <div style="width: 12px; height: 8px; background: #e67e22; border-radius: 50%; transform: rotate(-20deg);"></div>
                                    </div>
                                    <!-- Visual indication of more jellybeans -->
                                    <div style="text-align: center; margin-top: 10px; color: #7f8c8d; font-size: 0.8em;">⋮ ⋮ ⋮</div>
                                </div>
                            </div>
                        </div>
                        <p style="margin-top: 15px; font-weight: 600; color: #2c3e50;">Glass Jar with Colorful Jellybeans</p>
                    </div>
                    <div class="poll-options">
                        <div class="poll-option">150-200</div>
                        <div class="poll-option">250-300</div>
                        <div class="poll-option">350-400</div>
                        <div class="poll-option">450-500</div>
                    </div>
                </div>
            </div>
            
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Individual Expert Prediction</h4>
                    <ul>
                        <li>Single point of view</li>
                        <li>Personal biases affect judgment</li>
                        <li>Can be significantly wrong</li>
                        <li>High variance in predictions</li>
                        <li><strong>Example:</strong> One person guesses 275 jellybeans</li>
                    </ul>
                </div>
                <div class="comparison-item">
                    <h4>Crowd Average Prediction</h4>
                    <ul>
                        <li>Multiple diverse perspectives</li>
                        <li>Individual biases cancel out</li>
                        <li>Consistently more accurate</li>
                        <li>Lower variance, higher reliability</li>
                        <li><strong>Example:</strong> 100 people average to 287 jellybeans</li>
                    </ul>
                </div>
            </div>
            
            <div class="highlight">
                <p><strong>Francis Galton's Discovery (1907):</strong> The average guess of 787 people at a county fair was 1,207 pounds for an ox weight. The actual weight was 1,198 pounds - remarkably close!</p>
            </div>
            
            <p style="font-size: 1.4em; text-align: center; margin-top: 30px; color: #2c3e50;">
                <strong>This principle forms the foundation of ensemble methods in machine learning.</strong>
            </p>
        </div>

        <!-- Slide 14: Random Forest Overview -->
        <div class="slide">
            <h2>Random Forest Overview</h2>
            <h3>Multiple trees → majority vote → better predictions</h3>
            
            <div class="forest-visual">
                <div class="tree-box">
                    <div class="mini-tree"></div>
                    <h4>Tree 1</h4>
                    <p>Prediction: <strong style="color: #27ae60;">Responded</strong></p>
                    <p style="font-size: 0.9em; color: #666;">Based on Income & Age</p>
                </div>
                <div class="tree-box">
                    <div class="mini-tree"></div>
                    <h4>Tree 2</h4>
                    <p>Prediction: <strong style="color: #e74c3c;">No Response</strong></p>
                    <p style="font-size: 0.9em; color: #666;">Based on Email Rate & Loyalty</p>
                </div>
                <div class="tree-box">
                    <div class="mini-tree"></div>
                    <h4>Tree 3</h4>
                    <p>Prediction: <strong style="color: #27ae60;">Responded</strong></p>
                    <p style="font-size: 0.9em; color: #666;">Based on Age & Transaction History</p>
                </div>
            </div>
            
            <div class="voting-box">
                <h4>Majority Vote Process</h4>
                <div style="display: flex; justify-content: space-around; margin: 20px 0;">
                    <div style="text-align: center;">
                        <div style="width: 60px; height: 60px; background: #27ae60; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; margin: 0 auto 10px auto;">2</div>
                        <p>Responded</p>
                    </div>
                    <div style="text-align: center; margin: 0 20px;">
                        <p style="font-size: 2em; color: #3498db;">vs</p>
                    </div>
                    <div style="text-align: center;">
                        <div style="width: 60px; height: 60px; background: #e74c3c; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; margin: 0 auto 10px auto;">1</div>
                        <p>No Response</p>
                    </div>
                </div>
                <div class="vote-result">Final Prediction: Responded</div>
            </div>
            
            <div class="data-sample">
                <h4>Sample Customer: Jane, Age 35, Income $65K, Email Rate 0.6, Loyalty Member</h4>
                <table class="data-table">
                    <tr><th>Tree</th><th>Features Used</th><th>Prediction</th><th>Confidence</th></tr>
                    <tr><td>1</td><td>Income, Age</td><td>Responded</td><td>0.8</td></tr>
                    <tr><td>2</td><td>Email Rate, Loyalty</td><td>No Response</td><td>0.6</td></tr>
                    <tr><td>3</td><td>Age, Transaction History</td><td>Responded</td><td>0.9</td></tr>
                </table>
            </div>
        </div>

        <!-- Slide 15: Bootstrapping Explained -->
        <div class="slide">
            <h2>Bootstrapping Explained</h2>
            <h3>Creating different training sets from same data</h3>
            
            <div style="display: flex; justify-content: space-between; max-width: 1200px; margin: 40px 0;">
                <div style="flex: 1;">
                    <h4>Original Dataset (N=12 customers)</h4>
                    <div class="data-sample">
                        <table class="data-table" style="font-size: 0.9em;">
                            <thead>
                                <tr><th>ID</th><th>Age</th><th>Income</th><th>Response</th></tr>
                            </thead>
                            <tbody>
                                <tr><td>C1</td><td>25</td><td>35K</td><td>No</td></tr>
                                <tr><td>C2</td><td>35</td><td>65K</td><td>Yes</td></tr>
                                <tr><td>C3</td><td>45</td><td>85K</td><td>Yes</td></tr>
                                <tr><td>C4</td><td>28</td><td>40K</td><td>No</td></tr>
                                <tr><td>C5</td><td>52</td><td>95K</td><td>Yes</td></tr>
                                <tr><td>C6</td><td>31</td><td>55K</td><td>Yes</td></tr>
                                <tr><td>C7</td><td>42</td><td>75K</td><td>Yes</td></tr>
                                <tr><td>C8</td><td>29</td><td>45K</td><td>No</td></tr>
                                <tr><td>C9</td><td>38</td><td>70K</td><td>Yes</td></tr>
                                <tr><td>C10</td><td>33</td><td>50K</td><td>No</td></tr>
                                <tr><td>C11</td><td>47</td><td>90K</td><td>Yes</td></tr>
                                <tr><td>C12</td><td>26</td><td>38K</td><td>No</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div style="flex: 1; margin-left: 40px;">
                    <h4>Bootstrap Samples (with replacement)</h4>
                    <div class="algorithm-steps">
                        <div class="algorithm-step">
                            <h4>Bootstrap Sample 1</h4>
                            <p><strong>Selected:</strong> C1, C3, C3, C5, C7, C2, C9, C11, C4, C6, C8, C1</p>
                            <p style="color: #666; font-size: 0.9em;">Note: C3 and C1 appear twice</p>
                        </div>
                        <div class="algorithm-step">
                            <h4>Bootstrap Sample 2</h4>
                            <p><strong>Selected:</strong> C2, C4, C6, C8, C10, C12, C5, C7, C9, C2, C11, C6</p>
                            <p style="color: #666; font-size: 0.9em;">Note: C2 and C6 appear twice</p>
                        </div>
                        <div class="algorithm-step">
                            <h4>Bootstrap Sample 3</h4>
                            <p><strong>Selected:</strong> C5, C1, C9, C11, C3, C7, C4, C8, C10, C12, C5, C9</p>
                            <p style="color: #666; font-size: 0.9em;">Note: C5 and C9 appear twice</p>
                        </div>
                    </div>
                    
                    <div class="highlight">
                        <p><strong>Key Principle:</strong> Each bootstrap sample is the same size as the original dataset but contains different combinations of records. This creates diverse training sets for each tree.</p>
                    </div>
                    
                    <button class="show-answer-btn" onclick="simulateBootstrap()">Simulate Physical Card Drawing</button>
                    
                    <div id="bootstrapSimulation" class="answer-revealed">
                        <h5>Physical Simulation Process:</h5>
                        <ol style="text-align: left; max-width: 400px; margin: 0 auto;">
                            <li>Place 12 customer cards in a bag</li>
                            <li>Draw one card, record it, put it back</li>
                            <li>Repeat 12 times for one bootstrap sample</li>
                            <li>Create new bag for next bootstrap sample</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 16: Feature Randomness -->
        <div class="slide">
            <h2>Feature Randomness</h2>
            <h3>Each tree considers only some features</h3>
            
            <div style="display: flex; justify-content: space-between; max-width: 1200px; margin: 40px 0;">
                <div style="flex: 1;">
                    <h4>Available Features in Dataset</h4>
                    <div class="data-sample">
                        <ul style="list-style: none; padding: 0;">
                            <li style="background: #e8f4f8; padding: 10px; margin: 5px 0; border-radius: 5px;">1. Age</li>
                            <li style="background: #e8f4f8; padding: 10px; margin: 5px 0; border-radius: 5px;">2. Income</li>
                            <li style="background: #e8f4f8; padding: 10px; margin: 5px 0; border-radius: 5px;">3. Email Open Rate</li>
                            <li style="background: #e8f4f8; padding: 10px; margin: 5px 0; border-radius: 5px;">4. Loyalty Member</li>
                            <li style="background: #e8f4f8; padding: 10px; margin: 5px 0; border-radius: 5px;">5. Previous Purchases</li>
                            <li style="background: #e8f4f8; padding: 10px; margin: 5px 0; border-radius: 5px;">6. Days Since Last Purchase</li>
                            <li style="background: #e8f4f8; padding: 10px; margin: 5px 0; border-radius: 5px;">7. Average Transaction Value</li>
                            <li style="background: #e8f4f8; padding: 10px; margin: 5px 0; border-radius: 5px;">8. Preferred Channel</li>
                        </ul>
                        <p style="text-align: center; font-weight: 600; margin-top: 20px;">
                            Total Features: 8<br>
                            Typical Selection: √8 ≈ 3 features per split
                        </p>
                    </div>
                </div>
                
                <div style="flex: 1; margin-left: 40px;">
                    <h4>Feature Subsets for Different Trees</h4>
                    <div class="forest-visual" style="grid-template-columns: 1fr; gap: 15px;">
                        <div class="tree-box">
                            <div style="display: flex; justify-content: center; margin-bottom: 15px;">
                                <svg width="60" height="40" viewBox="0 0 60 40">
                                    <circle cx="30" cy="8" r="6" fill="#e74c3c"/>
                                    <line x1="30" y1="14" x2="15" y2="25" stroke="#3498db" stroke-width="2"/>
                                    <line x1="30" y1="14" x2="45" y2="25" stroke="#3498db" stroke-width="2"/>
                                    <circle cx="15" cy="25" r="4" fill="#27ae60"/>
                                    <circle cx="45" cy="25" r="4" fill="#27ae60"/>
                                </svg>
                            </div>
                            <h5>Tree 1 Features</h5>
                            <p style="background: #d4edda; padding: 8px; border-radius: 5px; font-size: 0.9em;">
                                Age, Income, Email Rate
                            </p>
                        </div>
                        <div class="tree-box">
                            <div style="display: flex; justify-content: center; margin-bottom: 15px;">
                                <svg width="60" height="40" viewBox="0 0 60 40">
                                    <circle cx="30" cy="8" r="6" fill="#e74c3c"/>
                                    <line x1="30" y1="14" x2="15" y2="25" stroke="#3498db" stroke-width="2"/>
                                    <line x1="30" y1="14" x2="45" y2="25" stroke="#3498db" stroke-width="2"/>
                                    <circle cx="15" cy="25" r="4" fill="#27ae60"/>
                                    <circle cx="45" cy="25" r="4" fill="#27ae60"/>
                                </svg>
                            </div>
                            <h5>Tree 2 Features</h5>
                            <p style="background: #fff3cd; padding: 8px; border-radius: 5px; font-size: 0.9em;">
                                Loyalty, Previous Purchases, Channel
                            </p>
                        </div>
                        <div class="tree-box">
                            <div style="display: flex; justify-content: center; margin-bottom: 15px;">
                                <svg width="60" height="40" viewBox="0 0 60 40">
                                    <circle cx="30" cy="8" r="6" fill="#e74c3c"/>
                                    <line x1="30" y1="14" x2="15" y2="25" stroke="#3498db" stroke-width="2"/>
                                    <line x1="30" y1="14" x2="45" y2="25" stroke="#3498db" stroke-width="2"/>
                                    <circle cx="15" cy="25" r="4" fill="#27ae60"/>
                                    <circle cx="45" cy="25" r="4" fill="#27ae60"/>
                                </svg>
                            </div>
                            <h5>Tree 3 Features</h5>
                            <p style="background: #f8d7da; padding: 8px; border-radius: 5px; font-size: 0.9em;">
                                Income, Days Since Purchase, Transaction Value
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Without Feature Randomness</h4>
                    <ul>
                        <li>Strong features dominate all trees</li>
                        <li>Trees become very similar</li>
                        <li>Limited diversity in predictions</li>
                        <li>Higher correlation between trees</li>
                        <li>Reduced ensemble benefit</li>
                    </ul>
                </div>
                <div class="comparison-item">
                    <h4>With Feature Randomness</h4>
                    <ul>
                        <li>Each tree focuses on different aspects</li>
                        <li>Diverse decision-making strategies</li>
                        <li>Captures various feature interactions</li>
                        <li>Lower correlation between trees</li>
                        <li>Improved ensemble performance</li>
                    </ul>
                </div>
            </div>
            
            <div class="highlight">
                <p><strong>Benefit:</strong> Feature randomness prevents any single strong predictor from dominating the forest, ensuring each tree contributes unique insights to the final prediction.</p>
            </div>
        </div>

        <!-- Slide 17: Random Forest Algorithm -->
        <div class="slide">
            <h2>Random Forest Algorithm</h2>
            <h3>4 simple steps with clear process</h3>
            
            <div class="workflow-container">
                <div class="workflow-step">
                    <h4>1. Bootstrap Sampling</h4>
                    <p>Create B bootstrap samples from original dataset with replacement</p>
                    <div style="margin-top: 15px; font-size: 0.9em; color: #666;">
                        <strong>Example:</strong> For 1000 customers, create 100 different samples of 1000 customers each
                    </div>
                </div>
                <div class="workflow-step">
                    <h4>2. Random Features</h4>
                    <p>For each split, randomly select √p features from p total features</p>
                    <div style="margin-top: 15px; font-size: 0.9em; color: #666;">
                        <strong>Example:</strong> From 8 features, randomly choose 3 for each decision node
                    </div>
                </div>
                <div class="workflow-step">
                    <h4>3. Build Trees</h4>
                    <p>Train decision trees on bootstrap samples using random feature subsets</p>
                    <div style="margin-top: 15px; font-size: 0.9em; color: #666;">
                        <strong>Example:</strong> Grow 100 trees, each trained on different data and features
                    </div>
                </div>
                <div class="workflow-step">
                    <h4>4. Aggregate Predictions</h4>
                    <p>Combine predictions through majority vote (classification) or averaging (regression)</p>
                    <div style="margin-top: 15px; font-size: 0.9em; color: #666;">
                        <strong>Example:</strong> If 70 trees predict "Responded", final prediction is "Responded"
                    </div>
                </div>
            </div>
            
            <div style="display: flex; justify-content: space-between; max-width: 1000px; margin: 40px 0;">
                <div style="flex: 1;">
                    <div class="data-sample">
                        <h4>Implementation Example</h4>
                        <div style="font-family: monospace; background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: left;">
                            <p><strong>Original Data:</strong> 1000 customers, 8 features</p>
                            <p><strong>Bootstrap Samples:</strong> 100 samples of 1000 customers each</p>
                            <p><strong>Feature Selection:</strong> √8 ≈ 3 features per split</p>
                            <p><strong>Trees:</strong> 100 decision trees trained independently</p>
                            <p><strong>Prediction:</strong> Majority vote from all 100 trees</p>
                        </div>
                    </div>
                </div>
                <div style="flex: 1; margin-left: 40px;">
                    <div class="forest-visual" style="grid-template-columns: repeat(2, 1fr); gap: 15px;">
                        <div class="tree-box" style="font-size: 0.9em;">
                            <div class="mini-tree"></div>
                            <p><strong>Sample 1</strong><br>Features: Age, Income, Email</p>
                        </div>
                        <div class="tree-box" style="font-size: 0.9em;">
                            <div class="mini-tree"></div>
                            <p><strong>Sample 2</strong><br>Features: Loyalty, Purchases, Channel</p>
                        </div>
                        <div style="text-align: center; grid-column: span 2; padding: 20px;">
                            <p style="font-size: 1.2em; color: #3498db;">⋮</p>
                            <p><strong>96 more trees...</strong></p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="highlight">
                <p><strong>Key Insight:</strong> The algorithm's simplicity belies its power. Random sampling in both data and features creates diversity, while aggregation harnesses the collective intelligence of the forest.</p>
            </div>
        </div>

        <!-- Slide 18: Evaluation -->
        <div class="slide">
            <h2>Model Evaluation</h2>
            <h3>Understanding performance through confusion matrix and metrics</h3>
            
            <div style="display: flex; justify-content: space-between; max-width: 1200px; margin: 40px 0;">
                <div style="flex: 1;">
                    <h4>Confusion Matrix</h4>
                    <div class="confusion-matrix">
                        <div class="matrix-cell header"></div>
                        <div class="matrix-cell header">Predicted: No</div>
                        <div class="matrix-cell header">Predicted: Yes</div>
                        <div class="matrix-cell header">Actual: No</div>
                        <div class="matrix-cell true-negative">85<br><small>True Negative</small></div>
                        <div class="matrix-cell false-positive">15<br><small>False Positive</small></div>
                        <div class="matrix-cell header">Actual: Yes</div>
                        <div class="matrix-cell false-negative">10<br><small>False Negative</small></div>
                        <div class="matrix-cell true-positive">90<br><small>True Positive</small></div>
                    </div>
                    
                    <div class="data-sample" style="margin-top: 20px;">
                        <h5>Sample Dataset Results (200 customers)</h5>
                        <p><strong>True Negatives:</strong> 85 correctly predicted non-responders</p>
                        <p><strong>True Positives:</strong> 90 correctly predicted responders</p>
                        <p><strong>False Positives:</strong> 15 incorrectly predicted responders</p>
                        <p><strong>False Negatives:</strong> 10 missed responders</p>
                    </div>
                </div>
                
                <div style="flex: 1; margin-left: 40px;">
                    <h4>Performance Metrics</h4>
                    <div class="algorithm-steps">
                        <div class="algorithm-step">
                            <h4>Accuracy</h4>
                            <p><strong>Formula:</strong> (TP + TN) / Total</p>
                            <p><strong>Result:</strong> (90 + 85) / 200 = <strong>87.5%</strong></p>
                            <p style="font-size: 0.9em; color: #666;">Overall correctness of predictions</p>
                        </div>
                        <div class="algorithm-step">
                            <h4>Precision</h4>
                            <p><strong>Formula:</strong> TP / (TP + FP)</p>
                            <p><strong>Result:</strong> 90 / (90 + 15) = <strong>85.7%</strong></p>
                            <p style="font-size: 0.9em; color: #666;">Of predicted responders, how many actually responded?</p>
                        </div>
                        <div class="algorithm-step">
                            <h4>Recall (Sensitivity)</h4>
                            <p><strong>Formula:</strong> TP / (TP + FN)</p>
                            <p><strong>Result:</strong> 90 / (90 + 10) = <strong>90.0%</strong></p>
                            <p style="font-size: 0.9em; color: #666;">Of actual responders, how many did we find?</p>
                        </div>
                        <div class="algorithm-step">
                            <h4>F1-Score</h4>
                            <p><strong>Formula:</strong> 2 × (Precision × Recall) / (Precision + Recall)</p>
                            <p><strong>Result:</strong> 2 × (0.857 × 0.90) / (0.857 + 0.90) = <strong>87.8%</strong></p>
                            <p style="font-size: 0.9em; color: #666;">Harmonic mean of precision and recall</p>
                        </div>
                    </div>
                    
                    <div class="highlight">
                        <p><strong>Interpretation:</strong> This model shows strong performance with high accuracy and balanced precision/recall. The 87.5% accuracy means we correctly identify customer response 7 out of 8 times.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 19: Random Forest vs Single Tree -->
        <div class="slide">
            <h2>Random Forest vs Single Tree</h2>
            <h3>Accuracy, interpretability, and speed trade-offs</h3>
            
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Single Decision Tree</h4>
                    <ul>
                        <li><strong>Accuracy:</strong> Moderate (70-80% typical)</li>
                        <li><strong>Interpretability:</strong> Excellent - clear rules</li>
                        <li><strong>Training Speed:</strong> Very fast</li>
                        <li><strong>Prediction Speed:</strong> Very fast</li>
                        <li><strong>Overfitting:</strong> High risk</li>
                        <li><strong>Stability:</strong> Low - sensitive to data changes</li>
                        <li><strong>Feature Importance:</strong> Limited perspective</li>
                        <li><strong>Memory Usage:</strong> Very low</li>
                    </ul>
                </div>
                <div class="comparison-item">
                    <h4>Random Forest</h4>
                    <ul>
                        <li><strong>Accuracy:</strong> High (85-95% typical)</li>
                        <li><strong>Interpretability:</strong> Moderate - feature importance</li>
                        <li><strong>Training Speed:</strong> Slower (parallel processing helps)</li>
                        <li><strong>Prediction Speed:</strong> Moderate</li>
                        <li><strong>Overfitting:</strong> Low risk - built-in regularization</li>
                        <li><strong>Stability:</strong> High - robust to data variations</li>
                        <li><strong>Feature Importance:</strong> Comprehensive ranking</li>
                        <li><strong>Memory Usage:</strong> Higher (stores multiple trees)</li>
                    </ul>
                </div>
            </div>
            
            <div class="hands-on-activity">
                <h4>Scenario Decision Guide</h4>
                <div class="activity-workspace">
                    <p><strong>Categorize these scenarios for Single Tree vs Random Forest:</strong></p>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 20px 0;">
                        <div style="background: #fff; border: 2px solid #ddd; padding: 15px; border-radius: 8px;">
                            <h5>Scenario A: Medical Diagnosis</h5>
                            <p>Doctor needs to understand exactly why the system made a diagnosis recommendation.</p>
                            <div class="poll-options">
                                <div class="poll-option" onclick="highlightChoice(this, 'correct')">Single Tree</div>
                                <div class="poll-option" onclick="highlightChoice(this, 'incorrect')">Random Forest</div>
                            </div>
                        </div>
                        
                        <div style="background: #fff; border: 2px solid #ddd; padding: 15px; border-radius: 8px;">
                            <h5>Scenario B: Credit Card Fraud</h5>
                            <p>Bank needs highest possible accuracy to minimize false positives and false negatives.</p>
                            <div class="poll-options">
                                <div class="poll-option" onclick="highlightChoice(this, 'incorrect')">Single Tree</div>
                                <div class="poll-option" onclick="highlightChoice(this, 'correct')">Random Forest</div>
                            </div>
                        </div>
                        
                        <div style="background: #fff; border: 2px solid #ddd; padding: 15px; border-radius: 8px;">
                            <h5>Scenario C: Mobile App</h5>
                            <p>Real-time recommendations with millisecond response requirements.</p>
                            <div class="poll-options">
                                <div class="poll-option" onclick="highlightChoice(this, 'correct')">Single Tree</div>
                                <div class="poll-option" onclick="highlightChoice(this, 'incorrect')">Random Forest</div>
                            </div>
                        </div>
                        
                        <div style="background: #fff; border: 2px solid #ddd; padding: 15px; border-radius: 8px;">
                            <h5>Scenario D: Marketing Campaign</h5>
                            <p>Optimize customer targeting with large dataset and complex patterns.</p>
                            <div class="poll-options">
                                <div class="poll-option" onclick="highlightChoice(this, 'incorrect')">Single Tree</div>
                                <div class="poll-option" onclick="highlightChoice(this, 'correct')">Random Forest</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 20: Evaluation Quiz -->
        <div class="slide">
            <h2>Evaluation Quiz</h2>
            <h3>Test your understanding: Calculate model performance</h3>
            
            <div style="display: flex; justify-content: space-between; max-width: 1200px; margin: 40px 0;">
                <div style="flex: 1;">
                    <h4>Scenario: Email Marketing Campaign Prediction</h4>
                    <div class="data-sample">
                        <p>Your Random Forest model predicted customer responses for 500 customers. Here are the results:</p>
                        <div class="confusion-matrix">
                            <div class="matrix-cell header"></div>
                            <div class="matrix-cell header">Predicted: No Response</div>
                            <div class="matrix-cell header">Predicted: Responded</div>
                            <div class="matrix-cell header">Actual: No Response</div>
                            <div class="matrix-cell true-negative">220</div>
                            <div class="matrix-cell false-positive">30</div>
                            <div class="matrix-cell header">Actual: Responded</div>
                            <div class="matrix-cell false-negative">40</div>
                            <div class="matrix-cell true-positive">210</div>
                        </div>
                        <div style="margin-top: 20px;">
                            <p><strong>Total Customers:</strong> 500</p>
                            <p><strong>True Negatives (TN):</strong> 220</p>
                            <p><strong>False Positives (FP):</strong> 30</p>
                            <p><strong>False Negatives (FN):</strong> 40</p>
                            <p><strong>True Positives (TP):</strong> 210</p>
                        </div>
                    </div>
                </div>
                
                <div style="flex: 1; margin-left: 40px;">
                    <h4>Calculate Performance Metrics</h4>
                    <div class="hands-on-activity">
                        <div class="activity-workspace">
                            <div style="margin-bottom: 25px;">
                                <h5>1. Accuracy</h5>
                                <p>Formula: (TP + TN) / Total</p>
                                <p>Calculation: (<input type="number" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"> + <input type="number" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;">) / <input type="number" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"></p>
                                <p>Result: <input type="text" style="width: 80px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;" placeholder="0.00"> or <input type="text" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;" placeholder="00">%</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h5>2. Precision</h5>
                                <p>Formula: TP / (TP + FP)</p>
                                <p>Calculation: <input type="number" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"> / (<input type="number" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"> + <input type="number" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;">)</p>
                                <p>Result: <input type="text" style="width: 80px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;" placeholder="0.00"> or <input type="text" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;" placeholder="00">%</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h5>3. Recall (Sensitivity)</h5>
                                <p>Formula: TP / (TP + FN)</p>
                                <p>Calculation: <input type="number" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"> / (<input type="number" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;"> + <input type="number" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;">)</p>
                                <p>Result: <input type="text" style="width: 80px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;" placeholder="0.00"> or <input type="text" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;" placeholder="00">%</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h5>4. F1-Score</h5>
                                <p>Formula: 2 × (Precision × Recall) / (Precision + Recall)</p>
                                <p>Using your calculated Precision and Recall values:</p>
                                <p>F1-Score: <input type="text" style="width: 80px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;" placeholder="0.00"> or <input type="text" style="width: 60px; padding: 5px; margin: 0 5px; border: 2px solid #3498db; border-radius: 4px;" placeholder="00">%</p>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #e8f4f8; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h5>Business Interpretation</h5>
                        <p style="text-align: left; font-size: 0.95em;">After calculating the metrics above, write a brief interpretation:</p>
                        <textarea style="width: 100%; height: 80px; padding: 10px; border: 2px solid #3498db; border-radius: 5px; font-family: Helvetica, Arial, sans-serif; resize: vertical;" placeholder="How would you explain this model's performance to a marketing manager? What do these numbers mean for the business?"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 21: Summary and Next Steps -->
        <div class="slide">
            <h2>Summary and Next Steps</h2>
            <h3>From trees to forests: A journey in ensemble learning</h3>
            
            <div class="learning-objectives">
                <div class="objective">
                    <h4>What We Learned</h4>
                    <p>Decision trees make predictions through hierarchical splits, Random forests combine multiple trees for better accuracy, Ensemble methods leverage the wisdom of crowds</p>
                </div>
                <div class="objective">
                    <h4>Key Takeaways</h4>
                    <p>Single trees are interpretable but prone to overfitting, Random forests trade interpretability for robustness, Bootstrap sampling and feature randomness create diversity</p>
                </div>
                <div class="objective">
                    <h4>Practical Applications</h4>
                    <p>Customer segmentation and campaign optimization, Risk assessment and fraud detection, Recommendation systems and personalization</p>
                </div>
            </div>
            
            <div class="roadmap" style="margin: 50px 0;">
                <div class="roadmap-step" style="background: #d4edda; border-color: #27ae60;">
                    <div>Decision</div>
                    <div>Trees ✓</div>
                </div>
                <div class="roadmap-step" style="background: #d4edda; border-color: #27ae60;">
                    <div>Random</div>
                    <div>Forests ✓</div>
                </div>
                <div class="roadmap-step" style="background: #fff3cd; border-color: #f39c12;">
                    <div>Next:</div>
                    <div>Boosting</div>
                </div>
                <div class="roadmap-step" style="background: #fff3cd; border-color: #f39c12;">
                    <div>Advanced:</div>
                    <div>Deep Learning</div>
                </div>
            </div>
            
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Immediate Next Steps</h4>
                    <ul>
                        <li>Practice with the retail campaign dataset</li>
                        <li>Implement Random Forest in Python/R</li>
                        <li>Compare performance with single trees</li>
                        <li>Analyze feature importance rankings</li>
                        <li>Experiment with hyperparameter tuning</li>
                    </ul>
                </div>
                <div class="comparison-item">
                    <h4>Advanced Topics to Explore</h4>
                    <ul>
                        <li>Gradient Boosting (XGBoost, LightGBM)</li>
                        <li>Out-of-bag error estimation</li>
                        <li>Handling imbalanced datasets</li>
                        <li>Feature engineering for tree-based models</li>
                        <li>Model interpretability techniques (SHAP, LIME)</li>
                    </ul>
                </div>
            </div>
            
            <div class="highlight" style="margin-top: 40px;">
                <p style="font-size: 1.3em;"><strong>Remember:</strong> Machine learning is about finding patterns in data to make predictions. Tree-based methods excel at capturing non-linear relationships while remaining relatively interpretable - making them invaluable tools in the data scientist's toolkit.</p>
            </div>
        </div>
    </div>

    <div class="navigation">
        <button class="nav-btn" onclick="previousSlide()" id="prevBtn">Previous</button>
        <span class="slide-counter"><span id="currentSlide">1</span> / 21</span>
        <button class="nav-btn" onclick="nextSlide()" id="nextBtn">Next</button>
    </div>

    <script>
        let currentSlideIndex = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        function showSlide(index) {
            slides.forEach(slide => slide.classList.remove('active'));
            slides[index].classList.add('active');
            
            document.getElementById('currentSlide').textContent = index + 1;
            document.getElementById('prevBtn').disabled = index === 0;
            document.getElementById('nextBtn').disabled = index === totalSlides - 1;
        }

        function nextSlide() {
            if (currentSlideIndex < totalSlides - 1) {
                currentSlideIndex++;
                showSlide(currentSlideIndex);
            }
        }

        function previousSlide() {
            if (currentSlideIndex > 0) {
                currentSlideIndex--;
                showSlide(currentSlideIndex);
            }
        }

        function showPollResult() {
            document.getElementById('pollResult').style.display = 'block';
        }

        function demonstrateTreeBuilding() {
            const result = document.getElementById('treeBuildingResult');
            result.classList.add('show');
            
            // Animate steps
            const steps = ['step1', 'step2', 'step3', 'step4'];
            steps.forEach((step, index) => {
                setTimeout(() => {
                    document.getElementById(step).style.background = '#d4edda';
                    document.getElementById(step).style.borderColor = '#27ae60';
                }, index * 500);
            });
        }

        function showGiniCalculation() {
            document.getElementById('giniResult').classList.add('show');
            
            // Fill in the blanks with animation
            setTimeout(() => document.getElementById('prob1').textContent = '0.6', 200);
            setTimeout(() => document.getElementById('prob2').textContent = '0.4', 400);
            setTimeout(() => document.getElementById('calc1').textContent = '0.36', 600);
            setTimeout(() => document.getElementById('calc2').textContent = '0.16', 800);
            setTimeout(() => document.getElementById('result').textContent = '0.48', 1000);
        }

        function showActivitySolution() {
            document.getElementById('activityResult').classList.add('show');
        }

        function simulateBootstrap() {
            document.getElementById('bootstrapSimulation').classList.add('show');
        }

        function highlightChoice(element, correctness) {
            // Reset all options in the same group
            const siblings = element.parentElement.querySelectorAll('.poll-option');
            siblings.forEach(option => {
                option.style.background = '';
                option.style.color = '';
            });
            
            // Highlight the selected option
            if (correctness === 'correct') {
                element.style.background = '#27ae60';
                element.style.color = 'white';
            } else {
                element.style.background = '#e74c3c';
                element.style.color = 'white';
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowRight' || event.key === ' ') {
                event.preventDefault();
                nextSlide();
            } else if (event.key === 'ArrowLeft') {
                event.preventDefault();
                previousSlide();
            }
        });

        // Initialize
        showSlide(0);
    </script>
</body>
</html>