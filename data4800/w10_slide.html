<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 10: Reinforcement Learning</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Helvetica, Arial, sans-serif;
            background: #ffffff;
            color: #333;
            overflow: hidden;
        }

        .slide-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 60px;
        }

        .slide {
            display: none;
            width: 100%;
            max-width: 1200px;
            height: 100%;
            max-height: 800px;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
        }

        .slide-header {
            color: #cc0000;
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 40px;
            text-align: center;
        }

        .slide-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .content-text {
            font-size: 1.3em;
            line-height: 1.8;
            margin-bottom: 20px;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            font-size: 1.1em;
        }

        .comparison-table th {
            background: #cc0000;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }

        .comparison-table td {
            padding: 15px;
            border: 1px solid #ddd;
        }

        .comparison-table tr:nth-child(even) {
            background: #f9f9f9;
        }

        .key-points {
            list-style: none;
            padding: 0;
        }

        .key-points li {
            padding: 15px;
            margin: 10px 0;
            background: #f5f5f5;
            border-left: 5px solid #cc0000;
            font-size: 1.2em;
        }

        .business-scenario {
            background: #fff9e6;
            border: 2px solid #cc0000;
            padding: 30px;
            border-radius: 8px;
            margin: 20px 0;
            font-size: 1.2em;
            line-height: 1.8;
        }

        .rl-components {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .component-box {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid #cc0000;
        }

        .component-box h3 {
            color: #cc0000;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .component-box p {
            font-size: 1.1em;
            line-height: 1.6;
        }

        #rl-loop-viz, #bandit-viz, #reward-viz, #qtable-viz {
            width: 100%;
            height: 400px;
            margin: 20px 0;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .btn {
            background: #cc0000;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1.1em;
            cursor: pointer;
            border-radius: 5px;
            font-family: Helvetica, Arial, sans-serif;
        }

        .btn:hover {
            background: #a00000;
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .quiz-container {
            background: #f5f5f5;
            padding: 30px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .quiz-question {
            font-size: 1.3em;
            margin-bottom: 20px;
            font-weight: bold;
            color: #cc0000;
        }

        .quiz-options {
            list-style: none;
        }

        .quiz-options li {
            padding: 12px;
            margin: 10px 0;
            background: white;
            border: 2px solid #ddd;
            cursor: pointer;
            border-radius: 5px;
            font-size: 1.1em;
        }

        .quiz-options li:hover {
            border-color: #cc0000;
            background: #fff5f5;
        }

        .quiz-options li.selected {
            border-color: #cc0000;
            background: #ffe6e6;
        }

        .quiz-options li.correct {
            border-color: #00aa00;
            background: #e6ffe6;
        }

        .quiz-options li.incorrect {
            border-color: #aa0000;
            background: #ffe6e6;
        }

        .quiz-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 5px;
            font-size: 1.1em;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: #e6ffe6;
            border: 2px solid #00aa00;
            color: #006600;
        }

        .quiz-feedback.incorrect {
            background: #ffe6e6;
            border: 2px solid #aa0000;
            color: #660000;
        }

        .navigation {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            gap: 15px;
            z-index: 1000;
        }

        .nav-btn {
            background: #cc0000;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1em;
            cursor: pointer;
            border-radius: 5px;
            font-family: Helvetica, Arial, sans-serif;
        }

        .nav-btn:hover {
            background: #a00000;
        }

        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .slide-number {
            position: fixed;
            bottom: 30px;
            left: 30px;
            font-size: 1.1em;
            color: #666;
        }

        .kaplan-logo {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.9em;
            color: #003366;
            font-weight: bold;
        }

        .emphasis {
            color: #cc0000;
            font-weight: bold;
        }

        .scenario-title {
            color: #cc0000;
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .stats-display {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            font-size: 1.2em;
        }

        .stat-box {
            text-align: center;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 8px;
            min-width: 150px;
        }

        .stat-value {
            font-size: 2em;
            color: #cc0000;
            font-weight: bold;
        }

        .stat-label {
            color: #666;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="slide-container">
        <!-- Slide 1: Title -->
        <div class="slide active">
            <div class="slide-header" style="margin-top: 150px;">
                Week 10: Reinforcement Learning
            </div>
            <div style="text-align: center; font-size: 1.8em; margin-top: 50px; color: #666;">
                Learning Through Trial and Error
            </div>
            <div style="text-align: center; font-size: 1.3em; margin-top: 100px; color: #999;">
                DATA5000: Artificial Intelligence and Machine Learning
            </div>
        </div>

        <!-- Slide 2: Learning Outcomes -->
        <div class="slide">
            <div class="slide-header">Learning Outcomes</div>
            <div class="slide-content">
                <ul class="key-points">
                    <li>Understand how reinforcement learning differs from supervised and unsupervised learning</li>
                    <li>Identify the key components of RL: agent, environment, state, action, and reward</li>
                    <li>Recognize business applications where RL provides competitive advantage</li>
                    <li>Understand the exploration vs exploitation tradeoff in decision-making</li>
                    <li>Evaluate when to use RL versus traditional machine learning approaches</li>
                </ul>
            </div>
        </div>

        <!-- Slide 3: Recap - Three Pillars of ML -->
        <div class="slide">
            <div class="slide-header">Quick Recap: Three Pillars of Machine Learning</div>
            <div class="slide-content">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Learning Type</th>
                            <th>Question It Answers</th>
                            <th>Business Example</th>
                            <th>Has Labels?</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Supervised Learning</strong></td>
                            <td>"What will happen?"</td>
                            <td>Predict customer churn, forecast sales</td>
                            <td>✓ Yes (historical outcomes)</td>
                        </tr>
                        <tr>
                            <td><strong>Unsupervised Learning</strong></td>
                            <td>"What patterns exist?"</td>
                            <td>Customer segmentation, anomaly detection</td>
                            <td>✗ No (find hidden structures)</td>
                        </tr>
                        <tr>
                            <td><strong>Reinforcement Learning</strong></td>
                            <td>"What should I do?"</td>
                            <td>Dynamic pricing, recommendations</td>
                            <td>⭐ Learn from rewards/penalties</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Slide 4: The Key Difference -->
        <div class="slide">
            <div class="slide-header">The Critical Distinction</div>
            <div class="slide-content">
                <ul class="key-points">
                    <li><span class="emphasis">Supervised Learning</span> looks backward → "What happened in the past?" (learns from historical data with known outcomes)</li>
                    <li><span class="emphasis">Unsupervised Learning</span> looks inward → "What structure exists in my data?" (finds hidden patterns without labels)</li>
                    <li><span class="emphasis">Reinforcement Learning</span> looks forward → "What should I do next to maximize long-term value?" (learns optimal actions through trial and error)</li>
                </ul>
                <div style="margin-top: 40px; padding: 25px; background: #f5f5f5; border-radius: 8px; font-size: 1.2em; text-align: center;">
                    RL is fundamentally about <span class="emphasis">sequential decision-making</span> in dynamic environments
                </div>
            </div>
        </div>

        <!-- Slide 5: Business Motivation -->
        <div class="slide">
            <div class="slide-header">Business Motivation: The Dynamic Pricing Challenge</div>
            <div class="slide-content">
                <div class="business-scenario">
                    <div class="scenario-title">Scenario: Uber's Surge Pricing Algorithm</div>
                    <p>Every 2 minutes, Uber must decide: Should we increase the price multiplier to 1.8x? Keep it at 1.4x? Lower it to 1.2x?</p>
                    <br>
                    <p><span class="emphasis">If price is too high:</span> Customers cancel rides, demand drops (penalty: lost revenue)</p>
                    <p><span class="emphasis">If price is too low:</span> Not enough drivers available, long wait times (penalty: customer dissatisfaction)</p>
                    <p><span class="emphasis">If price is optimal:</span> Supply meets demand, rides completed efficiently (reward: revenue + satisfaction)</p>
                    <br>
                    <p><strong>The Problem:</strong> No dataset tells us the "correct" price for every moment. The optimal decision depends on constantly changing conditions (traffic, weather, events, competitor pricing).</p>
                </div>
            </div>
        </div>

        <!-- Slide 6: Why Traditional ML Fails Here -->
        <div class="slide">
            <div class="slide-header">Why Supervised Learning Falls Short</div>
            <div class="slide-content">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Challenge</th>
                            <th>Supervised Learning Limitation</th>
                            <th>RL Solution</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Dynamic Environment</strong></td>
                            <td>Trained on static historical data; can't adapt to new conditions</td>
                            <td>Continuously learns from live interactions</td>
                        </tr>
                        <tr>
                            <td><strong>No "Correct" Answers</strong></td>
                            <td>Requires labeled examples of optimal decisions</td>
                            <td>Discovers optimal actions through exploration</td>
                        </tr>
                        <tr>
                            <td><strong>Sequential Decisions</strong></td>
                            <td>Treats each prediction independently</td>
                            <td>Optimizes long-term cumulative reward</td>
                        </tr>
                        <tr>
                            <td><strong>Delayed Feedback</strong></td>
                            <td>Assumes immediate outcome visibility</td>
                            <td>Handles delayed consequences naturally</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Slide 7: Core Components -->
        <div class="slide">
            <div class="slide-header">Reinforcement Learning: Core Components</div>
            <div class="slide-content">
                <div class="rl-components">
                    <div class="component-box">
                        <h3>Agent</h3>
                        <p>The decision-maker (e.g., recommendation algorithm, pricing engine, trading bot)</p>
                    </div>
                    <div class="component-box">
                        <h3>Environment</h3>
                        <p>The external system the agent interacts with (e.g., users, market, inventory)</p>
                    </div>
                    <div class="component-box">
                        <h3>State</h3>
                        <p>Current situation/context (e.g., user browsing history, current inventory levels, time of day)</p>
                    </div>
                    <div class="component-box">
                        <h3>Action</h3>
                        <p>Choices available to the agent (e.g., which product to recommend, price to set, route to take)</p>
                    </div>
                    <div class="component-box">
                        <h3>Reward</h3>
                        <p>Feedback signal indicating action quality (e.g., revenue, clicks, user engagement)</p>
                    </div>
                    <div class="component-box">
                        <h3>Policy</h3>
                        <p>The agent's strategy mapping states to actions (e.g., "recommend similar items when user browses category X")</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 8: The RL Loop (Interactive) -->
        <div class="slide">
            <div class="slide-header">The Reinforcement Learning Loop</div>
            <div class="slide-content">
                <div id="rl-loop-viz"></div>
                <div class="controls">
                    <button class="btn" id="step-rl-loop">Step Through Interaction</button>
                    <button class="btn" id="reset-rl-loop">Reset</button>
                </div>
                <div style="text-align: center; font-size: 1.2em; margin-top: 20px;" id="rl-step-text">
                    Click "Step Through Interaction" to see how the agent learns
                </div>
            </div>
        </div>

        <!-- Slide 9: Netflix Example Walkthrough -->
        <div class="slide">
            <div class="slide-header">Example: Netflix Recommendation System</div>
            <div class="slide-content">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th style="width: 20%;">Step</th>
                            <th style="width: 30%;">Component</th>
                            <th>Details</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>1</strong></td>
                            <td><span class="emphasis">State</span></td>
                            <td>User just watched "Stranger Things" S1, typically watches sci-fi thrillers, watches evenings</td>
                        </tr>
                        <tr>
                            <td><strong>2</strong></td>
                            <td><span class="emphasis">Action</span></td>
                            <td>Agent recommends "Dark" (German sci-fi thriller) in top 3 position</td>
                        </tr>
                        <tr>
                            <td><strong>3</strong></td>
                            <td><span class="emphasis">Environment Response</span></td>
                            <td>User clicks on "Dark", watches 3 episodes (2.5 hours engagement)</td>
                        </tr>
                        <tr>
                            <td><strong>4</strong></td>
                            <td><span class="emphasis">Reward</span></td>
                            <td>+15 points (click: +5, watch time: +10, based on engagement metrics)</td>
                        </tr>
                        <tr>
                            <td><strong>5</strong></td>
                            <td><span class="emphasis">New State</span></td>
                            <td>User now has "Dark" in watch history, demonstrated preference for foreign sci-fi</td>
                        </tr>
                        <tr>
                            <td><strong>6</strong></td>
                            <td><span class="emphasis">Learning</span></td>
                            <td>Agent updates policy: "For users who watch Stranger Things, recommending similar international sci-fi yields high engagement"</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Slide 10: Quiz 1 -->
        <div class="slide">
            <div class="slide-header">Knowledge Check 1</div>
            <div class="slide-content">
                <div class="quiz-container">
                    <div class="quiz-question">In a reinforcement learning system for automated email marketing, which component represents the REWARD?</div>
                    <ul class="quiz-options" id="quiz1">
                        <li data-answer="incorrect">The email subject line and content being sent</li>
                        <li data-answer="correct">User engagement metrics (opens, clicks, conversions) after sending the email</li>
                        <li data-answer="incorrect">The user's demographic profile and past behavior</li>
                        <li data-answer="incorrect">The algorithm that decides when to send emails</li>
                    </ul>
                    <div class="quiz-feedback" id="quiz1-feedback"></div>
                </div>
            </div>
        </div>

        <!-- Slide 11: Business Application - Recommender Systems -->
        <div class="slide">
            <div class="slide-header">Business Application: Recommender Systems</div>
            <div class="slide-content">
                <div class="content-text">
                    <span class="emphasis">Why Recommender Systems Are Perfect for RL:</span>
                </div>
                <ul class="key-points">
                    <li><strong>Sequential Nature:</strong> Each recommendation influences future user behavior and preferences</li>
                    <li><strong>Delayed Rewards:</strong> A good recommendation today might lead to subscription renewal next month</li>
                    <li><strong>Exploration Needed:</strong> Must balance showing proven popular items vs discovering niche preferences</li>
                    <li><strong>Dynamic Preferences:</strong> User tastes evolve over time; RL adapts continuously</li>
                </ul>
                <div style="margin-top: 30px; padding: 20px; background: #f5f5f5; border-radius: 8px;">
                    <strong style="color: #cc0000;">Real Impact:</strong>
                    <ul style="margin-top: 10px; margin-left: 20px; font-size: 1.1em;">
                        <li>Amazon: 35% of revenue from RL-powered recommendations</li>
                        <li>Netflix: 80% of watched content comes from recommendations</li>
                        <li>Spotify: Discover Weekly increased user retention by 24%</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 12: Data-Driven Example - E-commerce Recommendations -->
        <div class="slide">
            <div class="slide-header">Data-Driven Example: E-commerce Product Recommendations</div>
            <div class="slide-content">
                <div class="stats-display">
                    <div class="stat-box">
                        <div class="stat-value">127K</div>
                        <div class="stat-label">User Interactions</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">15</div>
                        <div class="stat-label">Product Categories</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">$2.8M</div>
                        <div class="stat-label">Revenue Increase</div>
                    </div>
                </div>
                <div id="reward-viz"></div>
                <div style="text-align: center; font-size: 1.1em; margin-top: 15px; color: #666;">
                    Cumulative reward over 30 days of RL training (RL vs Random vs Rule-based)
                </div>
            </div>
        </div>

        <!-- Slide 13: Exploration vs Exploitation -->
        <div class="slide">
            <div class="slide-header">The Exploration vs Exploitation Dilemma</div>
            <div class="slide-content">
                <div class="business-scenario">
                    <div class="scenario-title">The Restaurant Analogy</div>
                    <p>You're visiting a new city with 10 restaurants. How do you decide where to eat?</p>
                    <br>
                    <p><span class="emphasis">Exploitation:</span> Always go to the ONE restaurant you know is good (safe, but you might miss something better)</p>
                    <br>
                    <p><span class="emphasis">Exploration:</span> Try new restaurants every time (might discover amazing food, but might waste money on bad meals)</p>
                    <br>
                    <p><strong>Optimal Strategy:</strong></p>
                    <p>• Week 1: Try 5-6 new places (heavy exploration)</p>
                    <p>• Week 2: Go back to best from Week 1, try 2 new ones</p>
                    <p>• Week 3+: Mostly stick to top 2, occasionally try something new (80% exploitation, 20% exploration)</p>
                </div>
            </div>
        </div>

        <!-- Slide 14: Multi-Armed Bandit Interactive -->
        <div class="slide">
            <div class="slide-header">Interactive: Multi-Armed Bandit Problem</div>
            <div class="slide-content">
                <div class="content-text">
                    You have 3 website layouts. Which generates the most conversions? Click buttons to test!
                </div>
                <div id="bandit-viz"></div>
                <div class="controls">
                    <button class="btn" id="test-layout-a">Test Layout A</button>
                    <button class="btn" id="test-layout-b">Test Layout B</button>
                    <button class="btn" id="test-layout-c">Test Layout C</button>
                    <button class="btn" id="reset-bandit">Reset</button>
                </div>
                <div class="stats-display" style="margin-top: 20px;">
                    <div class="stat-box">
                        <div class="stat-value" id="trials-a">0</div>
                        <div class="stat-label">Layout A Trials</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="trials-b">0</div>
                        <div class="stat-label">Layout B Trials</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="trials-c">0</div>
                        <div class="stat-label">Layout C Trials</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 15: Business Applications Summary -->
        <div class="slide">
            <div class="slide-header">Key Business Applications</div>
            <div class="slide-content">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Application</th>
                            <th>State</th>
                            <th>Action</th>
                            <th>Reward</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Dynamic Pricing</strong><br>(Airlines, Ride-sharing)</td>
                            <td>Demand, inventory, time, competitors</td>
                            <td>Set price level</td>
                            <td>Revenue - customer churn penalty</td>
                        </tr>
                        <tr>
                            <td><strong>Inventory Management</strong><br>(Retail, Warehousing)</td>
                            <td>Stock levels, demand forecast, lead times</td>
                            <td>Order quantity</td>
                            <td>Sales profit - holding costs - stockout costs</td>
                        </tr>
                        <tr>
                            <td><strong>Ad Placement</strong><br>(Google, Facebook)</td>
                            <td>User profile, context, ad history</td>
                            <td>Which ad to show</td>
                            <td>Click-through rate × bid price</td>
                        </tr>
                        <tr>
                            <td><strong>Customer Service Routing</strong><br>(Call Centers)</td>
                            <td>Agent skills, queue length, customer priority</td>
                            <td>Route to specific agent</td>
                            <td>Resolution time + customer satisfaction</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Slide 16: Quiz 2 -->
        <div class="slide">
            <div class="slide-header">Knowledge Check 2</div>
            <div class="slide-content">
                <div class="quiz-container">
                    <div class="quiz-question">A company wants to optimize its email send times for maximum engagement. They have historical data showing that Tuesday at 10am had the highest open rates last year. What is the PRIMARY risk of only using this historical insight?</div>
                    <ul class="quiz-options" id="quiz2">
                        <li data-answer="incorrect">The data sample size might be too small</li>
                        <li data-answer="correct">Customer behavior and preferences change over time; past optimal times may not remain optimal</li>
                        <li data-answer="incorrect">Different time zones might affect the results</li>
                        <li data-answer="incorrect">The email content quality is more important than timing</li>
                    </ul>
                    <div class="quiz-feedback" id="quiz2-feedback"></div>
                </div>
            </div>
        </div>

        <!-- Slide 17: Q-Learning Concept -->
        <div class="slide">
            <div class="slide-header">Q-Learning: Building a "Cheat Sheet"</div>
            <div class="slide-content">
                <div class="content-text">
                    Q-Learning creates a table that stores "how good is each action from each state?"
                </div>
                <div id="qtable-viz"></div>
                <div style="margin-top: 20px; padding: 20px; background: #f5f5f5; border-radius: 8px;">
                    <p style="font-size: 1.2em;"><strong>Example: Route Planning App</strong></p>
                    <p style="margin-top: 10px; font-size: 1.1em;">The agent learns Q-values by trying routes and getting rewards (fast arrival time = high reward).</p>
                    <p style="margin-top: 10px; font-size: 1.1em;"><span class="emphasis">Higher Q-value = Better action</span>. Over time, the agent discovers optimal routes through trial and error.</p>
                </div>
            </div>
        </div>

        <!-- Slide 18: When to Use RL -->
        <div class="slide">
            <div class="slide-header">Decision Framework: When to Use RL</div>
            <div class="slide-content">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th style="width: 50%;">✓ Use Reinforcement Learning</th>
                            <th style="width: 50%;">✗ Use Supervised/Unsupervised Learning</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Sequential decisions with delayed consequences</td>
                            <td>One-shot predictions (single classification/regression)</td>
                        </tr>
                        <tr>
                            <td>Environment changes based on actions taken</td>
                            <td>Static environment; historical data sufficient</td>
                        </tr>
                        <tr>
                            <td>Need to balance exploration and exploitation</td>
                            <td>Clear optimal solution exists in training data</td>
                        </tr>
                        <tr>
                            <td>No dataset of "correct" actions available</td>
                            <td>Labeled examples of correct outcomes available</td>
                        </tr>
                        <tr>
                            <td>Long-term value maximization critical</td>
                            <td>Immediate prediction accuracy is the goal</td>
                        </tr>
                    </tbody>
                </table>
                <div style="margin-top: 30px; padding: 20px; background: #fff9e6; border: 2px solid #cc0000; border-radius: 8px; font-size: 1.2em;">
                    <strong>Rule of Thumb:</strong> If you're asking "What should I do next?" repeatedly → Consider RL. If you're asking "What is this?" → Use supervised/unsupervised learning.
                </div>
            </div>
        </div>

        <!-- Slide 19: Challenges and Limitations -->
        <div class="slide">
            <div class="slide-header">Challenges and Practical Considerations</div>
            <div class="slide-content">
                <ul class="key-points">
                    <li><strong>Data Requirements:</strong> RL often requires millions of interactions to learn effectively. Solution: Use simulators or offline RL with historical data</li>
                    <li><strong>Reward Function Design:</strong> Defining "success" mathematically can be challenging. Poor reward design leads to unexpected behaviors</li>
                    <li><strong>Safety Concerns:</strong> Cannot explore dangerous actions on real systems (e.g., self-driving cars). Solution: Train in simulation first</li>
                    <li><strong>Computational Cost:</strong> Training can be expensive. Consider simpler approaches first if supervised learning works well</li>
                    <li><strong>Delayed Rewards:</strong> Attributing outcomes to specific actions when feedback comes much later (credit assignment problem)</li>
                </ul>
            </div>
        </div>

        <!-- Slide 20: Summary and Career Connection -->
        <div class="slide">
            <div class="slide-header">Summary and Career Applications</div>
            <div class="slide-content">
                <div class="content-text" style="margin-bottom: 30px;">
                    <span class="emphasis">Key Takeaways:</span>
                </div>
                <ul class="key-points">
                    <li>RL solves sequential decision problems through trial-and-error learning</li>
                    <li>Core components: agent, environment, state, action, reward, policy</li>
                    <li>Critical for dynamic systems: recommendations, pricing, inventory, routing</li>
                    <li>Exploration vs exploitation is fundamental to RL strategy</li>
                    <li>Use RL when decisions are sequential and environment is dynamic</li>
                </ul>
                <div style="margin-top: 30px; padding: 25px; background: #f5f5f5; border-radius: 8px;">
                    <strong style="color: #cc0000; font-size: 1.3em;">Business Analytics Career Relevance:</strong>
                    <ul style="margin-top: 15px; margin-left: 20px; font-size: 1.1em; line-height: 1.8;">
                        <li>Digital marketing: Ad optimization, campaign timing</li>
                        <li>E-commerce: Personalization engines, dynamic pricing</li>
                        <li>Supply chain: Inventory optimization, logistics</li>
                        <li>Finance: Algorithmic trading, portfolio management</li>
                        <li>Growing field with increasing business adoption</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="slide-number">
        <span id="current-slide">1</span> / <span id="total-slides">20</span>
    </div>

    <div class="kaplan-logo">
        KAPLAN BUSINESS SCHOOL AUSTRALIA
    </div>

    <div class="navigation">
        <button class="nav-btn" id="prev-btn">Previous</button>
        <button class="nav-btn" id="next-btn">Next</button>
    </div>

    <script>
        // Check if D3 is loaded
        if (typeof d3 === 'undefined') {
            console.error('D3.js failed to load');
            document.body.innerHTML = '<div style="text-align:center;margin-top:100px;font-size:24px;">Loading visualization library...</div>';
        }

        // Slide Navigation
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const currentSlideSpan = document.getElementById('current-slide');
        const totalSlidesSpan = document.getElementById('total-slides');

        totalSlidesSpan.textContent = totalSlides;

        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');
            currentSlideSpan.textContent = currentSlide + 1;

            prevBtn.disabled = currentSlide === 0;
            nextBtn.disabled = currentSlide === totalSlides - 1;

            // Initialize visualizations when reaching specific slides
            if (currentSlide === 7) initRLLoop();
            if (currentSlide === 11) initRewardViz();
            if (currentSlide === 13) initBanditViz();
            if (currentSlide === 16) initQTableViz();
        }

        prevBtn.addEventListener('click', () => showSlide(currentSlide - 1));
        nextBtn.addEventListener('click', () => showSlide(currentSlide + 1));

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') showSlide(currentSlide - 1);
            if (e.key === 'ArrowRight') showSlide(currentSlide + 1);
        });

        // Quiz Functionality
        function setupQuiz(quizId, correctFeedback, incorrectFeedback) {
            const options = document.querySelectorAll(`#${quizId} li`);
            const feedback = document.getElementById(`${quizId}-feedback`);
            let answered = false;

            options.forEach(option => {
                option.addEventListener('click', function() {
                    if (answered) return;

                    answered = true;
                    const isCorrect = this.dataset.answer === 'correct';

                    options.forEach(opt => {
                        opt.style.cursor = 'default';
                        if (opt.dataset.answer === 'correct') {
                            opt.classList.add('correct');
                        } else if (opt === this && !isCorrect) {
                            opt.classList.add('incorrect');
                        }
                    });

                    feedback.textContent = isCorrect ? correctFeedback : incorrectFeedback;
                    feedback.className = `quiz-feedback show ${isCorrect ? 'correct' : 'incorrect'}`;
                });
            });
        }

        setupQuiz('quiz1', 
            'Correct! The reward in RL is the feedback signal that tells the agent how well it performed. User engagement metrics (opens, clicks, conversions) directly measure the success of the email marketing action.',
            'Not quite. The reward must be a measurable feedback signal that evaluates the action taken. User engagement metrics provide this feedback after the agent sends the email.'
        );

        setupQuiz('quiz2',
            'Correct! This is the core challenge RL addresses. Customer preferences, market conditions, and behaviors change over time. What worked last year may not work today, which is why RL continuously adapts by learning from current interactions.',
            'Consider what makes environments dynamic. While the other factors are important, the key issue is that historical data becomes stale as conditions change. RL solves this by continuously learning from new interactions.'
        );

        // RL Loop Visualization
        let rlStep = 0;
        function initRLLoop() {
            if (typeof d3 === 'undefined') {
                document.getElementById('rl-loop-viz').innerHTML = '<div style="text-align:center;padding:50px;font-size:18px;color:#cc0000;">Visualization loading... Please refresh if this message persists.</div>';
                return;
            }
            const svg = d3.select('#rl-loop-viz').html('').append('svg')
                .attr('width', '100%')
                .attr('height', 400)
                .attr('viewBox', '0 0 800 400');

            const agent = svg.append('rect')
                .attr('x', 100)
                .attr('y', 150)
                .attr('width', 150)
                .attr('height', 100)
                .attr('fill', '#cc0000')
                .attr('stroke', '#333')
                .attr('stroke-width', 2);

            svg.append('text')
                .attr('x', 175)
                .attr('y', 205)
                .attr('text-anchor', 'middle')
                .attr('fill', 'white')
                .attr('font-size', '20px')
                .attr('font-weight', 'bold')
                .text('AGENT');

            const environment = svg.append('rect')
                .attr('x', 550)
                .attr('y', 150)
                .attr('width', 150)
                .attr('height', 100)
                .attr('fill', '#0066cc')
                .attr('stroke', '#333')
                .attr('stroke-width', 2);

            svg.append('text')
                .attr('x', 625)
                .attr('y', 195)
                .attr('text-anchor', 'middle')
                .attr('fill', 'white')
                .attr('font-size', '18px')
                .attr('font-weight', 'bold')
                .text('ENVIRONMENT');

            const actionArrow = svg.append('g').attr('opacity', 0);
            actionArrow.append('line')
                .attr('x1', 250)
                .attr('y1', 170)
                .attr('x2', 550)
                .attr('y2', 170)
                .attr('stroke', '#cc0000')
                .attr('stroke-width', 4)
                .attr('marker-end', 'url(#arrowhead)');
            actionArrow.append('text')
                .attr('x', 400)
                .attr('y', 160)
                .attr('text-anchor', 'middle')
                .attr('font-size', '16px')
                .attr('font-weight', 'bold')
                .text('Action');

            const rewardArrow = svg.append('g').attr('opacity', 0);
            rewardArrow.append('line')
                .attr('x1', 550)
                .attr('y1', 230)
                .attr('x2', 250)
                .attr('y2', 230)
                .attr('stroke', '#00aa00')
                .attr('stroke-width', 4)
                .attr('marker-end', 'url(#arrowhead-green)');
            rewardArrow.append('text')
                .attr('x', 400)
                .attr('y', 220)
                .attr('text-anchor', 'middle')
                .attr('font-size', '16px')
                .attr('font-weight', 'bold')
                .text('Reward + New State');

            svg.append('defs').append('marker')
                .attr('id', 'arrowhead')
                .attr('markerWidth', 10)
                .attr('markerHeight', 10)
                .attr('refX', 9)
                .attr('refY', 3)
                .attr('orient', 'auto')
                .append('polygon')
                .attr('points', '0 0, 10 3, 0 6')
                .attr('fill', '#cc0000');

            svg.append('defs').append('marker')
                .attr('id', 'arrowhead-green')
                .attr('markerWidth', 10)
                .attr('markerHeight', 10)
                .attr('refX', 9)
                .attr('refY', 3)
                .attr('orient', 'auto')
                .append('polygon')
                .attr('points', '0 0, 10 3, 0 6')
                .attr('fill', '#00aa00');

            document.getElementById('step-rl-loop').onclick = () => {
                rlStep++;
                const stepText = document.getElementById('rl-step-text');
                
                if (rlStep === 1) {
                    actionArrow.transition().duration(800).attr('opacity', 1);
                    stepText.textContent = 'Step 1: Agent observes state and chooses an action';
                } else if (rlStep === 2) {
                    rewardArrow.transition().duration(800).attr('opacity', 1);
                    stepText.textContent = 'Step 2: Environment returns reward and new state';
                } else if (rlStep === 3) {
                    stepText.textContent = 'Step 3: Agent learns from feedback and updates policy. Cycle repeats!';
                    setTimeout(() => {
                        actionArrow.transition().duration(400).attr('opacity', 0);
                        rewardArrow.transition().duration(400).attr('opacity', 0);
                        rlStep = 0;
                    }, 2000);
                }
            };

            document.getElementById('reset-rl-loop').onclick = () => {
                rlStep = 0;
                actionArrow.attr('opacity', 0);
                rewardArrow.attr('opacity', 0);
                document.getElementById('rl-step-text').textContent = 'Click "Step Through Interaction" to see how the agent learns';
            };
        }

        // Reward Visualization
        function initRewardViz() {
            if (typeof d3 === 'undefined') {
                document.getElementById('reward-viz').innerHTML = '<div style="text-align:center;padding:50px;font-size:18px;color:#cc0000;">Visualization loading... Please refresh if this message persists.</div>';
                return;
            }
            const data = [];
            for (let day = 0; day <= 30; day++) {
                data.push({
                    day: day,
                    rl: Math.pow(day, 1.4) * 150 + Math.random() * 500,
                    rulebased: day * 80 + Math.random() * 300,
                    random: day * 40 + Math.random() * 400
                });
            }

            const margin = {top: 20, right: 120, bottom: 50, left: 70};
            const width = 1000 - margin.left - margin.right;
            const height = 350 - margin.top - margin.bottom;

            const svg = d3.select('#reward-viz').html('').append('svg')
                .attr('width', '100%')
                .attr('height', 400)
                .attr('viewBox', `0 0 1000 400`)
                .append('g')
                .attr('transform', `translate(${margin.left},${margin.top})`);

            const x = d3.scaleLinear().domain([0, 30]).range([0, width]);
            const y = d3.scaleLinear().domain([0, d3.max(data, d => d.rl)]).range([height, 0]);

            const line = d3.line()
                .x(d => x(d.day))
                .y(d => y(d.rl));

            svg.append('g')
                .attr('transform', `translate(0,${height})`)
                .call(d3.axisBottom(x).ticks(10))
                .style('font-size', '14px');

            svg.append('text')
                .attr('x', width / 2)
                .attr('y', height + 40)
                .attr('text-anchor', 'middle')
                .style('font-size', '16px')
                .text('Days of Training');

            svg.append('g')
                .call(d3.axisLeft(y).tickFormat(d => `$${(d/1000).toFixed(0)}K`))
                .style('font-size', '14px');

            svg.append('text')
                .attr('transform', 'rotate(-90)')
                .attr('x', -height / 2)
                .attr('y', -50)
                .attr('text-anchor', 'middle')
                .style('font-size', '16px')
                .text('Cumulative Revenue');

            svg.append('path')
                .datum(data)
                .attr('fill', 'none')
                .attr('stroke', '#cc0000')
                .attr('stroke-width', 3)
                .attr('d', d3.line().x(d => x(d.day)).y(d => y(d.rl)));

            svg.append('path')
                .datum(data)
                .attr('fill', 'none')
                .attr('stroke', '#0066cc')
                .attr('stroke-width', 3)
                .attr('d', d3.line().x(d => x(d.day)).y(d => y(d.rulebased)));

            svg.append('path')
                .datum(data)
                .attr('fill', 'none')
                .attr('stroke', '#999')
                .attr('stroke-width', 3)
                .attr('d', d3.line().x(d => x(d.day)).y(d => y(d.random)));

            const legend = svg.append('g')
                .attr('transform', `translate(${width + 20}, 50)`);

            const legendData = [
                {label: 'RL Agent', color: '#cc0000'},
                {label: 'Rule-based', color: '#0066cc'},
                {label: 'Random', color: '#999'}
            ];

            legendData.forEach((item, i) => {
                legend.append('line')
                    .attr('x1', 0)
                    .attr('x2', 30)
                    .attr('y1', i * 30)
                    .attr('y2', i * 30)
                    .attr('stroke', item.color)
                    .attr('stroke-width', 3);

                legend.append('text')
                    .attr('x', 40)
                    .attr('y', i * 30 + 5)
                    .text(item.label)
                    .style('font-size', '14px');
            });
        }

        // Multi-Armed Bandit Visualization
        let banditState = {
            a: {tries: 0, successes: 0, trueRate: 0.15},
            b: {tries: 0, successes: 0, trueRate: 0.32},
            c: {tries: 0, successes: 0, trueRate: 0.08}
        };

        function initBanditViz() {
            updateBanditChart();

            document.getElementById('test-layout-a').onclick = () => testLayout('a');
            document.getElementById('test-layout-b').onclick = () => testLayout('b');
            document.getElementById('test-layout-c').onclick = () => testLayout('c');
            document.getElementById('reset-bandit').onclick = () => {
                banditState = {
                    a: {tries: 0, successes: 0, trueRate: 0.15},
                    b: {tries: 0, successes: 0, trueRate: 0.32},
                    c: {tries: 0, successes: 0, trueRate: 0.08}
                };
                updateBanditChart();
            };
        }

        function testLayout(layout) {
            banditState[layout].tries++;
            if (Math.random() < banditState[layout].trueRate) {
                banditState[layout].successes++;
            }
            updateBanditChart();
        }

        function updateBanditChart() {
            const data = ['a', 'b', 'c'].map(key => ({
                layout: `Layout ${key.toUpperCase()}`,
                rate: banditState[key].tries > 0 ? banditState[key].successes / banditState[key].tries : 0,
                tries: banditState[key].tries
            }));

            document.getElementById('trials-a').textContent = banditState.a.tries;
            document.getElementById('trials-b').textContent = banditState.b.tries;
            document.getElementById('trials-c').textContent = banditState.c.tries;

            if (typeof d3 === 'undefined') {
                document.getElementById('bandit-viz').innerHTML = '<div style="text-align:center;padding:50px;font-size:18px;color:#cc0000;">Visualization loading... Please refresh if this message persists.</div>';
                return;
            }

            const margin = {top: 20, right: 30, bottom: 80, left: 70};
            const width = 800 - margin.left - margin.right;
            const height = 300 - margin.top - margin.bottom;

            const svg = d3.select('#bandit-viz').html('').append('svg')
                .attr('width', '100%')
                .attr('height', 350)
                .attr('viewBox', '0 0 800 350')
                .append('g')
                .attr('transform', `translate(${margin.left},${margin.top})`);

            const x = d3.scaleBand()
                .domain(data.map(d => d.layout))
                .range([0, width])
                .padding(0.3);

            const y = d3.scaleLinear()
                .domain([0, 0.5])
                .range([height, 0]);

            svg.append('g')
                .attr('transform', `translate(0,${height})`)
                .call(d3.axisBottom(x))
                .style('font-size', '16px');

            svg.append('g')
                .call(d3.axisLeft(y).tickFormat(d => `${(d*100).toFixed(0)}%`))
                .style('font-size', '14px');

            svg.append('text')
                .attr('x', width / 2)
                .attr('y', height + 50)
                .attr('text-anchor', 'middle')
                .style('font-size', '16px')
                .text('Website Layout');

            svg.append('text')
                .attr('transform', 'rotate(-90)')
                .attr('x', -height / 2)
                .attr('y', -50)
                .attr('text-anchor', 'middle')
                .style('font-size', '16px')
                .text('Conversion Rate');

            svg.selectAll('.bar')
                .data(data)
                .enter()
                .append('rect')
                .attr('class', 'bar')
                .attr('x', d => x(d.layout))
                .attr('y', d => y(d.rate))
                .attr('width', x.bandwidth())
                .attr('height', d => height - y(d.rate))
                .attr('fill', '#cc0000')
                .attr('opacity', 0.8);

            svg.selectAll('.label')
                .data(data)
                .enter()
                .append('text')
                .attr('x', d => x(d.layout) + x.bandwidth() / 2)
                .attr('y', d => y(d.rate) - 10)
                .attr('text-anchor', 'middle')
                .style('font-size', '14px')
                .style('font-weight', 'bold')
                .text(d => d.tries > 0 ? `${(d.rate * 100).toFixed(1)}%` : '?');
        }

        // Q-Table Visualization
        function initQTableViz() {
            if (typeof d3 === 'undefined') {
                document.getElementById('qtable-viz').innerHTML = '<div style="text-align:center;padding:50px;font-size:18px;color:#cc0000;">Visualization loading... Please refresh if this message persists.</div>';
                return;
            }
            const qtable = [
                {state: 'CBD Morning', highway: 8, local: 3, backstreets: 2},
                {state: 'CBD Evening', highway: 4, local: 7, backstreets: 6},
                {state: 'Suburbs Morning', highway: 5, local: 8, backstreets: 4},
                {state: 'Suburbs Evening', highway: 7, local: 6, backstreets: 5}
            ];

            const margin = {top: 40, right: 30, bottom: 30, left: 150};
            const width = 800 - margin.left - margin.right;
            const height = 300 - margin.top - margin.bottom;

            const svg = d3.select('#qtable-viz').html('').append('svg')
                .attr('width', '100%')
                .attr('height', 350)
                .attr('viewBox', '0 0 800 350')
                .append('g')
                .attr('transform', `translate(${margin.left},${margin.top})`);

            const cellWidth = width / 3;
            const cellHeight = height / 4;

            svg.append('text')
                .attr('x', width / 2)
                .attr('y', -20)
                .attr('text-anchor', 'middle')
                .style('font-size', '18px')
                .style('font-weight', 'bold')
                .text('Q-Table: Route Planning');

            const actions = ['Highway', 'Local Road', 'Backstreets'];
            actions.forEach((action, i) => {
                svg.append('text')
                    .attr('x', i * cellWidth + cellWidth / 2)
                    .attr('y', -5)
                    .attr('text-anchor', 'middle')
                    .style('font-size', '14px')
                    .style('font-weight', 'bold')
                    .text(action);
            });

            qtable.forEach((row, i) => {
                svg.append('text')
                    .attr('x', -10)
                    .attr('y', i * cellHeight + cellHeight / 2 + 5)
                    .attr('text-anchor', 'end')
                    .style('font-size', '14px')
                    .style('font-weight', 'bold')
                    .text(row.state);

                [row.highway, row.local, row.backstreets].forEach((value, j) => {
                    const colorScale = d3.scaleLinear()
                        .domain([0, 8])
                        .range(['#ffcccc', '#cc0000']);

                    svg.append('rect')
                        .attr('x', j * cellWidth)
                        .attr('y', i * cellHeight)
                        .attr('width', cellWidth - 2)
                        .attr('height', cellHeight - 2)
                        .attr('fill', colorScale(value))
                        .attr('stroke', '#fff')
                        .attr('stroke-width', 2);

                    svg.append('text')
                        .attr('x', j * cellWidth + cellWidth / 2)
                        .attr('y', i * cellHeight + cellHeight / 2 + 5)
                        .attr('text-anchor', 'middle')
                        .style('font-size', '20px')
                        .style('font-weight', 'bold')
                        .style('fill', value > 5 ? 'white' : 'black')
                        .text(value);
                });
            });
        }

        // Initialize
        showSlide(0);
    </script>
</body>
</html>