<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Interpretability - Practice Exercises</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Helvetica, Arial, sans-serif;
            background: white;
            color: #333;
            padding: 40px;
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            color: #CC0000;
            font-size: 2.5em;
            margin-bottom: 20px;
            font-weight: 300;
            page-break-before: always;
        }

        h1:first-of-type {
            page-break-before: auto;
        }

        h2 {
            color: #CC0000;
            font-size: 2em;
            margin-top: 40px;
            margin-bottom: 20px;
            font-weight: 300;
        }

        h3 {
            color: #CC0000;
            font-size: 1.5em;
            margin-top: 30px;
            margin-bottom: 15px;
            font-weight: 300;
        }

        p {
            font-size: 1.1em;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .exercise-box {
            background: #FAFAFA;
            border-left: 4px solid #CC0000;
            padding: 25px;
            margin: 30px 0;
            page-break-inside: avoid;
        }

        .exercise-number {
            background: #CC0000;
            color: white;
            padding: 5px 15px;
            border-radius: 3px;
            display: inline-block;
            margin-bottom: 15px;
            font-weight: 500;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 1em;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #333;
        }

        th {
            background: #F0F0F0;
            color: #CC0000;
            font-weight: 500;
        }

        .answer-space {
            border-bottom: 1px solid #333;
            min-height: 30px;
            margin: 10px 0;
            padding: 5px;
        }

        .calculation-space {
            border: 1px solid #DDD;
            min-height: 100px;
            margin: 15px 0;
            padding: 15px;
            background: white;
        }

        .answer-key {
            background: #E8F5E9;
            border-left: 4px solid #4CAF50;
            padding: 20px;
            margin: 20px 0;
            page-break-before: always;
        }

        .answer-key h3 {
            color: #2E7D32;
        }

        .note {
            background: #FFF9E6;
            border-left: 3px solid #FFC107;
            padding: 15px;
            margin: 15px 0;
            font-style: italic;
        }

        .print-button {
            background: #CC0000;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 3px;
            font-size: 1.1em;
            cursor: pointer;
            margin: 20px 0;
            font-family: Helvetica, Arial, sans-serif;
        }

        .print-button:hover {
            background: #AA0000;
        }

        @media print {
            body {
                padding: 20px;
            }
            .print-button {
                display: none;
            }
            .exercise-box, .answer-key {
                page-break-inside: avoid;
            }
        }

        ul {
            margin-left: 30px;
            margin-bottom: 15px;
            line-height: 1.8;
        }

        .matrix-grid {
            display: grid;
            grid-template-columns: 150px 150px 150px;
            gap: 0;
            margin: 20px 0;
            width: fit-content;
        }

        .matrix-cell {
            border: 1px solid #333;
            padding: 15px;
            text-align: center;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .matrix-header {
            background: #F0F0F0;
            font-weight: bold;
            color: #CC0000;
        }

        .formula-box {
            background: #F8F8F8;
            border: 1px solid #DDD;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <button class="print-button" onclick="window.print()">Print Exercises</button>

    <h1>Model Interpretability: Practice Exercises</h1>
    <p><strong>Instructions:</strong> Complete these exercises on paper to reinforce your understanding of model interpretability concepts. Answer keys are provided at the end of each section.</p>

    <!-- SECTION 1: LINEAR REGRESSION -->
    <h2>Section 1: Understanding Linear Regression</h2>

    <div class="exercise-box">
        <div class="exercise-number">Exercise 1.1: Basic Prediction</div>
        <p><strong>Scenario:</strong> A real estate model predicts house prices using this formula:</p>
        <div class="formula-box">
            Price = $150,000 + ($200 × Square Feet) + ($25,000 × Bedrooms) - ($3,000 × Age in Years)
        </div>
        
        <p><strong>Question:</strong> Calculate the predicted price for a house with:</p>
        <ul>
            <li>Square Feet: 1,800</li>
            <li>Bedrooms: 3</li>
            <li>Age: 10 years</li>
        </ul>

        <p><strong>Show your work:</strong></p>
        <div class="calculation-space"></div>
        
        <p><strong>Final Answer:</strong> $<span class="answer-space" style="width: 200px; display: inline-block;"></span></p>
    </div>

    <div class="exercise-box">
        <div class="exercise-number">Exercise 1.2: Interpreting Weights</div>
        <p>Using the same model from Exercise 1.1, answer these questions:</p>
        
        <p><strong>a)</strong> If you add 100 square feet to a house, how much does the predicted price increase?</p>
        <div class="answer-space"></div>

        <p><strong>b)</strong> What happens to the price for each additional year of age?</p>
        <div class="answer-space"></div>

        <p><strong>c)</strong> Which feature has the strongest impact per unit: square feet, bedrooms, or age? Explain your reasoning.</p>
        <div class="answer-space"></div>
        <div class="answer-space"></div>
    </div>

    <div class="exercise-box">
        <div class="exercise-number">Exercise 1.3: Feature Contributions</div>
        <p><strong>Scenario:</strong> The average house in the dataset has 1,500 sq ft, 3 bedrooms, and is 8 years old with an average predicted price of $480,000.</p>
        
        <p>You're evaluating a house with 2,000 sq ft, 4 bedrooms, and age 5 years.</p>
        
        <p><strong>Calculate how much each feature contributes to the difference from average:</strong></p>
        
        <table>
            <tr>
                <th>Feature</th>
                <th>This House</th>
                <th>Average</th>
                <th>Difference</th>
                <th>Weight</th>
                <th>Contribution</th>
            </tr>
            <tr>
                <td>Square Feet</td>
                <td>2,000</td>
                <td>1,500</td>
                <td></td>
                <td>$200</td>
                <td></td>
            </tr>
            <tr>
                <td>Bedrooms</td>
                <td>4</td>
                <td>3</td>
                <td></td>
                <td>$25,000</td>
                <td></td>
            </tr>
            <tr>
                <td>Age</td>
                <td>5</td>
                <td>8</td>
                <td></td>
                <td>-$3,000</td>
                <td></td>
            </tr>
        </table>
        
        <p><strong>Total difference from average:</strong> $<span class="answer-space" style="width: 150px; display: inline-block;"></span></p>
    </div>

    <!-- ANSWER KEY SECTION 1 -->
    <div class="answer-key">
        <h3>Answer Key: Section 1</h3>
        
        <p><strong>Exercise 1.1:</strong></p>
        <p>Price = $150,000 + ($200 × 1,800) + ($25,000 × 3) - ($3,000 × 10)</p>
        <p>Price = $150,000 + $360,000 + $75,000 - $30,000</p>
        <p><strong>Answer: $555,000</strong></p>
        
        <p style="margin-top: 20px;"><strong>Exercise 1.2:</strong></p>
        <p>a) $200 × 100 = <strong>$20,000 increase</strong></p>
        <p>b) The price <strong>decreases by $3,000</strong> for each additional year (note the negative sign)</p>
        <p>c) <strong>Bedrooms</strong> have the strongest impact per unit ($25,000 per bedroom vs. $200 per sq ft vs. $3,000 per year)</p>
        
        <p style="margin-top: 20px;"><strong>Exercise 1.3:</strong></p>
        <table>
            <tr>
                <th>Feature</th>
                <th>Difference</th>
                <th>Weight</th>
                <th>Contribution</th>
            </tr>
            <tr>
                <td>Square Feet</td>
                <td>500</td>
                <td>$200</td>
                <td>+$100,000</td>
            </tr>
            <tr>
                <td>Bedrooms</td>
                <td>1</td>
                <td>$25,000</td>
                <td>+$25,000</td>
            </tr>
            <tr>
                <td>Age</td>
                <td>-3</td>
                <td>-$3,000</td>
                <td>+$9,000</td>
            </tr>
        </table>
        <p><strong>Total: +$134,000 above average</strong></p>
    </div>

    <!-- SECTION 2: LOGISTIC REGRESSION -->
    <h2>Section 2: Logistic Regression and Probabilities</h2>

    <div class="exercise-box">
        <div class="exercise-number">Exercise 2.1: Understanding Probabilities</div>
        <p>A loan approval model outputs probabilities. Match each probability to the appropriate interpretation:</p>
        
        <table>
            <tr>
                <th>Probability</th>
                <th>Your Interpretation (write a-d)</th>
            </tr>
            <tr>
                <td>0.15 (15%)</td>
                <td><div class="answer-space"></div></td>
            </tr>
            <tr>
                <td>0.52 (52%)</td>
                <td><div class="answer-space"></div></td>
            </tr>
            <tr>
                <td>0.78 (78%)</td>
                <td><div class="answer-space"></div></td>
            </tr>
            <tr>
                <td>0.95 (95%)</td>
                <td><div class="answer-space"></div></td>
            </tr>
        </table>
        
        <p><strong>Options:</strong></p>
        <p>a) Very likely to repay - strong approval</p>
        <p>b) Almost certain to repay - definite approval</p>
        <p>c) Unlikely to repay - probable rejection</p>
        <p>d) Slightly more likely to repay than default - borderline case</p>
    </div>

    <div class="exercise-box">
        <div class="exercise-number">Exercise 2.2: Threshold Decisions</div>
        <p>You have 5 loan applications with these predicted probabilities of repayment:</p>
        
        <table>
            <tr>
                <th>Applicant</th>
                <th>Probability</th>
                <th>Approve at 70% threshold?</th>
                <th>Approve at 85% threshold?</th>
            </tr>
            <tr>
                <td>Applicant A</td>
                <td>0.92</td>
                <td><div class="answer-space"></div></td>
                <td><div class="answer-space"></div></td>
            </tr>
            <tr>
                <td>Applicant B</td>
                <td>0.68</td>
                <td><div class="answer-space"></div></td>
                <td><div class="answer-space"></div></td>
            </tr>
            <tr>
                <td>Applicant C</td>
                <td>0.79</td>
                <td><div class="answer-space"></div></td>
                <td><div class="answer-space"></div></td>
            </tr>
            <tr>
                <td>Applicant D</td>
                <td>0.88</td>
                <td><div class="answer-space"></div></td>
                <td><div class="answer-space"></div></td>
            </tr>
            <tr>
                <td>Applicant E</td>
                <td>0.55</td>
                <td><div class="answer-space"></div></td>
                <td><div class="answer-space"></div></td>
            </tr>
        </table>
        
        <p><strong>How many loans would you approve at each threshold?</strong></p>
        <p>70% threshold: <span class="answer-space" style="width: 100px; display: inline-block;"></span> loans</p>
        <p>85% threshold: <span class="answer-space" style="width: 100px; display: inline-block;"></span> loans</p>
    </div>

    <div class="exercise-box">
        <div class="exercise-number">Exercise 2.3: Business Tradeoffs</div>
        <p><strong>Scenario:</strong> Each good loan generates $5,000 profit. Each defaulted loan loses $15,000.</p>
        
        <p><strong>a)</strong> If you approve Applicant C (79% probability), what is your expected value?</p>
        <p><em>Hint: Expected Value = (Probability of Good × Profit) + (Probability of Bad × Loss)</em></p>
        <div class="calculation-space"></div>
        
        <p><strong>b)</strong> At what probability does a loan become profitable on average? (Show your calculation)</p>
        <div class="calculation-space"></div>
        
        <p><strong>c)</strong> Based on your answer to (b), should you use a 70% or 85% threshold? Explain.</p>
        <div class="answer-space"></div>
        <div class="answer-space"></div>
    </div>

    <!-- ANSWER KEY SECTION 2 -->
    <div class="answer-key">
        <h3>Answer Key: Section 2</h3>
        
        <p><strong>Exercise 2.1:</strong></p>
        <p>0.15 → c) Unlikely to repay</p>
        <p>0.52 → d) Slightly more likely to repay - borderline</p>
        <p>0.78 → a) Very likely to repay</p>
        <p>0.95 → b) Almost certain to repay</p>
        
        <p style="margin-top: 20px;"><strong>Exercise 2.2:</strong></p>
        <table>
            <tr>
                <th>Applicant</th>
                <th>Probability</th>
                <th>70% threshold</th>
                <th>85% threshold</th>
            </tr>
            <tr>
                <td>A</td>
                <td>0.92</td>
                <td>Yes</td>
                <td>Yes</td>
            </tr>
            <tr>
                <td>B</td>
                <td>0.68</td>
                <td>No</td>
                <td>No</td>
            </tr>
            <tr>
                <td>C</td>
                <td>0.79</td>
                <td>Yes</td>
                <td>No</td>
            </tr>
            <tr>
                <td>D</td>
                <td>0.88</td>
                <td>Yes</td>
                <td>Yes</td>
            </tr>
            <tr>
                <td>E</td>
                <td>0.55</td>
                <td>No</td>
                <td>No</td>
            </tr>
        </table>
        <p><strong>70% threshold: 3 loans | 85% threshold: 2 loans</strong></p>
        
        <p style="margin-top: 20px;"><strong>Exercise 2.3:</strong></p>
        <p>a) Expected Value = (0.79 × $5,000) + (0.21 × -$15,000) = $3,950 - $3,150 = <strong>+$800</strong></p>
        <p>b) Break-even: Let p = probability of good loan</p>
        <p>(p × $5,000) + ((1-p) × -$15,000) = 0</p>
        <p>$5,000p - $15,000 + $15,000p = 0</p>
        <p>$20,000p = $15,000</p>
        <p><strong>p = 0.75 (75%)</strong></p>
        <p>c) Should use <strong>70% threshold</strong> because any loan above 75% probability is profitable, so we want to capture those between 70-85%. An 85% threshold would reject profitable loans.</p>
    </div>

    <!-- SECTION 3: CONFUSION MATRIX -->
    <h2>Section 3: Confusion Matrix and Performance Metrics</h2>

    <div class="exercise-box">
        <div class="exercise-number">Exercise 3.1: Building a Confusion Matrix</div>
        <p>You tested your loan model on 100 applications. Here are the results:</p>
        <ul>
            <li>60 loans actually repaid</li>
            <li>40 loans actually defaulted</li>
            <li>Of the 60 that repaid, your model correctly predicted 45</li>
            <li>Of the 40 that defaulted, your model correctly predicted 32</li>
        </ul>
        
        <p><strong>Fill in this confusion matrix:</strong></p>
        
        <table>
            <tr>
                <th></th>
                <th>Predicted: Repay</th>
                <th>Predicted: Default</th>
                <th>Total</th>
            </tr>
            <tr>
                <th>Actually: Repay</th>
                <td><div class="answer-space">TP = </div></td>
                <td><div class="answer-space">FN = </div></td>
                <td>60</td>
            </tr>
            <tr>
                <th>Actually: Default</th>
                <td><div class="answer-space">FP = </div></td>
                <td><div class="answer-space">TN = </div></td>
                <td>40</td>
            </tr>
            <tr>
                <th>Total</th>
                <td><div class="answer-space"></div></td>
                <td><div class="answer-space"></div></td>
                <td>100</td>
            </tr>
        </table>
    </div>

    <div class="exercise-box">
        <div class="exercise-number">Exercise 3.2: Calculating Metrics</div>
        <p>Using your confusion matrix from Exercise 3.1, calculate these metrics:</p>
        
        <p><strong>a) Accuracy</strong> = (TP + TN) / Total</p>
        <div class="calculation-space"></div>
        <p>Accuracy = <span class="answer-space" style="width: 150px; display: inline-block;"></span>%</p>
        
        <p><strong>b) True Positive Rate (Sensitivity/Recall)</strong> = TP / (TP + FN)</p>
        <div class="calculation-space"></div>
        <p>TPR = <span class="answer-space" style="width: 150px; display: inline-block;"></span>%</p>
        
        <p><strong>c) True Negative Rate (Specificity)</strong> = TN / (TN + FP)</p>
        <div class="calculation-space"></div>
        <p>TNR = <span class="answer-space" style="width: 150px; display: inline-block;"></span>%</p>
        
        <p><strong>d) Precision</strong> = TP / (TP + FP)</p>
        <div class="calculation-space"></div>
        <p>Precision = <span class="answer-space" style="width: 150px; display: inline-block;"></span>%</p>
    </div>

    <div class="exercise-box">
        <div class="exercise-number">Exercise 3.3: Interpreting Performance</div>
        <p>Based on your calculations in Exercise 3.2:</p>
        
        <p><strong>a)</strong> Of all the loans that actually repaid, what percentage did the model correctly identify?</p>
        <div class="answer-space"></div>
        
        <p><strong>b)</strong> Of all the loans the model approved, what percentage actually repaid?</p>
        <div class="answer-space"></div>
        
        <p><strong>c)</strong> If you approved all 53 loans the model predicted would repay, and each default costs $15,000 while each good loan earns $5,000, what would be your net profit/loss?</p>
        <div class="calculation-space"></div>
    </div>

    <!-- ANSWER KEY SECTION 3 -->
    <div class="answer-key">
        <h3>Answer Key: Section 3</h3>
        
        <p><strong>Exercise 3.1:</strong></p>
        <table>
            <tr>
                <th></th>
                <th>Predicted: Repay</th>
                <th>Predicted: Default</th>
                <th>Total</th>
            </tr>
            <tr>
                <th>Actually: Repay</th>
                <td>TP = 45</td>
                <td>FN = 15</td>
                <td>60</td>
            </tr>
            <tr>
                <th>Actually: Default</th>
                <td>FP = 8</td>
                <td>TN = 32</td>
                <td>40</td>
            </tr>
            <tr>
                <th>Total</th>
                <td>53</td>
                <td>47</td>
                <td>100</td>
            </tr>
        </table>
        
        <p style="margin-top: 20px;"><strong>Exercise 3.2:</strong></p>
        <p>a) Accuracy = (45 + 32) / 100 = 77 / 100 = <strong>77%</strong></p>
        <p>b) TPR = 45 / (45 + 15) = 45 / 60 = <strong>75%</strong></p>
        <p>c) TNR = 32 / (32 + 8) = 32 / 40 = <strong>80%</strong></p>
        <p>d) Precision = 45 / (45 + 8) = 45 / 53 = <strong>84.9%</strong></p>
        
        <p style="margin-top: 20px;"><strong>Exercise 3.3:</strong></p>
        <p>a) <strong>75%</strong> (the True Positive Rate)</p>
        <p>b) <strong>84.9%</strong> (the Precision)</p>
        <p>c) Good loans: 45 × $5,000 = $225,000 profit</p>
        <p>Bad loans: 8 × $15,000 = $120,000 loss</p>
        <p><strong>Net profit: $105,000</strong></p>
    </div>

    <!-- SECTION 4: INTERPRETABILITY CONCEPTS -->
    <h2>Section 4: White-Box vs. Black-Box Models</h2>

    <div class="exercise-box">
        <div class="exercise-number">Exercise 4.1: Classifying Models</div>
        <p>Classify each model as White-Box (W) or Black-Box (B):</p>
        
        <table>
            <tr>
                <th>Model</th>
                <th>Classification (W or B)</th>
                <th>Why?</th>
            </tr>
            <tr>
                <td>Linear Regression</td>
                <td><div class="answer-space"></div></td>
                <td><div class="answer-space"></div></td>
            </tr>
            <tr>
                <td>Neural Network with 5 hidden layers</td>
                <td><div class="answer-space"></div></td>
                <td><div class="answer-space"></div></td>
            </tr>
            <tr>
                <td>Decision Tree</td>
                <td><div class="answer-space"></div></td>
                <td><div class="answer-space"></div></td>
            </tr>
            <tr>
                <td>Random Forest (100 trees)</td>
                <td><div class="answer-space"></div></td>
                <td><div class="answer-space"></div></td>
            </tr>
            <tr>
                <td>Logistic Regression</td>
                <td><div class="answer-space"></div></td>
                <td><div class="answer-space"></div></td>
            </tr>
        </table>
    </div>

    <div class="exercise-box">
        <div class="exercise-number">Exercise 4.2: Choosing the Right Model</div>
        <p>For each scenario, recommend whether a White-Box (W) or Black-Box (B) model would be more appropriate. Explain your reasoning.</p>
        
        <p><strong>Scenario A:</strong> A bank needs to explain loan rejections to customers and regulators.</p>
        <p>Recommendation: <span class="answer-space" style="width: 100px; display: inline-block;"></span></p>
        <p>Reasoning:</p>
        <div class="answer-space"></div>
        <div class="answer-space"></div>
        
        <p><strong>Scenario B:</strong> A tech company is building image recognition for self-driving cars where accuracy is paramount.</p>
        <p>Recommendation: <span class="answer-space" style="width: 100px; display: inline-block;"></span></p>
        <p>Reasoning:</p>
        <div class="answer-space"></div>
        <div class="answer-space"></div>
        
        <p><strong>Scenario C:</strong> A hospital wants to predict patient readmission risk to help doctors make treatment decisions.</p>
        <p>Recommendation: <span class="answer-space" style="width: 100px; display: inline-block;"></span></p>
        <p>Reasoning:</p>
        <div class="answer-space"></div>
        <div class="answer-space"></div>
    </div>

    <div class="exercise-box">
        <div class="exercise-number">Exercise 4.3: Shapley Values Concept</div>
        <p>A loan approval model considers three features for an applicant:</p>
        <ul>
            <li>Income: $80,000 (above average)</li>
            <li>Credit Score: 650 (below average)</li>
            <li>Debt Ratio: 35% (above average/worse)</li>
        </ul>
        
        <p>The Shapley values are:</p>
        <ul>
            <li>Income: +0.12</li>
            <li>Credit Score: -0.18</li>
            <li>Debt Ratio: -0.08</li>
        </ul>
        
        <p><strong>a)</strong> Which feature contributes most positively to approval?</p>
        <div class="answer-space"></div>
        
        <p><strong>b)</strong> Which feature hurts the application most?</p>
        <div class="answer-space"></div>
        
        <p><strong>c)</strong> What is the overall effect of these features? (Add the Shapley values)</p>
        <div class="answer-space"></div>
        
        <p><strong>d)</strong> Would you recommend approving this loan? Why or why not?</p>
        <div class="answer-space"></div>
        <div class="answer-space"></div>
    </div>

    <!-- ANSWER KEY SECTION 4 -->
    <div class="answer-key">
        <h3>Answer Key: Section 4</h3>
        
        <p><strong>Exercise 4.1:</strong></p>
        <table>
            <tr>
                <th>Model</th>
                <th>Classification</th>
                <th>Why</th>
            </tr>
            <tr>
                <td>Linear Regression</td>
                <td>W</td>
                <td>Clear formula, interpretable weights</td>
            </tr>
            <tr>
                <td>Neural Network</td>
                <td>B</td>
                <td>Complex internal calculations, non-linear</td>
            </tr>
            <tr>
                <td>Decision Tree</td>
                <td>W</td>
                <td>Can trace exact path of decisions</td>
            </tr>
            <tr>
                <td>Random Forest</td>
                <td>B</td>
                <td>Combines many trees, complex interactions</td>
            </tr>
            <tr>
                <td>Logistic Regression</td>
                <td>W</td>
                <td>Clear formula, interpretable coefficients</td>
            </tr>
        </table>
        
        <p style="margin-top: 20px;"><strong>Exercise 4.2:</strong></p>
        <p><strong>Scenario A: White-Box (W)</strong></p>
        <p>Reasoning: Legal and regulatory requirements demand explainability. Customers deserve clear reasons for rejection. Transparency builds trust and ensures compliance.</p>
        
        <p><strong>Scenario B: Black-Box (B)</strong></p>
        <p>Reasoning: Safety-critical application where maximum accuracy is paramount. Complex visual patterns require deep neural networks. Can add interpretability methods afterward if needed.</p>
        
        <p><strong>Scenario C: White-Box (W) or hybrid approach</strong></p>
        <p>Reasoning: Doctors need to understand predictions to make treatment decisions. Trust and transparency are essential in healthcare. Could use white-box model or black-box with strong interpretability tools like Shapley values.</p>
        
        <p style="margin-top: 20px;"><strong>Exercise 4.3:</strong></p>
        <p>a) <strong>Income</strong> (+0.12)</p>
        <p>b) <strong>Credit Score</strong> (-0.18)</p>
        <p>c) Overall effect: +0.12 - 0.18 - 0.08 = <strong>-0.14</strong> (negative impact overall)</p>
        <p>d) <strong>Probably reject.</strong> The overall Shapley value is negative, meaning these features push the prediction toward rejection. The low credit score is particularly concerning and outweighs the positive income effect.</p>
    </div>

    <!-- SECTION 5: REAL-WORLD APPLICATION -->
    <h2>Section 5: Putting It All Together</h2>

    <div class="exercise-box">
        <div class="exercise-number">Exercise 5.1: Complete Case Analysis</div>
        <p><strong>Scenario:</strong> You're consulting for a lending company. They've built a model with these results on 200 test applications:</p>
        
        <table>
            <tr>
                <th></th>
                <th>Predicted: Good</th>
                <th>Predicted: Default</th>
            </tr>
            <tr>
                <th>Actually: Good</th>
                <td>95</td>
                <td>25</td>
            </tr>
            <tr>
                <th>Actually: Default</th>
                <td>15</td>
                <td>65</td>
            </tr>
        </table>
        
        <p><strong>Economic Context:</strong></p>
        <ul>
            <li>Each good loan earns $4,000 profit</li>
            <li>Each default costs $20,000 loss</li>
        </ul>
        
        <p><strong>Questions to answer:</strong></p>
        
        <p><strong>a)</strong> Calculate the model's accuracy:</p>
        <div class="calculation-space"></div>
        
        <p><strong>b)</strong> Calculate precision (of approved loans, what % were actually good?):</p>
        <div class="calculation-space"></div>
        
        <p><strong>c)</strong> Calculate the total profit/loss if you follow this model's recommendations:</p>
        <div class="calculation-space"></div>
        
        <p><strong>d)</strong> The model is currently using an 80% probability threshold. The company is considering raising it to 90%. What would be the likely effect on:</p>
        <ul>
            <li>Number of loans approved:</li>
            <div class="answer-space"></div>
            <li>Precision:</li>
            <div class="answer-space"></div>
            <li>Total profit:</li>
            <div class="answer-space"></div>
        </ul>
        
        <p><strong>e)</strong> Write a brief recommendation (3-4 sentences) to the company about whether they should raise the threshold:</p>
        <div class="answer-space"></div>
        <div class="answer-space"></div>
        <div class="answer-space"></div>
        <div class="answer-space"></div>
    </div>

    <!-- ANSWER KEY SECTION 5 -->
    <div class="answer-key">
        <h3>Answer Key: Section 5</h3>
        
        <p><strong>Exercise 5.1:</strong></p>
        
        <p><strong>a) Accuracy:</strong></p>
        <p>(95 + 65) / 200 = 160 / 200 = <strong>80%</strong></p>
        
        <p><strong>b) Precision:</strong></p>
        <p>95 / (95 + 15) = 95 / 110 = <strong>86.4%</strong></p>
        
        <p><strong>c) Total Profit/Loss:</strong></p>
        <p>Good loans: 95 × $4,000 = $380,000 profit</p>
        <p>Defaults: 15 × $20,000 = $300,000 loss</p>
        <p><strong>Net profit: $80,000</strong></p>
        
        <p><strong>d) Effect of raising threshold to 90%:</strong></p>
        <p>• Number of loans: Would <strong>decrease</strong> (rejecting more borderline cases)</p>
        <p>• Precision: Would <strong>increase</strong> (approving only highest-confidence loans)</p>
        <p>• Total profit: Likely would <strong>decrease</strong> (fewer loans approved means less total profit, even though we'd have fewer defaults)</p>
        
        <p><strong>e) Sample recommendation:</strong></p>
        <p>"I recommend keeping the 80% threshold. The current model is already achieving 86.4% precision and generating $80,000 in profit. Raising the threshold to 90% would reduce defaults but would also reject many profitable loans, likely reducing total profit. The current 15 defaults ($300K loss) are more than offset by 95 good loans ($380K profit). Focus instead on improving the model's ability to identify good loans rather than being more conservative with the threshold."</p>
    </div>

    <div class="note">
        <strong>Practice Tips:</strong>
        <ul>
            <li>Work through these exercises with pen and paper before checking answers</li>
            <li>If you get stuck, review the relevant slides from the presentation</li>
            <li>Try creating your own similar problems with different numbers</li>
            <li>Discuss your answers with peers to deepen understanding</li>
        </ul>
    </div>

    <button class="print-button" onclick="window.print()">Print Exercises</button>

</body>
</html>