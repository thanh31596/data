<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 4: Unsupervised Learning - DATA4800</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Helvetica', Arial, sans-serif;
            background: white;
            color: #333;
            overflow: hidden;
        }
        
        .presentation-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        .slide {
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            text-align: center;
        }
        
        .slide.active {
            display: flex;
        }
        
        .slide h1 {
            font-size: 3em;
            margin-bottom: 30px;
            color: #2c3e50;
            font-weight: 300;
        }
        
        .slide h2 {
            font-size: 2.5em;
            margin-bottom: 25px;
            color: #34495e;
            font-weight: 300;
        }
        
        .slide h3 {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: #2980b9;
            font-weight: 400;
        }
        
        .slide p, .slide li {
            font-size: 1.3em;
            line-height: 1.6;
            margin-bottom: 15px;
            max-width: 900px;
        }
        
        .slide ul {
            text-align: left;
            max-width: 800px;
        }
        
        .slide li {
            margin-bottom: 12px;
            padding-left: 10px;
        }
        
        .recap-box {
            background: #f8f9fa;
            border-left: 5px solid #3498db;
            padding: 25px;
            margin: 20px 0;
            border-radius: 5px;
            max-width: 800px;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            max-width: 1000px;
            margin: 20px 0;
        }
        
        .comparison-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
        }
        
        .comparison-item h4 {
            color: #2980b9;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        
        .workflow-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            max-width: 1200px;
            margin: 30px 0;
        }
        
        .workflow-step {
            background: #f8f9fa;
            border: 2px solid #3498db;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .workflow-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(52, 152, 219, 0.2);
            background: #3498db;
            color: white;
        }
        
        .workflow-step h4 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 1.2em;
        }
        
        .workflow-step:hover h4 {
            color: white;
        }
        
        .quiz-container {
            max-width: 800px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 30px;
        }
        
        .quiz-question {
            font-size: 1.4em;
            margin-bottom: 25px;
            color: #2c3e50;
            font-weight: bold;
        }
        
        .quiz-options {
            display: grid;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .quiz-option {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }
        
        .quiz-option:hover {
            border-color: #3498db;
            background: #e3f2fd;
        }
        
        .quiz-option.selected {
            border-color: #3498db;
            background: #e3f2fd;
        }
        
        .quiz-option.correct {
            border-color: #27ae60;
            background: #d5f4e6;
        }
        
        .quiz-option.incorrect {
            border-color: #e74c3c;
            background: #fdeaea;
        }
        
        .quiz-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }
        
        .quiz-feedback.correct {
            background: #d5f4e6;
            border: 2px solid #27ae60;
            color: #27ae60;
        }
        
        .quiz-feedback.incorrect {
            background: #fdeaea;
            border: 2px solid #e74c3c;
            color: #e74c3c;
        }
        
        .quiz-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
        }
        
        .quiz-btn:hover {
            background: #2980b9;
        }
        
        .quiz-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }
        
        .data-table {
            background: white;
            border: 2px solid #3498db;
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .data-table table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .data-table th {
            background: #3498db;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: bold;
        }
        
        .data-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .data-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .highlight {
            background: linear-gradient(120deg, #a8e6cf 0%, #dcedc1 100%);
            padding: 2px 6px;
            border-radius: 3px;
        }
        
        .animation-container {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            position: relative;
        }
        
        .cluster-point {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            position: absolute;
            transition: all 0.8s ease;
            cursor: pointer;
        }
        
        .centroid {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            position: absolute;
            border: 3px solid #333;
            transition: all 0.8s ease;
        }
        
        .distance-line {
            position: absolute;
            height: 3px;
            background: #e74c3c;
            transform-origin: left center;
            opacity: 0;
            transition: opacity 0.5s ease;
            box-shadow: 0 2px 4px rgba(231, 76, 60, 0.3);
            z-index: 5;
        }
        
        .scaling-demo {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .scaling-box {
            background: white;
            border: 2px solid #3498db;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        
        .scaling-box h4 {
            color: #2980b9;
            margin-bottom: 10px;
        }
        
        .bar-chart {
            display: flex;
            align-items: end;
            justify-content: space-around;
            height: 100px;
            margin: 15px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }
        
        .bar {
            width: 30px;
            background: #3498db;
            border-radius: 3px 3px 0 0;
            transition: height 0.8s ease;
            position: relative;
        }
        
        .bar::after {
            content: attr(data-value);
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8em;
            color: #333;
        }
        
        .navigation {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 1000;
        }
        
        .nav-btn {
            padding: 12px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .nav-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }
        
        .slide-counter {
            position: fixed;
            top: 30px;
            right: 30px;
            background: #34495e;
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 14px;
        }
        
        .elbow-chart {
            width: 400px;
            height: 300px;
            margin: 20px auto;
            background: white;
            border: 2px solid #3498db;
            border-radius: 8px;
            position: relative;
            padding: 20px;
        }
        
        .chart-line {
            stroke: #e74c3c;
            stroke-width: 3;
            fill: none;
        }
        
        .chart-point {
            fill: #e74c3c;
            cursor: pointer;
        }
        
        .chart-point:hover {
            fill: #c0392b;
            r: 8;
        }
        
        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
            
            .workflow-container {
                grid-template-columns: 1fr;
            }
            
            .scaling-demo {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        <div class="slide-counter">
            <span id="slide-number">1</span> / <span id="total-slides">35</span>
        </div>

        <!-- Slide 1: Title -->
        <div class="slide active">
            <h1>Week 4: Unsupervised Learning</h1>
            <h3>DATA4800: Data Analytics and Machine Learning</h3>
            <p>Understanding patterns in data without target variables</p>
        </div>

        <!-- Slide 2: Week 3 Recap -->
        <div class="slide">
            <h2>Week 3 Recap: Supervised Learning</h2>
            <div class="recap-box">
                <h3>What we learned:</h3>
                <ul>
                    <li><strong>Decision Trees:</strong> Rule-based models that split data based on feature values</li>
                    <li><strong>Random Forest:</strong> Ensemble of multiple decision trees for better accuracy</li>
                    <li><strong>Key concept:</strong> We had target variables (labels) to predict</li>
                </ul>
            </div>
        </div>

        <!-- Slide 3: Supervised vs Unsupervised -->
        <div class="slide">
            <h2>Supervised vs Unsupervised Learning</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Supervised Learning</h4>
                    <p><strong>Has target variable</strong></p>
                    <p>Example: Predicting if a customer will respond to a campaign</p>
                    <div class="data-table">
                        <table>
                            <tr>
                                <th>Age</th>
                                <th>Income</th>
                                <th>Response</th>
                            </tr>
                            <tr>
                                <td>25</td>
                                <td>45K</td>
                                <td class="highlight">Yes</td>
                            </tr>
                            <tr>
                                <td>45</td>
                                <td>65K</td>
                                <td class="highlight">No</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="comparison-item">
                    <h4>Unsupervised Learning</h4>
                    <p><strong>No target variable</strong></p>
                    <p>Example: Grouping customers by similarity</p>
                    <div class="data-table">
                        <table>
                            <tr>
                                <th>Age</th>
                                <th>Income</th>
                                <th>Purchases</th>
                            </tr>
                            <tr>
                                <td>25</td>
                                <td>45K</td>
                                <td>5</td>
                            </tr>
                            <tr>
                                <td>45</td>
                                <td>65K</td>
                                <td>12</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 4: Recap Quiz -->
        <div class="slide">
            <h2>Quick Recap Quiz</h2>
            <div class="quiz-container">
                <div class="quiz-question">
                    Which algorithm uses multiple decision trees to make predictions?
                </div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectQuizOption(this, false)">
                        A) Decision Tree
                    </div>
                    <div class="quiz-option" onclick="selectQuizOption(this, true)">
                        B) Random Forest
                    </div>
                    <div class="quiz-option" onclick="selectQuizOption(this, false)">
                        C) Linear Regression
                    </div>
                </div>
                <button class="quiz-btn" onclick="checkQuizAnswer(1)" disabled>Check Answer</button>
                <div class="quiz-feedback" id="quiz-feedback-1"></div>
            </div>
        </div>

        <!-- Slide 5: Today's Objectives -->
        <div class="slide">
            <h2>Today's Learning Objectives</h2>
            <div class="workflow-container">
                <div class="workflow-step">
                    <h4>Understand Unsupervised Learning</h4>
                    <p>Learn when and why to use it</p>
                </div>
                <div class="workflow-step">
                    <h4>Data Preprocessing</h4>
                    <p>Feature scaling and distance measures</p>
                </div>
                <div class="workflow-step">
                    <h4>K-means Clustering</h4>
                    <p>Our first clustering algorithm</p>
                </div>
            </div>
        </div>

        <!-- Slide 6: Real-life Example -->
        <div class="slide">
            <h2>When Do We Use Unsupervised Learning?</h2>
            <div class="recap-box">
                <h3>Real Business Scenario:</h3>
                <p>You work for a retail company with 10,000 customers. You want to:</p>
                <ul>
                    <li>Group customers with similar behavior</li>
                    <li>Create targeted marketing campaigns</li>
                    <li>But you don't know how many groups exist</li>
                    <li>And you don't have labels telling you which group each customer belongs to</li>
                </ul>
                <p><strong>Solution:</strong> Unsupervised learning finds hidden patterns!</p>
            </div>
        </div>

        <!-- Slide 7: Unsupervised Learning Definition -->
        <div class="slide">
            <h2>What is Unsupervised Learning?</h2>
            <p>A family of machine learning models trained to <span class="highlight">group items based on similarity</span></p>
            <div class="animation-container" id="grouping-animation">
                <p>Watch as similar customers naturally group together:</p>
                <!-- Animation points will be added by JavaScript -->
            </div>
        </div>

        <!-- Slide 8: The Workflow -->
        <div class="slide">
            <h2>Unsupervised Learning Workflow</h2>
            <div class="workflow-container">
                <div class="workflow-step">
                    <h4>1. Collect Data</h4>
                    <p>Gather customer information without labels</p>
                </div>
                <div class="workflow-step">
                    <h4>2. Preprocess</h4>
                    <p>Clean and scale the data</p>
                </div>
                <div class="workflow-step">
                    <h4>3. Apply Algorithm</h4>
                    <p>Let the model find patterns</p>
                </div>
                <div class="workflow-step">
                    <h4>4. Analyze Results</h4>
                    <p>Interpret the discovered groups</p>
                </div>
                <div class="workflow-step">
                    <h4>5. Take Action</h4>
                    <p>Create strategies for each group</p>
                </div>
            </div>
        </div>

        <!-- Slide 9: Sample Dataset Problem -->
        <div class="slide">
            <h2>Our Business Problem</h2>
            <p>Let's work with real customer data to understand the process:</p>
            <div class="data-table">
                <table>
                    <tr>
                        <th>CustomerID</th>
                        <th>Age</th>
                        <th>Income (K)</th>
                        <th>Avg Transaction</th>
                        <th>Previous Purchases</th>
                    </tr>
                    <tr>
                        <td>C001</td>
                        <td>25</td>
                        <td>45</td>
                        <td>$125</td>
                        <td>3</td>
                    </tr>
                    <tr>
                        <td>C002</td>
                        <td>45</td>
                        <td>75</td>
                        <td>$200</td>
                        <td>15</td>
                    </tr>
                    <tr>
                        <td>C003</td>
                        <td>28</td>
                        <td>50</td>
                        <td>$150</td>
                        <td>8</td>
                    </tr>
                    <tr>
                        <td>C004</td>
                        <td>52</td>
                        <td>90</td>
                        <td>$300</td>
                        <td>25</td>
                    </tr>
                </table>
            </div>
            <p><strong>Question:</strong> How can we group these customers without knowing their segments beforehand?</p>
        </div>

        <!-- Slide 10: Animation of Clustering Process -->
        <div class="slide">
            <h2>Converting Data to Visual Coordinates</h2>
            <p><strong>Step 1:</strong> Transform customer features into x-y coordinates for plotting</p>
            <div class="data-table" style="margin: 20px 0;">
                <table>
                    <tr>
                        <th>Customer</th>
                        <th>Age (Y-axis)</th>
                        <th>Income (X-axis)</th>
                        <th>→ Plot Position</th>
                    </tr>
                    <tr>
                        <td>C001</td>
                        <td>25</td>
                        <td>45K</td>
                        <td>(45, 25)</td>
                    </tr>
                    <tr>
                        <td>C002</td>
                        <td>45</td>
                        <td>75K</td>
                        <td>(75, 45)</td>
                    </tr>
                    <tr>
                        <td>C003</td>
                        <td>28</td>
                        <td>50K</td>
                        <td>(50, 28)</td>
                    </tr>
                    <tr>
                        <td>C004</td>
                        <td>52</td>
                        <td>90K</td>
                        <td>(90, 52)</td>
                    </tr>
                </table>
            </div>
            <div class="animation-container" id="clustering-demo" style="height: 350px;">
                <p>Click "Start Clustering" to see how customers group by Age (Y) and Income (X):</p>
                <button class="quiz-btn" onclick="startClusteringAnimation()" style="margin: 20px;">Start Clustering</button>
                <div style="position: relative; width: 100%; height: 250px; background: #f8f9fa; border-radius: 10px; margin-top: 20px;">
                    <!-- Clustering animation will be added here -->
                </div>
            </div>
        </div>

        <!-- Slide 11: Understanding the Results -->
        <div class="slide">
            <h2>Interpreting the Customer Groups</h2>
            <p>Now that we've plotted customers using (Income, Age) coordinates, we can analyze the groups:</p>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Group 1: Young Budget Shoppers</h4>
                    <p><strong>Location:</strong> Lower-left area</p>
                    <p><strong>Coordinates:</strong> Low Income (X), Low Age (Y)</p>
                    <p>Age: 20-35, Income: $40-55K</p>
                    <p>Small transactions, few purchases</p>
                    <p><strong>Strategy:</strong> Discount campaigns, entry-level products</p>
                </div>
                <div class="comparison-item">
                    <h4>Group 2: Mature Premium Customers</h4>
                    <p><strong>Location:</strong> Upper-right area</p>
                    <p><strong>Coordinates:</strong> High Income (X), High Age (Y)</p>
                    <p>Age: 45-60, Income: $75-90K</p>
                    <p>Large transactions, frequent purchases</p>
                    <p><strong>Strategy:</strong> Premium products, loyalty programs</p>
                </div>
            </div>
            <div class="recap-box" style="margin-top: 20px;">
                <p><strong>Key Insight:</strong> Customers with similar coordinates (Income, Age) have similar behaviors!</p>
            </div>
        </div>

        <!-- Slide 12: Quiz on Unsupervised Learning -->
        <div class="slide">
            <h2>Understanding Check</h2>
            <div class="quiz-container">
                <div class="quiz-question">
                    What is the main characteristic of unsupervised learning?
                </div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectQuizOption(this, false)">
                        A) It requires labeled training data
                    </div>
                    <div class="quiz-option" onclick="selectQuizOption(this, true)">
                        B) It finds patterns without target variables
                    </div>
                    <div class="quiz-option" onclick="selectQuizOption(this, false)">
                        C) It only works with numerical data
                    </div>
                </div>
                <button class="quiz-btn" onclick="checkQuizAnswer(2)" disabled>Check Answer</button>
                <div class="quiz-feedback" id="quiz-feedback-2"></div>
            </div>
        </div>

        <!-- Slide 13: Feature Scaling Introduction -->
        <div class="slide">
            <h2>Why Do We Need Feature Scaling?</h2>
            <p>Look at our customer data - notice the different ranges:</p>
            <div class="data-table">
                <table>
                    <tr>
                        <th>Feature</th>
                        <th>Min Value</th>
                        <th>Max Value</th>
                        <th>Range</th>
                    </tr>
                    <tr>
                        <td>Age</td>
                        <td>18</td>
                        <td>65</td>
                        <td>47</td>
                    </tr>
                    <tr>
                        <td>Income (K)</td>
                        <td>25</td>
                        <td>120</td>
                        <td>95</td>
                    </tr>
                    <tr>
                        <td>Previous Purchases</td>
                        <td>0</td>
                        <td>50</td>
                        <td>50</td>
                    </tr>
                </table>
            </div>
            <p><strong>Problem:</strong> Income dominates because it has larger numbers!</p>
        </div>

        <!-- Slide 14: Feature Scaling Methods -->
        <div class="slide">
            <h2>Feature Scaling Methods</h2>
            <div class="scaling-demo">
                <div class="scaling-box">
                    <h4>Min-Max Scaling</h4>
                    <p>Scale to 0-1 range</p>
                    <p><strong>Formula:</strong><br>(value - min) / (max - min)</p>
                    <div class="bar-chart" id="minmax-chart">
                        <div class="bar" data-value="0.0" style="height: 5px;"></div>
                        <div class="bar" data-value="0.5" style="height: 50px;"></div>
                        <div class="bar" data-value="1.0" style="height: 100px;"></div>
                    </div>
                </div>
                <div class="scaling-box">
                    <h4>Z-Score Scaling</h4>
                    <p>Center around mean</p>
                    <p><strong>Formula:</strong><br>(value - mean) / std</p>
                    <div class="bar-chart" id="zscore-chart">
                        <div class="bar" data-value="-1.5" style="height: 20px;"></div>
                        <div class="bar" data-value="0.0" style="height: 50px;"></div>
                        <div class="bar" data-value="1.5" style="height: 80px;"></div>
                    </div>
                </div>
                <div class="scaling-box">
                    <h4>Robust Scaling</h4>
                    <p>Uses median and quartiles</p>
                    <p><strong>Formula:</strong><br>(value - median) / IQR</p>
                    <div class="bar-chart" id="robust-chart">
                        <div class="bar" data-value="-0.8" style="height: 25px;"></div>
                        <div class="bar" data-value="0.0" style="height: 50px;"></div>
                        <div class="bar" data-value="0.8" style="height: 75px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 15: Distance Measures -->
        <div class="slide">
            <h2>Measuring Similarity: Distance</h2>
            <p>How do we measure how similar two customers are using their <strong>x-y coordinates</strong>?</p>
            <div class="recap-box" style="margin: 15px 0;">
                <p><strong>Coordinate System Reminder:</strong> X = Income, Y = Age</p>
                <p>Each customer becomes a point: <strong>(Income, Age)</strong></p>
            </div>
            <div class="animation-container" id="distance-demo" style="height: 350px;">
                <p><strong>Interactive Demo:</strong> Click on any two customer points to calculate their distance:</p>
                <div style="position: relative; width: 400px; height: 250px; background: #f8f9fa; border: 2px solid #3498db; border-radius: 10px; margin: 20px auto;">
                    <!-- Distance demo will be added here -->
                </div>
                <div id="distance-calculation" style="margin-top: 20px; font-size: 1.1em;">
                    <p><strong>Euclidean Distance Formula:</strong></p>
                    <p>d = √[(Income₂-Income₁)² + (Age₂-Age₁)²]</p>
                    <p>d = √[(x₂-x₁)² + (y₂-y₁)²]</p>
                    <p style="color: #666; font-size: 0.9em;"><em>Click two points above to see the calculation in action!</em></p>
                </div>
            </div>
        </div>

        <!-- Slide 16: Distance Quiz -->
        <div class="slide">
            <h2>Distance Measure Quiz</h2>
            <div class="quiz-container">
                <div class="quiz-question">
                    If Customer A is at position (3, 4) and Customer B is at (6, 8), what is the Euclidean distance?
                </div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectQuizOption(this, false)">
                        A) 7.0
                    </div>
                    <div class="quiz-option" onclick="selectQuizOption(this, true)">
                        B) 5.0
                    </div>
                    <div class="quiz-option" onclick="selectQuizOption(this, false)">
                        C) 3.5
                    </div>
                </div>
                <button class="quiz-btn" onclick="checkQuizAnswer(3)" disabled>Check Answer</button>
                <div class="quiz-feedback" id="quiz-feedback-3"></div>
            </div>
        </div>

        <!-- Slide 17: K-means Introduction -->
        <div class="slide">
            <h2>K-means Clustering Algorithm</h2>
            <div class="recap-box">
                <h3>What is K-means?</h3>
                <ul>
                    <li><strong>K:</strong> The number of groups (clusters) we want</li>
                    <li><strong>Means:</strong> Average center of each group</li>
                    <li><strong>Goal:</strong> Group customers so that similar customers are together</li>
                </ul>
                <p><strong>Key Terms:</strong></p>
                <ul>
                    <li><strong>Cluster:</strong> A group of similar customers</li>
                    <li><strong>Centroid:</strong> The center point of a cluster</li>
                </ul>
            </div>
        </div>

        <!-- Slide 18: How K-means Works -->
        <div class="slide">
            <h2>How K-means Works</h2>
            <div class="workflow-container">
                <div class="workflow-step">
                    <h4>Step 1: Choose K</h4>
                    <p>Decide how many groups you want (e.g., K=3)</p>
                </div>
                <div class="workflow-step">
                    <h4>Step 2: Place Centroids</h4>
                    <p>Randomly place K center points</p>
                </div>
                <div class="workflow-step">
                    <h4>Step 3: Assign Points</h4>
                    <p>Each customer joins the nearest centroid</p>
                </div>
                <div class="workflow-step">
                    <h4>Step 4: Move Centroids</h4>
                    <p>Move centroids to center of their groups</p>
                </div>
                <div class="workflow-step">
                    <h4>Step 5: Repeat</h4>
                    <p>Keep assigning and moving until stable</p>
                </div>
            </div>
        </div>

        <!-- Slide 19: K-means Animation -->
        <div class="slide">
            <h2>K-means in Action</h2>
            <div class="animation-container" id="kmeans-demo" style="height: 450px;">
                <p>Watch K-means find 3 customer groups:</p>
                <button class="quiz-btn" onclick="startKMeansAnimation()" style="margin: 20px;">Start K-means</button>
                <div style="position: relative; width: 500px; height: 350px; background: #f8f9fa; border: 2px solid #3498db; border-radius: 10px; margin: 20px auto;">
                    <!-- K-means animation will be added here -->
                </div>
                <div id="iteration-counter" style="font-size: 1.2em; margin-top: 10px;">
                    <strong>Iteration: 0</strong>
                </div>
            </div>
        </div>

        <!-- Slide 20: Business Context -->
        <div class="slide">
            <h2>When to Use K-means in Business</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Customer Segmentation</h4>
                    <p>Group customers by purchasing behavior for targeted marketing campaigns</p>
                </div>
                <div class="comparison-item">
                    <h4>Market Research</h4>
                    <p>Identify distinct market segments to develop different products</p>
                </div>
                <div class="comparison-item">
                    <h4>Inventory Management</h4>
                    <p>Group products by sales patterns to optimize stocking strategies</p>
                </div>
                <div class="comparison-item">
                    <h4>Risk Assessment</h4>
                    <p>Group customers by risk profiles for better loan or insurance decisions</p>
                </div>
            </div>
        </div>

        <!-- Slide 21: Choosing K - The Problem -->
        <div class="slide">
            <h2>How Many Groups Should We Choose?</h2>
            <p>The biggest challenge: How do we decide the value of K?</p>
            <div class="data-table">
                <table>
                    <tr>
                        <th>K Value</th>
                        <th>Result</th>
                        <th>Problem</th>
                    </tr>
                    <tr>
                        <td>K = 1</td>
                        <td>All customers in one group</td>
                        <td>Not useful for marketing</td>
                    </tr>
                    <tr>
                        <td>K = 100</td>
                        <td>Each customer is their own group</td>
                        <td>Too specific, no patterns</td>
                    </tr>
                    <tr>
                        <td>K = ?</td>
                        <td>Right balance</td>
                        <td><strong>How do we find this?</strong></td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Slide 22: Elbow Method -->
        <div class="slide">
            <h2>The Elbow Method</h2>
            <p>Find the "elbow" point where adding more clusters doesn't help much</p>
            <div class="elbow-chart" id="elbow-chart">
                <svg width="360" height="260">
                    <text x="180" y="250" text-anchor="middle" style="font-size: 14px;">Number of Clusters (K)</text>
                    <text x="20" y="130" text-anchor="middle" style="font-size: 14px; transform: rotate(-90deg); transform-origin: 20px 130px;">Sum of Squared Errors</text>
                    <!-- Chart will be drawn by JavaScript -->
                </svg>
            </div>
            <button class="quiz-btn" onclick="animateElbowChart()" style="margin: 20px;">Show Elbow Point</button>
        </div>

        <!-- Slide 23: Silhouette Score -->
        <div class="slide">
            <h2>Silhouette Score</h2>
            <div class="recap-box">
                <h3>What is Silhouette Score?</h3>
                <p>Measures how well each customer fits in their assigned group</p>
                <ul>
                    <li><strong>Range:</strong> -1 to +1</li>
                    <li><strong>+1:</strong> Perfect clustering</li>
                    <li><strong>0:</strong> Customer is on the boundary</li>
                    <li><strong>-1:</strong> Customer is in wrong cluster</li>
                </ul>
                <p><strong>How to use:</strong> Try different K values and choose the one with highest average silhouette score</p>
            </div>
        </div>

        <!-- Slide 24: Choosing K Methods Summary -->
        <div class="slide">
            <h2>Summary: Choosing the Right K</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Elbow Method</h4>
                    <p><strong>Pros:</strong> Easy to understand and visualize</p>
                    <p><strong>Cons:</strong> Elbow point not always clear</p>
                    <p><strong>Best for:</strong> Getting a rough idea of K</p>
                </div>
                <div class="comparison-item">
                    <h4>Silhouette Score</h4>
                    <p><strong>Pros:</strong> Considers cluster quality</p>
                    <p><strong>Cons:</strong> More complex to calculate</p>
                    <p><strong>Best for:</strong> Confirming your K choice</p>
                </div>
            </div>
            <div class="recap-box">
                <p><strong>Recommendation:</strong> Use both methods together and consider your business knowledge!</p>
            </div>
        </div>

        <!-- Slide 25: Choosing K Methods Summary -->
        <div class="slide">
            <h2>Summary: Choosing the Right K</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Elbow Method</h4>
                    <p><strong>Pros:</strong> Easy to understand and visualize</p>
                    <p><strong>Cons:</strong> Elbow point not always clear</p>
                    <p><strong>Best for:</strong> Getting a rough idea of K</p>
                </div>
                <div class="comparison-item">
                    <h4>Silhouette Score</h4>
                    <p><strong>Pros:</strong> Considers cluster quality</p>
                    <p><strong>Cons:</strong> More complex to calculate</p>
                    <p><strong>Best for:</strong> Confirming your K choice</p>
                </div>
            </div>
            <div class="recap-box">
                <p><strong>Recommendation:</strong> Use both methods together and consider your business knowledge!</p>
            </div>
        </div>

        <!-- Slide 26: Curse of Dimensionality - What is Dimensionality? -->
        <div class="slide">
            <h2>What is Dimensionality in Data?</h2>
            <p><strong>Dimensionality = Number of Features (Columns) in Your Dataset</strong></p>
            <div class="data-table">
                <table>
                    <tr>
                        <th colspan="4" style="background: #27ae60;">Low Dimensionality (3 Features)</th>
                    </tr>
                    <tr>
                        <th>Age</th>
                        <th>Income</th>
                        <th>Purchases</th>
                    </tr>
                    <tr>
                        <td>25</td>
                        <td>45K</td>
                        <td>5</td>
                    </tr>
                </table>
            </div>
            <div class="data-table" style="margin-top: 20px;">
                <table>
                    <tr>
                        <th colspan="8" style="background: #e74c3c;">High Dimensionality (Many Features)</th>
                    </tr>
                    <tr>
                        <th>Age</th>
                        <th>Income</th>
                        <th>Purchases</th>
                        <th>Email Open Rate</th>
                        <th>Days Since Last</th>
                        <th>Avg Transaction</th>
                        <th>Mobile User</th>
                        <th>...</th>
                    </tr>
                    <tr>
                        <td>25</td>
                        <td>45K</td>
                        <td>5</td>
                        <td>15%</td>
                        <td>30</td>
                        <td>$125</td>
                        <td>Yes</td>
                        <td>+20 more</td>
                    </tr>
                </table>
            </div>
            <p><strong>Real datasets often have 50, 100, or even 1000+ features!</strong></p>
        </div>

        <!-- Slide 27: Curse of Dimensionality - Why is it a Problem? -->
        <div class="slide">
            <h2>The Curse of Dimensionality</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>😊 Low Dimensions (2-10 features)</h4>
                    <ul>
                        <li>Easy to visualize and understand</li>
                        <li>Distance calculations make sense</li>
                        <li>Clustering works well</li>
                        <li>Fast computation</li>
                    </ul>
                </div>
                <div class="comparison-item">
                    <h4>😰 High Dimensions (100+ features)</h4>
                    <ul>
                        <li>Impossible to visualize</li>
                        <li>All points seem equally distant</li>
                        <li>Clustering becomes meaningless</li>
                        <li>Very slow computation</li>
                        <li>Needs massive amounts of data</li>
                    </ul>
                </div>
            </div>
            <div class="animation-container" id="dimension-demo" style="height: 200px;">
                <p><strong>The Problem:</strong> In high dimensions, everything looks the same!</p>
                <button class="quiz-btn" onclick="showDimensionProblem()" style="margin: 20px;">Show the Problem</button>
                <div id="dimension-visualization" style="display: none; margin-top: 20px;">
                    <p style="color: #e74c3c; font-weight: bold;">In 100 dimensions, Customer A and Customer B are almost the same distance apart as any other pair!</p>
                </div>
            </div>
        </div>

        <!-- Slide 28: Introduction to PCA -->
        <div class="slide">
            <h2>Principal Component Analysis (PCA)</h2>
            <div class="recap-box">
                <h3>What is PCA?</h3>
                <p>A technique that <strong>reduces the number of dimensions</strong> while <strong>keeping the most important information</strong></p>
                <ul>
                    <li><strong>Input:</strong> Dataset with many features (high dimension)</li>
                    <li><strong>Output:</strong> Dataset with fewer features (low dimension)</li>
                    <li><strong>Goal:</strong> Reduce complexity while preserving patterns</li>
                </ul>
            </div>
            <div class="animation-container" style="height: 250px;">
                <p><strong>Think of it as:</strong> Taking a 3D shadow and projecting it onto a 2D wall</p>
                <div style="display: flex; justify-content: center; align-items: center; gap: 50px; margin-top: 30px;">
                    <div style="background: #3498db; color: white; padding: 20px; border-radius: 10px;">
                        <h4>Before PCA</h4>
                        <p>50 Features</p>
                        <p>Complex, Slow</p>
                    </div>
                    <div style="font-size: 2em; color: #2c3e50;">→</div>
                    <div style="background: #27ae60; color: white; padding: 20px; border-radius: 10px;">
                        <h4>After PCA</h4>
                        <p>5 Features</p>
                        <p>Simple, Fast</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 29: What PCA Does for Business -->
        <div class="slide">
            <h2>Why Use PCA in Business?</h2>
            <div class="workflow-container">
                <div class="workflow-step">
                    <h4>Speed Up Analysis</h4>
                    <p>Algorithms run faster with fewer features</p>
                </div>
                <div class="workflow-step">
                    <h4>Reduce Storage</h4>
                    <p>Smaller datasets save money on storage</p>
                </div>
                <div class="workflow-step">
                    <h4>Better Visualization</h4>
                    <p>Plot data in 2D or 3D for insights</p>
                </div>
                <div class="workflow-step">
                    <h4>Remove Noise</h4>
                    <p>Focus on important patterns only</p>
                </div>
                <div class="workflow-step">
                    <h4>Improve Clustering</h4>
                    <p>K-means works better in low dimensions</p>
                </div>
            </div>
            <div class="recap-box" style="margin-top: 30px;">
                <p><strong>Real Example:</strong> Netflix uses PCA to analyze viewing patterns with thousands of movies and reduce them to key preference categories</p>
            </div>
        </div>

        <!-- Slide 30: PCA Step-by-Step Process -->
        <div class="slide">
            <h2>How PCA Works: Step-by-Step</h2>
            <div class="workflow-container">
                <div class="workflow-step">
                    <h4>Step 1: Standardize Data</h4>
                    <p>Scale all features to same range (z-score scaling)</p>
                </div>
                <div class="workflow-step">
                    <h4>Step 2: Calculate Covariance</h4>
                    <p>Find how features relate to each other</p>
                </div>
                <div class="workflow-step">
                    <h4>Step 3: Find Components</h4>
                    <p>Identify directions of maximum variation</p>
                </div>
                <div class="workflow-step">
                    <h4>Step 4: Rank Components</h4>
                    <p>Order by importance (explained variance)</p>
                </div>
                <div class="workflow-step">
                    <h4>Step 5: Select Top Components</h4>
                    <p>Keep components that explain 80-95% of variance</p>
                </div>
                <div class="workflow-step">
                    <h4>Step 6: Transform Data</h4>
                    <p>Project original data onto selected components</p>
                </div>
            </div>
        </div>

        <!-- Slide 31: PCA Data Example -->
        <div class="slide">
            <h2>PCA with Customer Data Example</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Original Data (5 Features)</h4>
                    <div class="data-table">
                        <table style="font-size: 0.9em;">
                            <tr>
                                <th>Age</th>
                                <th>Income</th>
                                <th>Purchases</th>
                                <th>Email Rate</th>
                                <th>Avg Transaction</th>
                            </tr>
                            <tr>
                                <td>25</td>
                                <td>45K</td>
                                <td>5</td>
                                <td>15%</td>
                                <td>$125</td>
                            </tr>
                            <tr>
                                <td>45</td>
                                <td>75K</td>
                                <td>15</td>
                                <td>25%</td>
                                <td>$200</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="comparison-item">
                    <h4>After PCA (2 Components)</h4>
                    <div class="data-table">
                        <table style="font-size: 0.9em;">
                            <tr>
                                <th>PC1 (Wealth)</th>
                                <th>PC2 (Engagement)</th>
                            </tr>
                            <tr>
                                <td>-1.2</td>
                                <td>-0.8</td>
                            </tr>
                            <tr>
                                <td>1.5</td>
                                <td>0.6</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="animation-container" id="pca-demo" style="height: 300px;">
                <p><strong>Component Interpretation:</strong></p>
                <ul style="text-align: left; max-width: 600px;">
                    <li><strong>PC1 (Principal Component 1):</strong> Combines Income + Age + Transaction Value = "Customer Wealth"</li>
                    <li><strong>PC2 (Principal Component 2):</strong> Combines Email Rate + Purchases = "Customer Engagement"</li>
                </ul>
                <button class="quiz-btn" onclick="showPCAVisualization()" style="margin: 20px;">Show PCA Transformation</button>
                <div id="pca-visualization" style="display: none; margin-top: 20px;">
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border: 2px solid #3498db;">
                        <p><strong>Result:</strong> Reduced from 5 features to 2 components while keeping 85% of the information!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 32: Evaluating PCA Quality -->
        <div class="slide">
            <h2>How to Evaluate Good PCA</h2>
            <p>How do we know if our PCA is working well? <strong>Check these key metrics:</strong></p>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>1. Explained Variance Ratio</h4>
                    <p>How much information each component captures</p>
                    <div class="data-table">
                        <table style="font-size: 0.9em;">
                            <tr>
                                <th>Component</th>
                                <th>Explained Variance</th>
                            </tr>
                            <tr>
                                <td>PC1</td>
                                <td>65%</td>
                            </tr>
                            <tr>
                                <td>PC2</td>
                                <td>20%</td>
                            </tr>
                            <tr>
                                <td>PC3</td>
                                <td>10%</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="comparison-item">
                    <h4>2. Cumulative Variance</h4>
                    <p>Total information preserved</p>
                    <div class="bar-chart" style="height: 120px;">
                        <div class="bar" style="height: 65px; background: #27ae60;" data-value="65%"></div>
                        <div class="bar" style="height: 85px; background: #f39c12;" data-value="85%"></div>
                        <div class="bar" style="height: 95px; background: #e74c3c;" data-value="95%"></div>
                    </div>
                    <p style="font-size: 0.9em;">PC1 → PC1+PC2 → PC1+PC2+PC3</p>
                </div>
            </div>
            <div class="animation-container" id="pca-evaluation" style="height: 200px;">
                <div class="recap-box">
                    <h3>PCA Quality Guidelines:</h3>
                    <ul>
                        <li><strong>Good PCA:</strong> First 2-5 components explain 80-95% of variance</li>
                        <li><strong>Business Sense:</strong> Components should have meaningful interpretation</li>
                        <li><strong>Scree Plot:</strong> Shows clear "elbow" where variance drops off</li>
                    </ul>
                </div>
                <button class="quiz-btn" onclick="showScreePlot()" style="margin: 15px;">Show Scree Plot Example</button>
                <div id="scree-visualization" style="display: none;">
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; border: 2px solid #27ae60; margin-top: 15px;">
                        <p><strong>✅ This is Good PCA:</strong> Clear drop after PC2, and PC1+PC2 capture 85% of information</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 33: PCA Quiz -->
        <div class="slide">
            <h2>PCA Understanding Quiz</h2>
            <div class="quiz-container">
                <div class="quiz-question">
                    What is the main purpose of Principal Component Analysis (PCA)?
                </div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectQuizOption(this, false)">
                        A) To increase the number of features in a dataset
                    </div>
                    <div class="quiz-option" onclick="selectQuizOption(this, true)">
                        B) To reduce dimensionality while preserving important information
                    </div>
                    <div class="quiz-option" onclick="selectQuizOption(this, false)">
                        C) To predict target variables more accurately
                    </div>
                </div>
                <button class="quiz-btn" onclick="checkQuizAnswer(4)" disabled>Check Answer</button>
                <div class="quiz-feedback" id="quiz-feedback-4"></div>
            </div>
        </div>

        <!-- Slide 33: PCA Quiz -->
        <div class="slide">
            <h2>PCA Understanding Quiz</h2>
            <div class="quiz-container">
                <div class="quiz-question">
                    What is the main purpose of Principal Component Analysis (PCA)?
                </div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectQuizOption(this, false)">
                        A) To increase the number of features in a dataset
                    </div>
                    <div class="quiz-option" onclick="selectQuizOption(this, true)">
                        B) To reduce dimensionality while preserving important information
                    </div>
                    <div class="quiz-option" onclick="selectQuizOption(this, false)">
                        C) To predict target variables more accurately
                    </div>
                </div>
                <button class="quiz-btn" onclick="checkQuizAnswer(4)" disabled>Check Answer</button>
                <div class="quiz-feedback" id="quiz-feedback-4"></div>
            </div>
        </div>

        <!-- Slide 34: Next Week Assessment -->
        <div class="slide">
            <h2>📢 Important Announcement</h2>
            <div class="recap-box" style="border-left-color: #e74c3c; background: #fff5f5;">
                <h3 style="color: #e74c3c;">Next Week: Assessment 1 - Group Project</h3>
                <ul>
                    <li><strong>Format:</strong> Group project (3-4 students per group)</li>
                    <li><strong>Topic:</strong> Apply unsupervised learning to a real dataset</li>
                    <li><strong>Requirements:</strong> K-means clustering, PCA, and business recommendations</li>
                    <li><strong>Due:</strong> Week 6</li>
                </ul>
            </div>
            <div class="animation-container" style="height: 200px;">
                <h3 style="color: #2980b9;">Action Items for Today:</h3>
                <div class="workflow-container">
                    <div class="workflow-step" style="background: #fff3cd; border-color: #ffc107;">
                        <h4>🤝 Find Teammates</h4>
                        <p>Form groups of 3-4 students</p>
                    </div>
                    <div class="workflow-step" style="background: #d1ecf1; border-color: #17a2b8;">
                        <h4>📧 Register Group</h4>
                        <p>Email group members to instructor</p>
                    </div>
                    <div class="workflow-step" style="background: #d4edda; border-color: #28a745;">
                        <h4>📚 Start Planning</h4>
                        <p>Begin thinking about dataset selection</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 35: Week 4 Complete Summary -->
        <div class="slide">
            <h2>Week 4 Complete Summary</h2>
            <div class="workflow-container">
                <div class="workflow-step">
                    <h4>Unsupervised Learning</h4>
                    <p>Finds patterns without target variables</p>
                </div>
                <div class="workflow-step">
                    <h4>K-means Clustering</h4>
                    <p>Groups similar customers together</p>
                </div>
                <div class="workflow-step">
                    <h4>Feature Scaling</h4>
                    <p>Essential for fair distance calculations</p>
                </div>
                <div class="workflow-step">
                    <h4>Curse of Dimensionality</h4>
                    <p>High dimensions create analysis problems</p>
                </div>
                <div class="workflow-step">
                    <h4>Principal Component Analysis</h4>
                    <p>Reduces dimensions while preserving information</p>
                </div>
            </div>
            <div class="recap-box" style="margin-top: 30px; background: #e8f5e8; border-left-color: #27ae60;">
                <p><strong>You now have the tools to:</strong> Segment customers, reduce data complexity, and prepare for advanced analytics!</p>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <button class="nav-btn" id="prev-btn" onclick="previousSlide()" disabled>Previous</button>
            <button class="nav-btn" id="next-btn" onclick="nextSlide()">Next</button>
        </div>
    </div>

    <script>
        let currentSlide = 0;
        let totalSlides = document.querySelectorAll('.slide').length;
        let selectedQuizOptions = {};
        let quizAnswered = {};

        document.getElementById('total-slides').textContent = totalSlides;

        function showSlide(n) {
            const slides = document.querySelectorAll('.slide');
            
            if (n >= totalSlides) currentSlide = totalSlides - 1;
            if (n < 0) currentSlide = 0;
            
            slides.forEach(slide => slide.classList.remove('active'));
            slides[currentSlide].classList.add('active');
            
            document.getElementById('slide-number').textContent = currentSlide + 1;
            
            // Initialize distance demo when showing slide 15 (index 14)
            if (currentSlide === 14) {
                setTimeout(initializeDistanceDemo, 100);
            }
            
            // Update navigation buttons
            document.getElementById('prev-btn').disabled = currentSlide === 0;
            document.getElementById('next-btn').disabled = currentSlide === totalSlides - 1;
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                currentSlide++;
                showSlide(currentSlide);
            }
        }

        function previousSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                showSlide(currentSlide);
            }
        }

        // Quiz functionality
        function selectQuizOption(element, isCorrect) {
            const quizContainer = element.closest('.quiz-container');
            const options = quizContainer.querySelectorAll('.quiz-option');
            const submitBtn = quizContainer.querySelector('.quiz-btn');
            
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            
            // Store the selection
            const slideIndex = Array.from(document.querySelectorAll('.slide')).indexOf(element.closest('.slide'));
            selectedQuizOptions[slideIndex] = { element, isCorrect };
            
            submitBtn.disabled = false;
        }

        function checkQuizAnswer(quizNumber) {
            const slideIndex = Array.from(document.querySelectorAll('.slide')).indexOf(document.querySelector('.slide.active'));
            const selection = selectedQuizOptions[slideIndex];
            const feedback = document.getElementById(`quiz-feedback-${quizNumber}`);
            
            if (selection) {
                const options = document.querySelectorAll('.slide.active .quiz-option');
                options.forEach(opt => {
                    if (opt === selection.element) {
                        opt.classList.add(selection.isCorrect ? 'correct' : 'incorrect');
                    }
                });
                
                feedback.style.display = 'block';
                feedback.className = `quiz-feedback ${selection.isCorrect ? 'correct' : 'incorrect'}`;
                
                if (selection.isCorrect) {
                    feedback.textContent = 'Correct! Well done.';
                } else {
                    if (quizNumber === 1) {
                        feedback.textContent = 'Incorrect. Random Forest uses multiple decision trees (ensemble method).';
                    } else if (quizNumber === 2) {
                        feedback.textContent = 'Incorrect. Unsupervised learning finds patterns without labeled target variables.';
                    } else if (quizNumber === 3) {
                        feedback.textContent = 'Incorrect. Distance = √[(6-3)² + (8-4)²] = √[9 + 16] = √25 = 5.0';
                    } else if (quizNumber === 4) {
                        feedback.textContent = 'Incorrect. PCA reduces the number of dimensions while keeping the most important information intact.';
                    }
                }
                
                quizAnswered[quizNumber] = true;
                document.querySelector('.slide.active .quiz-btn').disabled = true;
            }
        }

        // Animation functions
        function startClusteringAnimation() {
            const container = document.getElementById('clustering-demo').querySelector('div[style*="position: relative"]');
            container.innerHTML = '';
            
            // Add coordinate system labels
            const yLabel = document.createElement('div');
            yLabel.style.position = 'absolute';
            yLabel.style.left = '10px';
            yLabel.style.top = '120px';
            yLabel.style.transform = 'rotate(-90deg)';
            yLabel.style.transformOrigin = 'center';
            yLabel.style.fontWeight = 'bold';
            yLabel.style.color = '#2c3e50';
            yLabel.style.fontSize = '14px';
            yLabel.textContent = 'Age (Years)';
            container.appendChild(yLabel);
            
            const xLabel = document.createElement('div');
            xLabel.style.position = 'absolute';
            xLabel.style.bottom = '10px';
            xLabel.style.left = '50%';
            xLabel.style.transform = 'translateX(-50%)';
            xLabel.style.fontWeight = 'bold';
            xLabel.style.color = '#2c3e50';
            xLabel.style.fontSize = '14px';
            xLabel.textContent = 'Income (K)';
            container.appendChild(xLabel);
            
            // Add coordinate grid lines
            const gridStyle = 'position: absolute; background: #e9ecef; opacity: 0.5;';
            
            // Vertical grid lines (Income)
            for (let i = 1; i <= 4; i++) {
                const line = document.createElement('div');
                line.style.cssText = gridStyle + `left: ${i * 100}px; top: 0; width: 1px; height: 100%;`;
                container.appendChild(line);
            }
            
            // Horizontal grid lines (Age)
            for (let i = 1; i <= 3; i++) {
                const line = document.createElement('div');
                line.style.cssText = gridStyle + `left: 0; top: ${i * 60}px; width: 100%; height: 1px;`;
                container.appendChild(line);
            }
            
            // Sample customer data points mapped to coordinates
            const customers = [
                {x: 90, y: 180, age: 25, income: 45, color: '#3498db', id: 'C001'},
                {x: 130, y: 160, age: 28, income: 50, color: '#3498db', id: 'C003'},
                {x: 110, y: 170, age: 30, income: 48, color: '#3498db', id: 'C005'},
                {x: 290, y: 110, age: 45, income: 75, color: '#e74c3c', id: 'C002'},
                {x: 340, y: 80, age: 52, income: 90, color: '#e74c3c', id: 'C004'},
                {x: 320, y: 90, age: 48, income: 85, color: '#e74c3c', id: 'C006'}
            ];
            
            customers.forEach((customer, i) => {
                setTimeout(() => {
                    const point = document.createElement('div');
                    point.className = 'cluster-point';
                    point.style.left = customer.x + 'px';
                    point.style.top = customer.y + 'px';
                    point.style.backgroundColor = customer.color;
                    point.title = `${customer.id}: (${customer.income}, ${customer.age}) - Income: ${customer.income}K, Age: ${customer.age}`;
                    container.appendChild(point);
                    
                    // Add coordinate labels next to points
                    const coordLabel = document.createElement('div');
                    coordLabel.style.position = 'absolute';
                    coordLabel.style.left = (customer.x + 15) + 'px';
                    coordLabel.style.top = (customer.y - 10) + 'px';
                    coordLabel.style.fontSize = '10px';
                    coordLabel.style.color = customer.color;
                    coordLabel.style.fontWeight = 'bold';
                    coordLabel.style.background = 'rgba(255,255,255,0.9)';
                    coordLabel.style.padding = '1px 3px';
                    coordLabel.style.borderRadius = '3px';
                    coordLabel.textContent = `(${customer.income},${customer.age})`;
                    container.appendChild(coordLabel);
                }, i * 500);
            });
            
            // Add group labels
            setTimeout(() => {
                const label1 = document.createElement('div');
                label1.style.position = 'absolute';
                label1.style.left = '60px';
                label1.style.top = '200px';
                label1.style.background = '#3498db';
                label1.style.color = 'white';
                label1.style.padding = '8px 12px';
                label1.style.borderRadius = '8px';
                label1.style.fontSize = '12px';
                label1.style.fontWeight = 'bold';
                label1.textContent = 'Young Budget Shoppers';
                container.appendChild(label1);
                
                const label2 = document.createElement('div');
                label2.style.position = 'absolute';
                label2.style.left = '260px';
                label2.style.top = '120px';
                label2.style.background = '#e74c3c';
                label2.style.color = 'white';
                label2.style.padding = '8px 12px';
                label2.style.borderRadius = '8px';
                label2.style.fontSize = '12px';
                label2.style.fontWeight = 'bold';
                label2.textContent = 'Mature Premium Customers';
                container.appendChild(label2);
                
                // Add explanation
                const explanation = document.createElement('div');
                explanation.style.position = 'absolute';
                explanation.style.top = '5px';
                explanation.style.right = '5px';
                explanation.style.background = '#fff3cd';
                explanation.style.border = '2px solid #ffc107';
                explanation.style.borderRadius = '8px';
                explanation.style.padding = '10px';
                explanation.style.fontSize = '11px';
                explanation.style.color = '#856404';
                explanation.style.maxWidth = '200px';
                explanation.innerHTML = '<strong>Coordinate Mapping:</strong><br>X-axis = Income (horizontal)<br>Y-axis = Age (vertical)<br>Each point = (Income, Age)';
                container.appendChild(explanation);
            }, 3000);
        }

        // Distance demo functionality
        let selectedPoints = [];
        let distancePoints = [];

        function initializeDistanceDemo() {
            const container = document.querySelector('#distance-demo div[style*="position: relative"]');
            container.innerHTML = '';
            selectedPoints = [];
            distancePoints = [];
            
            // Add coordinate system labels
            const yLabel = document.createElement('div');
            yLabel.style.position = 'absolute';
            yLabel.style.left = '10px';
            yLabel.style.top = '120px';
            yLabel.style.transform = 'rotate(-90deg)';
            yLabel.style.transformOrigin = 'center';
            yLabel.style.fontWeight = 'bold';
            yLabel.style.color = '#2c3e50';
            yLabel.style.fontSize = '12px';
            yLabel.textContent = 'Age (Y-axis)';
            container.appendChild(yLabel);
            
            const xLabel = document.createElement('div');
            xLabel.style.position = 'absolute';
            xLabel.style.bottom = '10px';
            xLabel.style.left = '50%';
            xLabel.style.transform = 'translateX(-50%)';
            xLabel.style.fontWeight = 'bold';
            xLabel.style.color = '#2c3e50';
            xLabel.style.fontSize = '12px';
            xLabel.textContent = 'Income (X-axis)';
            container.appendChild(xLabel);
            
            // Add light grid
            const gridStyle = 'position: absolute; background: #e9ecef; opacity: 0.3;';
            for (let i = 1; i <= 3; i++) {
                const vLine = document.createElement('div');
                vLine.style.cssText = gridStyle + `left: ${i * 90}px; top: 0; width: 1px; height: 100%;`;
                container.appendChild(vLine);
                
                const hLine = document.createElement('div');
                hLine.style.cssText = gridStyle + `left: 0; top: ${i * 60}px; width: 100%; height: 1px;`;
                container.appendChild(hLine);
            }
            
            // Create sample customer points with clear coordinate mapping
            const customers = [
                {x: 80, y: 100, name: 'Customer A', age: 25, income: 45},
                {x: 200, y: 60, name: 'Customer B', age: 35, income: 60},
                {x: 120, y: 180, name: 'Customer C', age: 45, income: 50},
                {x: 300, y: 120, name: 'Customer D', age: 40, income: 75}
            ];
            
            distancePoints = customers;
            
            customers.forEach((customer, i) => {
                const point = document.createElement('div');
                point.className = 'cluster-point';
                point.style.left = customer.x + 'px';
                point.style.top = customer.y + 'px';
                point.style.backgroundColor = '#3498db';
                point.style.cursor = 'pointer';
                point.style.zIndex = '10';
                point.title = `${customer.name}: (${customer.income}K, ${customer.age}) - Click to select`;
                point.onclick = () => selectPointForDistance(i, point);
                container.appendChild(point);
                
                // Add customer labels with coordinates
                const label = document.createElement('div');
                label.style.position = 'absolute';
                label.style.left = (customer.x + 15) + 'px';
                label.style.top = (customer.y - 15) + 'px';
                label.style.fontSize = '11px';
                label.style.color = '#2c3e50';
                label.style.fontWeight = 'bold';
                label.style.background = 'rgba(255,255,255,0.9)';
                label.style.padding = '3px 6px';
                label.style.borderRadius = '4px';
                label.style.border = '1px solid #ddd';
                label.innerHTML = `${customer.name}<br><small>(${customer.income}, ${customer.age})</small>`;
                container.appendChild(label);
            });
            
            // Add instruction
            const instruction = document.createElement('div');
            instruction.style.position = 'absolute';
            instruction.style.top = '10px';
            instruction.style.right = '10px';
            instruction.style.background = '#e8f5e8';
            instruction.style.border = '2px solid #27ae60';
            instruction.style.borderRadius = '8px';
            instruction.style.padding = '8px';
            instruction.style.fontSize = '11px';
            instruction.style.color = '#155724';
            instruction.style.maxWidth = '120px';
            instruction.innerHTML = '<strong>Instructions:</strong><br>Click any two points to calculate distance between their coordinates';
            container.appendChild(instruction);
        }

        function selectPointForDistance(index, element) {
            const container = document.querySelector('#distance-demo div[style*="position: relative"]');
            
            if (selectedPoints.length === 2) {
                // Reset selection
                selectedPoints = [];
                document.querySelectorAll('#distance-demo .cluster-point').forEach(p => {
                    p.style.backgroundColor = '#3498db';
                    p.style.border = 'none';
                });
                // Remove existing line
                const existingLine = container.querySelector('.distance-line');
                if (existingLine) existingLine.remove();
            }
            
            if (selectedPoints.includes(index)) {
                // Deselect
                selectedPoints = selectedPoints.filter(i => i !== index);
                element.style.backgroundColor = '#3498db';
                element.style.border = 'none';
            } else {
                // Select
                selectedPoints.push(index);
                element.style.backgroundColor = '#e74c3c';
                element.style.border = '3px solid #c0392b';
                
                if (selectedPoints.length === 2) {
                    // Calculate and display distance
                    calculateAndShowDistance();
                }
            }
        }

        function calculateAndShowDistance() {
            const container = document.querySelector('#distance-demo div[style*="position: relative"]');
            const calculationDiv = document.getElementById('distance-calculation');
            
            const point1 = distancePoints[selectedPoints[0]];
            const point2 = distancePoints[selectedPoints[1]];
            
            // Calculate distance using Age and Income as coordinates
            const ageDistance = point2.age - point1.age;
            const incomeDistance = point2.income - point1.income;
            const euclideanDistance = Math.sqrt(ageDistance * ageDistance + incomeDistance * incomeDistance);
            
            // Draw line between points
            const line = document.createElement('div');
            line.className = 'distance-line';
            const dx = point2.x - point1.x;
            const dy = point2.y - point1.y;
            const length = Math.sqrt(dx * dx + dy * dy);
            const angle = Math.atan2(dy, dx) * 180 / Math.PI;
            
            line.style.left = point1.x + 'px';
            line.style.top = point1.y + 'px';
            line.style.width = length + 'px';
            line.style.transform = `rotate(${angle}deg)`;
            line.style.opacity = '1';
            container.appendChild(line);
            
            // Update calculation display
            calculationDiv.innerHTML = `
                <p><strong>Euclidean Distance Calculation:</strong></p>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0; border: 2px solid #3498db;">
                    <p><strong>${point1.name}</strong>: (${point1.income}K, ${point1.age}) → X₁=${point1.income}, Y₁=${point1.age}</p>
                    <p><strong>${point2.name}</strong>: (${point2.income}K, ${point2.age}) → X₂=${point2.income}, Y₂=${point2.age}</p>
                </div>
                <p><strong>Formula:</strong> d = √[(X₂-X₁)² + (Y₂-Y₁)²]</p>
                <p><strong>Substitution:</strong> d = √[(${point2.income}-${point1.income})² + (${point2.age}-${point1.age})²]</p>
                <p><strong>Calculation:</strong> d = √[${ageDistance}² + ${incomeDistance}²] = √[${ageDistance*ageDistance} + ${incomeDistance*incomeDistance}]</p>
                <p style="background: #d4edda; padding: 10px; border-radius: 5px; border: 2px solid #27ae60;"><strong>Final Distance = ${euclideanDistance.toFixed(2)} units</strong></p>
                <p style="font-size: 0.9em; color: #666; margin-top: 10px;">
                    <em>💡 Note: In real clustering, we scale features first so Income (thousands) and Age (years) contribute equally to distance!</em>
                </p>
            `;
        }

        function startKMeansAnimation() {
            const container = document.getElementById('kmeans-demo').querySelector('div[style*="position: relative"]');
            const counter = document.getElementById('iteration-counter');
            container.innerHTML = '';
            
            // Customer data points
            const customers = [
                {x: 100, y: 200}, {x: 120, y: 180}, {x: 80, y: 220}, {x: 140, y: 160},
                {x: 300, y: 100}, {x: 320, y: 80}, {x: 280, y: 120}, {x: 340, y: 90},
                {x: 200, y: 250}, {x: 220, y: 230}, {x: 180, y: 270}, {x: 240, y: 210}
            ];
            
            // Initial random centroids
            let centroids = [
                {x: 150, y: 150, color: '#e74c3c'},
                {x: 250, y: 200, color: '#27ae60'},
                {x: 350, y: 100, color: '#f39c12'}
            ];
            
            let iteration = 0;
            
            // Draw initial points
            customers.forEach(customer => {
                const point = document.createElement('div');
                point.className = 'cluster-point';
                point.style.left = customer.x + 'px';
                point.style.top = customer.y + 'px';
                point.style.backgroundColor = '#95a5a6';
                container.appendChild(point);
                customer.element = point;
            });
            
            // Draw initial centroids
            centroids.forEach(centroid => {
                const point = document.createElement('div');
                point.className = 'centroid';
                point.style.left = centroid.x + 'px';
                point.style.top = centroid.y + 'px';
                point.style.backgroundColor = centroid.color;
                container.appendChild(point);
                centroid.element = point;
            });
            
            function runIteration() {
                iteration++;
                counter.innerHTML = `<strong>Iteration: ${iteration}</strong>`;
                
                // Assign points to nearest centroid
                customers.forEach(customer => {
                    let minDistance = Infinity;
                    let nearestCentroid = 0;
                    
                    centroids.forEach((centroid, i) => {
                        const distance = Math.sqrt(
                            Math.pow(customer.x - centroid.x, 2) + 
                            Math.pow(customer.y - centroid.y, 2)
                        );
                        if (distance < minDistance) {
                            minDistance = distance;
                            nearestCentroid = i;
                        }
                    });
                    
                    customer.cluster = nearestCentroid;
                    customer.element.style.backgroundColor = centroids[nearestCentroid].color;
                });
                
                // Update centroids
                setTimeout(() => {
                    centroids.forEach((centroid, i) => {
                        const clusterPoints = customers.filter(c => c.cluster === i);
                        if (clusterPoints.length > 0) {
                            const newX = clusterPoints.reduce((sum, p) => sum + p.x, 0) / clusterPoints.length;
                            const newY = clusterPoints.reduce((sum, p) => sum + p.y, 0) / clusterPoints.length;
                            
                            centroid.x = newX;
                            centroid.y = newY;
                            centroid.element.style.left = newX + 'px';
                            centroid.element.style.top = newY + 'px';
                        }
                    });
                    
                    if (iteration < 4) {
                        setTimeout(runIteration, 2000);
                    }
                }, 1000);
            }
            
            setTimeout(runIteration, 1000);
        }

        function animateElbowChart() {
            const svg = document.querySelector('#elbow-chart svg');
            const data = [
                {k: 1, error: 200}, {k: 2, error: 120}, {k: 3, error: 60}, 
                {k: 4, error: 45}, {k: 5, error: 40}, {k: 6, error: 38}
            ];
            
            // Clear previous content
            svg.innerHTML = `
                <text x="180" y="250" text-anchor="middle" style="font-size: 14px;">Number of Clusters (K)</text>
                <text x="20" y="130" text-anchor="middle" style="font-size: 14px; transform: rotate(-90deg); transform-origin: 20px 130px;">Sum of Squared Errors</text>
            `;
            
            // Draw axes
            const line1 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line1.setAttribute('x1', '60');
            line1.setAttribute('y1', '40');
            line1.setAttribute('x2', '60');
            line1.setAttribute('y2', '220');
            line1.setAttribute('stroke', '#333');
            line1.setAttribute('stroke-width', '2');
            svg.appendChild(line1);
            
            const line2 = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line2.setAttribute('x1', '60');
            line2.setAttribute('y1', '220');
            line2.setAttribute('x2', '340');
            line2.setAttribute('y2', '220');
            line2.setAttribute('stroke', '#333');
            line2.setAttribute('stroke-width', '2');
            svg.appendChild(line2);
            
            // Create path for line
            let pathData = '';
            data.forEach((point, i) => {
                const x = 60 + (point.k - 1) * 45;
                const y = 220 - (point.error / 200) * 160;
                pathData += (i === 0 ? 'M' : 'L') + x + ',' + y;
            });
            
            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            path.setAttribute('d', pathData);
            path.setAttribute('class', 'chart-line');
            svg.appendChild(path);
            
            // Add points with animation
            data.forEach((point, i) => {
                setTimeout(() => {
                    const x = 60 + (point.k - 1) * 45;
                    const y = 220 - (point.error / 200) * 160;
                    
                    const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    circle.setAttribute('cx', x);
                    circle.setAttribute('cy', y);
                    circle.setAttribute('r', '6');
                    circle.setAttribute('class', 'chart-point');
                    if (point.k === 3) {
                        circle.setAttribute('fill', '#27ae60');
                        circle.setAttribute('r', '10');
                        
                        // Add elbow annotation
                        const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                        text.setAttribute('x', x);
                        text.setAttribute('y', y - 20);
                        text.setAttribute('text-anchor', 'middle');
                        text.setAttribute('style', 'font-size: 12px; font-weight: bold; fill: #27ae60;');
                        text.textContent = 'Elbow Point!';
                        svg.appendChild(text);
                    }
                    svg.appendChild(circle);
                    
                    // Add K labels
                    const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    label.setAttribute('x', x);
                    label.setAttribute('y', 235);
                    label.setAttribute('text-anchor', 'middle');
                    label.setAttribute('style', 'font-size: 12px;');
                    label.textContent = point.k;
                    svg.appendChild(label);
                }, i * 500);
            });
        }

        // New animation functions for PCA slides
        function showDimensionProblem() {
            const visualization = document.getElementById('dimension-visualization');
            visualization.style.display = 'block';
            
            // Add animated text effect
            setTimeout(() => {
                visualization.innerHTML = `
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                        <div style="background: #d5f4e6; padding: 15px; border-radius: 8px; border: 2px solid #27ae60;">
                            <h4 style="color: #27ae60; margin-bottom: 10px;">2D Space (Easy)</h4>
                            <p style="font-size: 0.9em;">Customer A vs B: Clear difference</p>
                            <p style="font-size: 0.9em;">Distance = 5.2 units</p>
                        </div>
                        <div style="background: #fdeaea; padding: 15px; border-radius: 8px; border: 2px solid #e74c3c;">
                            <h4 style="color: #e74c3c; margin-bottom: 10px;">100D Space (Curse!)</h4>
                            <p style="font-size: 0.9em;">All customers: Almost same distance</p>
                            <p style="font-size: 0.9em;">Distance ≈ 47.1 - 47.8 units</p>
                        </div>
                    </div>
                `;
            }, 500);
        }

        function showPCAVisualization() {
            const visualization = document.getElementById('pca-visualization');
            visualization.style.display = 'block';
            
            // Add step-by-step animation
            setTimeout(() => {
                visualization.innerHTML = `
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-top: 20px;">
                        <div style="background: #fff3cd; padding: 15px; border-radius: 8px; border: 2px solid #ffc107;">
                            <h4 style="color: #856404; margin-bottom: 10px;">Step 1: Standardize</h4>
                            <p style="font-size: 0.9em;">Scale all features to same range</p>
                        </div>
                        <div style="background: #d1ecf1; padding: 15px; border-radius: 8px; border: 2px solid #17a2b8;">
                            <h4 style="color: #0c5460; margin-bottom: 10px;">Step 2: Find Components</h4>
                            <p style="font-size: 0.9em;">PC1 explains 65% variance<br>PC2 explains 20% variance</p>
                        </div>
                        <div style="background: #d4edda; padding: 15px; border-radius: 8px; border: 2px solid #28a745;">
                            <h4 style="color: #155724; margin-bottom: 10px;">Step 3: Transform</h4>
                            <p style="font-size: 0.9em;">5 features → 2 components<br>85% information retained!</p>
                        </div>
                    </div>
                `;
            }, 300);
        }

        function showScreePlot() {
            const visualization = document.getElementById('scree-visualization');
            visualization.style.display = 'block';
            
            // Create scree plot visualization
            setTimeout(() => {
                visualization.innerHTML = `
                    <div style="background: white; border: 2px solid #3498db; border-radius: 10px; padding: 20px; margin: 15px 0;">
                        <h4 style="text-align: center; color: #2c3e50; margin-bottom: 15px;">Scree Plot: Explained Variance by Component</h4>
                        <div style="position: relative; width: 100%; height: 150px;">
                            <svg width="100%" height="150" viewBox="0 0 400 150">
                                <!-- Axes -->
                                <line x1="50" y1="120" x2="350" y2="120" stroke="#333" stroke-width="2"/>
                                <line x1="50" y1="20" x2="50" y2="120" stroke="#333" stroke-width="2"/>
                                
                                <!-- Data points and line -->
                                <polyline points="70,30 110,45 150,65 190,85 230,95 270,100 310,103" 
                                         stroke="#e74c3c" stroke-width="3" fill="none"/>
                                
                                <!-- Points -->
                                <circle cx="70" cy="30" r="6" fill="#e74c3c"/>
                                <circle cx="110" cy="45" r="6" fill="#e74c3c"/>
                                <circle cx="150" cy="65" r="8" fill="#27ae60"/> <!-- Elbow point -->
                                <circle cx="190" cy="85" r="5" fill="#e74c3c"/>
                                <circle cx="230" cy="95" r="5" fill="#e74c3c"/>
                                <circle cx="270" cy="100" r="5" fill="#e74c3c"/>
                                <circle cx="310" cy="103" r="5" fill="#e74c3c"/>
                                
                                <!-- Labels -->
                                <text x="70" y="135" text-anchor="middle" style="font-size: 12px;">1</text>
                                <text x="110" y="135" text-anchor="middle" style="font-size: 12px;">2</text>
                                <text x="150" y="135" text-anchor="middle" style="font-size: 12px;">3</text>
                                <text x="190" y="135" text-anchor="middle" style="font-size: 12px;">4</text>
                                <text x="230" y="135" text-anchor="middle" style="font-size: 12px;">5</text>
                                
                                <!-- Elbow annotation -->
                                <text x="150" y="15" text-anchor="middle" style="font-size: 11px; fill: #27ae60; font-weight: bold;">Elbow Point</text>
                                <line x1="150" y1="20" x2="150" y2="55" stroke="#27ae60" stroke-width="2" stroke-dasharray="3,3"/>
                                
                                <!-- Axis labels -->
                                <text x="200" y="145" text-anchor="middle" style="font-size: 12px;">Principal Components</text>
                                <text x="25" y="75" text-anchor="middle" style="font-size: 12px; transform: rotate(-90deg); transform-origin: 25px 75px;">Explained Variance %</text>
                            </svg>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
                            <div style="background: #d4edda; padding: 10px; border-radius: 5px; text-align: center;">
                                <p style="font-size: 0.9em; margin: 0;"><strong>Decision:</strong> Keep PC1 + PC2</p>
                                <p style="font-size: 0.8em; color: #155724; margin: 5px 0 0 0;">Captures 85% of variance</p>
                            </div>
                            <div style="background: #f8d7da; padding: 10px; border-radius: 5px; text-align: center;">
                                <p style="font-size: 0.9em; margin: 0;"><strong>Avoid:</strong> PC3, PC4, PC5</p>
                                <p style="font-size: 0.8em; color: #721c24; margin: 5px 0 0 0;">Minimal additional value</p>
                            </div>
                        </div>
                    </div>
                `;
            }, 200);
        }

        // Initialize the presentation
        showSlide(0);
        
        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                previousSlide();
            }
        });
    </script>
</body>
</html>