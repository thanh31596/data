<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 4: Causal Machine Learning - DATA5000 (Enhanced)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Helvetica', Arial, sans-serif;
            background: white;
            color: #333;
            overflow: hidden;
        }
        
        .presentation-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        .slide {
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 60px;
            text-align: left;
        }
        
        .slide.active {
            display: flex;
        }
        
        .slide h1 {
            font-size: 3em;
            margin-bottom: 30px;
            color: #dc143c;
            font-weight: 400;
            text-align: center;
            width: 100%;
        }
        
        .slide h2 {
            font-size: 2.5em;
            margin-bottom: 25px;
            color: #dc143c;
            font-weight: 400;
            width: 100%;
        }
        
        .slide h3 {
            font-size: 2em;
            margin-bottom: 20px;
            color: #dc143c;
            font-weight: 400;
        }
        
        .slide h4 {
            font-size: 1.6em;
            margin-bottom: 15px;
            color: #dc143c;
            font-weight: 400;
        }
        
        .slide p, .slide li {
            font-size: 1.2em;
            line-height: 1.8;
            margin-bottom: 15px;
            max-width: 1200px;
        }
        
        .slide ul, .slide ol {
            text-align: left;
            max-width: 1200px;
            width: 100%;
            margin-left: 40px;
        }
        
        .slide li {
            margin-bottom: 15px;
            padding-left: 10px;
        }
        
        .content-box {
            background: #f8f9fa;
            border-left: 5px solid #dc143c;
            padding: 25px;
            margin: 20px 0;
            border-radius: 5px;
            max-width: 1100px;
            width: 100%;
        }
        
        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            max-width: 1200px;
            width: 100%;
            margin: 20px 0;
        }
        
        .column-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
        }
        
        .example-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            max-width: 1100px;
            width: 100%;
        }
        
        .exercise-box {
            background: #e7f3ff;
            border: 2px solid #2196f3;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            max-width: 1100px;
            width: 100%;
        }
        
        .answer-box {
            background: #d4edda;
            border: 2px solid #28a745;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            max-width: 1100px;
            width: 100%;
        }
        
        .warning-box {
            background: #f8d7da;
            border: 2px solid #dc3545;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            max-width: 1100px;
            width: 100%;
        }
        
        table {
            width: 100%;
            max-width: 1100px;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
        }
        
        th, td {
            border: 2px solid #dee2e6;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background: #dc143c;
            color: white;
            font-weight: 400;
        }
        
        .navigation {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 1000;
        }
        
        .nav-btn {
            padding: 12px 20px;
            background: #dc143c;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .nav-btn:hover {
            background: #b8112e;
            transform: translateY(-2px);
        }
        
        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }
        
        .slide-counter {
            position: fixed;
            top: 30px;
            right: 30px;
            background: #34495e;
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 14px;
        }
        
        .highlight {
            background: #ffeb3b;
            padding: 2px 6px;
            border-radius: 3px;
        }
        
        strong {
            color: #dc143c;
        }
        
        .diagram {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            padding: 30px;
            margin: 20px 0;
            border-radius: 8px;
            max-width: 800px;
            text-align: center;
            font-family: monospace;
            font-size: 1.1em;
            line-height: 2;
        }
        
        .code-block {
            background: #263238;
            color: #e8f5e8;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 1em;
            white-space: pre-wrap;
            max-width: 1100px;
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        <div class="slide-counter">
            <span id="current-slide">1</span> / <span id="total-slides">36</span>
        </div>
        
        <!-- Slide 1: Title -->
        <div class="slide active">
            <h1>Week 4: Causal Machine Learning</h1>
            <h2 style="text-align: center; color: #333;">DATA5000 - Artificial Intelligence Programming in Business Analytics</h2>
            <p style="margin-top: 40px; font-size: 1.3em; color: #7f8c8d; text-align: center;">Understanding cause and effect in artificial intelligence</p>
        </div>
        
        <!-- Slide 2: What We'll Cover Today -->
        <div class="slide">
            <h2>What We'll Cover Today</h2>
            <div class="content-box">
                <h4>Core Concepts</h4>
                <ul>
                    <li>The difference between correlation and causation</li>
                    <li>Understanding confounders</li>
                    <li>Four types of treatment effects</li>
                    <li>Why causal analysis matters for business decisions</li>
                </ul>
            </div>
            <div class="content-box">
                <h4>Practical Tools</h4>
                <ul>
                    <li>SHAP for explaining predictions</li>
                    <li>EconML for finding causes</li>
                    <li>Real business applications</li>
                </ul>
            </div>
        </div>
        
        <!-- Slide 3: The Analytics Framework -->
        <div class="slide">
            <h2>The Four Types of Analytics</h2>
            <table>
                <tr>
                    <th>Type</th>
                    <th>Question</th>
                    <th>Example</th>
                </tr>
                <tr>
                    <td><strong>Descriptive</strong></td>
                    <td>What happened?</td>
                    <td>"Our sales dropped 20% last month"</td>
                </tr>
                <tr>
                    <td><strong>Diagnostic</strong></td>
                    <td>Why did it happen?</td>
                    <td>"Sales dropped because our competitor launched a sale"</td>
                </tr>
                <tr>
                    <td><strong>Predictive</strong></td>
                    <td>What will happen?</td>
                    <td>"Sales will likely drop another 15% next month"</td>
                </tr>
                <tr>
                    <td><strong>Prescriptive</strong></td>
                    <td>What should we do?</td>
                    <td>"Offer free shipping and extend hours to recover 80% of lost sales"</td>
                </tr>
            </table>
            <p style="margin-top: 30px; font-style: italic;">Today we focus on moving from prediction to prescription using causal analysis</p>
        </div>
        
        <!-- Slide 4: Netflix Example -->
        <div class="slide">
            <h2>Prescriptive Analytics in Action</h2>
            <div class="example-box">
                <h4>Netflix: From Prediction to Recommendation</h4>
                <p><strong>Predictive Analytics says:</strong><br>
                "This user will likely watch more shows"</p>
                <p style="margin-top: 15px;"><strong>Prescriptive Analytics says:</strong><br>
                "Show this user Season 2 of Stranger Things NOW because that specific recommendation will cause them to stay subscribed"</p>
            </div>
            <div class="content-box">
                <h4>The Key Difference</h4>
                <p>Prediction tells you WHAT will happen</p>
                <p>Prescription tells you HOW to change it</p>
                <p>Business value comes from changing outcomes, not just predicting them</p>
            </div>
        </div>
        
        <!-- Slide 5: Correlation vs Causation - Ice Cream -->
        <div class="slide">
            <h2>Understanding Correlation vs. Causation</h2>
            <div class="example-box">
                <h4>The Ice Cream Example</h4>
                <p><strong>Observation:</strong> Ice cream sales and drowning deaths both increase in summer</p>
                <p style="margin-top: 15px; color: #dc3545;"><strong>Wrong Conclusion:</strong> "Ice cream causes drowning! Ban ice cream!"</p>
                <p style="margin-top: 15px; color: #28a745;"><strong>Right Conclusion:</strong> Hot weather causes BOTH:</p>
                <ul style="margin-left: 40px; margin-top: 10px;">
                    <li>More people buy ice cream</li>
                    <li>More people go swimming, leading to more drowning incidents</li>
                </ul>
            </div>
            <div class="content-box">
                <h4>Key Lesson</h4>
                <p>Just because two things happen together doesn't mean one causes the other. There might be a third factor causing both.</p>
            </div>
        </div>
        
        <!-- Slide 6: Coffee Shop Example -->
        <div class="slide">
            <h2>Correlation vs. Causation: Business Example</h2>
            <div class="example-box">
                <h4>Coffee Shop Scenario</h4>
                <p><strong>Observation:</strong> Customers who buy muffins also buy coffee</p>
                <p style="margin-top: 15px;"><strong>Correlation:</strong> Muffin buyers tend to buy coffee</p>
                <p style="margin-top: 15px;"><strong>Causation Question:</strong> Does offering a muffin discount CAUSE more coffee sales?</p>
                <p style="margin-top: 15px;"><strong>Better Question:</strong> What if we offered a "coffee + muffin" combo? Would that CAUSE higher total revenue?</p>
            </div>
            <div class="warning-box">
                <h4>Why This Matters</h4>
                <p>If you just see correlation, you might discount muffins expecting coffee sales to rise. But if morning customers naturally buy both, the discount just loses you money.</p>
            </div>
        </div>
        
        <!-- Slide 7: Example Data Showing Confounder Pattern -->
        <div class="slide">
            <h2>Example Data: Age as a Confounder</h2>
            <p style="margin-bottom: 30px;">Look at this gym membership data. Notice the pattern:</p>
            <table>
                <tr>
                    <th>Person</th>
                    <th>Age</th>
                    <th>Exercise (hrs/week)</th>
                    <th>Health Score (0-100)</th>
                </tr>
                <tr style="background: #e8f5e9;">
                    <td>John</td>
                    <td>25</td>
                    <td>5.0</td>
                    <td>85</td>
                </tr>
                <tr style="background: #e8f5e9;">
                    <td>Mary</td>
                    <td>28</td>
                    <td>4.5</td>
                    <td>82</td>
                </tr>
                <tr style="background: #e8f5e9;">
                    <td>Alex</td>
                    <td>32</td>
                    <td>4.0</td>
                    <td>80</td>
                </tr>
                <tr style="background: #fff9c4;">
                    <td>Lisa</td>
                    <td>45</td>
                    <td>3.0</td>
                    <td>72</td>
                </tr>
                <tr style="background: #fff9c4;">
                    <td>Tom</td>
                    <td>48</td>
                    <td>2.5</td>
                    <td>70</td>
                </tr>
                <tr style="background: #fff9c4;">
                    <td>Sarah</td>
                    <td>52</td>
                    <td>2.0</td>
                    <td>68</td>
                </tr>
                <tr style="background: #ffebee;">
                    <td>Bob</td>
                    <td>61</td>
                    <td>1.5</td>
                    <td>62</td>
                </tr>
                <tr style="background: #ffebee;">
                    <td>Carol</td>
                    <td>65</td>
                    <td>1.0</td>
                    <td>58</td>
                </tr>
                <tr style="background: #ffebee;">
                    <td>Dan</td>
                    <td>68</td>
                    <td>0.5</td>
                    <td>55</td>
                </tr>
            </table>
            <div class="content-box">
                <h4>What Do You Notice?</h4>
                <p>üü¢ <strong>Young people (20s-30s):</strong> Exercise MORE (4-5 hrs) ‚Üí Health Score HIGHER (80-85)</p>
                <p>üü° <strong>Middle age (40s-50s):</strong> Exercise LESS (2-3 hrs) ‚Üí Health Score MEDIUM (68-72)</p>
                <p>üî¥ <strong>Older people (60s+):</strong> Exercise LEAST (0.5-1.5 hrs) ‚Üí Health Score LOWER (55-62)</p>
                <p style="margin-top: 20px;"><strong>The Question:</strong> Does exercise cause better health? Or does AGE affect BOTH exercise habits AND health?</p>
            </div>
        </div>
        
        <!-- Slide 8: What is a Confounder -->
        <div class="slide">
            <h2>Confounders Explained Simply</h2>
            <div class="content-box">
                <h4>Definition</h4>
                <p>A confounder is a hidden influencer that affects both your action AND your result, making you think one causes the other when it doesn't.</p>
            </div>
            <div class="diagram">
              CONFOUNDER<br>
           (Customer Age)<br>
                ‚Üô        ‚Üò<br>
        Action              Result<br>
    (Exercise Habits) ‚Üí (Health Score)
            </div>
            <div class="content-box">
                <h4>Without Controlling for Age</h4>
                <p>Young people exercise more AND are healthier</p>
                <p>Conclusion: "Exercise causes better health!" (Partially true, but age is hiding part of the story)</p>
                <h4 style="margin-top: 20px;">With Age Controlled</h4>
                <p>Compare 30-year-olds who exercise vs. don't exercise</p>
                <p>Compare 60-year-olds who exercise vs. don't exercise</p>
                <p>Now we see the TRUE effect of exercise at each age level</p>
            </div>
        </div>
        
        <!-- Slide 9: Business Confounder Examples -->
        <div class="slide">
            <h2>Real Business Confounders</h2>
            <table>
                <tr>
                    <th>Business Scenario</th>
                    <th>Apparent Relationship</th>
                    <th>Hidden Confounder</th>
                </tr>
                <tr>
                    <td>Premium members buy more</td>
                    <td>Premium status ‚Üí Higher spending</td>
                    <td>High income causes BOTH premium membership AND more spending</td>
                </tr>
                <tr>
                    <td>Email opens lead to purchases</td>
                    <td>Opening emails ‚Üí Buying</td>
                    <td>Brand loyalty causes BOTH email engagement AND purchases</td>
                </tr>
                <tr>
                    <td>Training increases productivity</td>
                    <td>Training ‚Üí Performance</td>
                    <td>Motivated employees seek training AND perform better</td>
                </tr>
                <tr>
                    <td>Ads drive sales</td>
                    <td>Ad clicks ‚Üí Purchases</td>
                    <td>Purchase intent causes BOTH ad clicking AND buying</td>
                </tr>
            </table>
        </div>
        
        <!-- Slide 10: Exercise 1 - E-commerce -->
        <div class="slide">
            <h2>Exercise 1: Spot the Confounder</h2>
            <div class="exercise-box">
                <h4>Scenario</h4>
                <p>An e-commerce company finds that customers who view product reviews spend 40% more.</p>
                <h4 style="margin-top: 20px;">Question</h4>
                <p>Should they force ALL customers to view reviews?</p>
                <h4 style="margin-top: 20px;">Think About</h4>
                <ol>
                    <li>What type of customers naturally read reviews?</li>
                    <li>Could there be a hidden factor (confounder)?</li>
                    <li>Would showing reviews to uninterested customers have the same effect?</li>
                </ol>
            </div>
            <p style="margin-top: 20px; font-style: italic;">Discuss with your group for 3 minutes</p>
        </div>
        
        <!-- Slide 11: Exercise 1 Answer -->
        <div class="slide">
            <h2>Exercise 1: Answer</h2>
            <div class="answer-box">
                <h4>The Hidden Confounder: Customer Engagement Level</h4>
                <p><strong>What's really happening:</strong></p>
                <ul style="margin-left: 40px; margin-top: 10px;">
                    <li>Engaged, interested customers READ reviews</li>
                    <li>Engaged, interested customers ALSO spend more</li>
                    <li>The engagement level is the hidden factor affecting both</li>
                </ul>
                <p style="margin-top: 15px;"><strong>Conclusion:</strong> Simply showing reviews to uninterested customers won't cause the same spending increase. They're not engaged enough to care.</p>
            </div>
            <div class="content-box">
                <h4>The Right Approach</h4>
                <p>Identify what makes customers engaged, then work on increasing engagement rather than just forcing review views.</p>
            </div>
        </div>
        
        <!-- Slide 12: Treatment Effects Introduction -->
        <div class="slide">
            <h2>What Are Treatment Effects?</h2>
            <div class="content-box">
                <h4>What is a "Treatment"?</h4>
                <p>Any action, policy, or intervention you might take:</p>
                <ul style="margin-left: 40px; margin-top: 10px;">
                    <li>Sending a discount email</li>
                    <li>Offering free shipping</li>
                    <li>Hiring more staff</li>
                    <li>Launching a new product feature</li>
                </ul>
            </div>
            <div class="content-box">
                <h4>What is a "Treatment Effect"?</h4>
                <p>The actual impact that action has on your outcome (sales, satisfaction, retention, etc.)</p>
            </div>
            <div class="example-box">
                <h4>Why "Treatment"?</h4>
                <p>The term comes from medical research (does this treatment cure the disease?), but in business:</p>
                <ul style="margin-left: 40px; margin-top: 10px;">
                    <li><strong>Treatment</strong> = Your business action</li>
                    <li><strong>Effect</strong> = What it actually causes to happen</li>
                </ul>
            </div>
        </div>
        
        <!-- Slide 13: Where Does Treatment Data Come From? -->
        <div class="slide">
            <h2>Critical Question: Where Does Treatment Data Come From?</h2>
            <div class="warning-box">
                <h4>The Challenge</h4>
                <p>You're asking the right question! To estimate treatment effects, you need to observe BOTH:</p>
                <ul style="margin-left: 40px; margin-top: 10px;">
                    <li><strong>Treated group:</strong> People who received the action/intervention</li>
                    <li><strong>Control group:</strong> People who did NOT receive it</li>
                </ul>
            </div>
            
            <h3 style="margin-top: 30px;">Three Real-World Scenarios:</h3>
            
            <div class="two-column">
                <div class="column-item">
                    <h4>Scenario 1: Historical Data (Most Common)</h4>
                    <p><strong>The treatment already happened naturally</strong></p>
                    <ul style="margin-top: 10px;">
                        <li>‚úÖ Some customers signed contracts (treated)</li>
                        <li>‚úÖ Others stayed month-to-month (control)</li>
                        <li>‚úÖ You observe both groups in your data</li>
                        <li>‚ö†Ô∏è Problem: Self-selection bias (satisfied customers chose contracts
            <div class="content-box">
                <h4>1. Average Treatment Effect (ATE)</h4>
                <p><strong>Question:</strong> "Does it work overall?"</p>
                <p><strong>Measures:</strong> Impact across EVERYONE</p>
                <p><strong>Example:</strong> "Free shipping increases average order value by $12"</p>
            </div>
            <div class="content-box">
                <h4>2. Heterogeneous Treatment Effect (HTE)</h4>
                <p><strong>Question:</strong> "Does it work differently for different groups?"</p>
                <p><strong>Measures:</strong> How impact varies by group</p>
                <p><strong>Example:</strong> "Free shipping increases orders by 30% for students but decreases orders by 5% for seniors"</p>
            </div>
        </div>
        
        <!-- Slide 14: Four Types Continued -->
        <div class="slide">
            <h2>The Four Types of Treatment Effects (Continued)</h2>
            <div class="content-box">
                <h4>3. Local Average Treatment Effect (LATE)</h4>
                <p><strong>Question:</strong> "Does it work for those actually affected?"</p>
                <p><strong>Measures:</strong> Impact only on those who changed behavior</p>
                <p><strong>Example:</strong> "For customers who used the free shipping offer, orders increased by $25"</p>
            </div>
            <div class="content-box">
                <h4>4. Conditional Average Treatment Effect (CATE)</h4>
                <p><strong>Question:</strong> "Does it work for people like YOU?"</p>
                <p><strong>Measures:</strong> Impact for specific individual characteristics</p>
                <p><strong>Example:</strong> "For 25-year-old female customers in Sydney who shop on weekends, free shipping increases orders by $18"</p>
            </div>
        </div>
        
        <!-- Slide 15: Exercise 2 - Match Treatment Effects -->
        <div class="slide">
            <h2>Exercise 2: Which Treatment Effect?</h2>
            <div class="exercise-box">
                <h4>Match the business question to the right treatment effect type</h4>
                <ol>
                    <li>"Should we roll out free shipping to all customers?"</li>
                    <li>"Does free shipping work better for our VIP customers or regular customers?"</li>
                    <li>"For customers who actually used the free shipping offer, how much did their spending increase?"</li>
                    <li>"For a 35-year-old customer in Melbourne who shops monthly, what impact would free shipping have?"</li>
                </ol>
                <h4 style="margin-top: 20px;">Options</h4>
                <ul style="margin-left: 40px;">
                    <li>ATE (Average Treatment Effect)</li>
                    <li>HTE (Heterogeneous Treatment Effect)</li>
                    <li>LATE (Local Average Treatment Effect)</li>
                    <li>CATE (Conditional Average Treatment Effect)</li>
                </ul>
            </div>
        </div>
        
        <!-- Slide 16: Exercise 2 Answers -->
        <div class="slide">
            <h2>Exercise 2: Answers</h2>
            <div class="answer-box">
                <h4>Correct Matches</h4>
                <ol>
                    <li>"Should we roll out free shipping to all customers?"<br>
                    <strong>‚Üí ATE (Average Treatment Effect)</strong><br>
                    You need to know the overall average impact</li>
                    
                    <li style="margin-top: 15px;">"Does free shipping work better for our VIP customers or regular customers?"<br>
                    <strong>‚Üí HTE (Heterogeneous Treatment Effect)</strong><br>
                    You're comparing effects across different groups</li>
                    
                    <li style="margin-top: 15px;">"For customers who actually used the free shipping offer, how much did their spending increase?"<br>
                    <strong>‚Üí LATE (Local Average Treatment Effect)</strong><br>
                    You're measuring the effect on those who were actually affected</li>
                    
                    <li style="margin-top: 15px;">"For a 35-year-old customer in Melbourne who shops monthly, what impact would free shipping have?"<br>
                    <strong>‚Üí CATE (Conditional Average Treatment Effect)</strong><br>
                    You're getting personalized predictions based on specific characteristics</li>
                </ol>
            </div>
        </div>
        
        <!-- Slide 17: CATE Example Streaming -->
        <div class="slide">
            <h2>CATE Example: Personalization in Action</h2>
            <div class="example-box">
                <h4>Business Scenario: Streaming Service Recommendations</h4>
                <p><strong>Problem:</strong> Should we recommend action movies or comedies to a new subscriber?</p>
            </div>
            <div class="code-block">For users who are:
- Male, Age 18-25, watches on weekends, prefers mobile
‚Üí Action movies increase viewing time by 45 minutes

For users who are:
- Female, Age 18-25, watches on weekends, prefers mobile  
‚Üí Comedies increase viewing time by 38 minutes</div>
            <div class="content-box">
                <h4>Business Value</h4>
                <p>Instead of one recommendation for everyone (ATE), personalize based on characteristics (CATE)</p>
                <p><strong>Result:</strong> Higher engagement, lower churn, more subscription renewals</p>
            </div>
        </div>
        
        <!-- Slide 18: Boston Housing Context -->
        <div class="slide">
            <h2>The Boston Housing Dataset: Why This Matters</h2>
            <div class="content-box">
                <h4>The Historical Context</h4>
                <ul>
                    <li>1970s Boston housing data</li>
                    <li>Shows how correlation can mislead</li>
                    <li>Demonstrates why causal analysis is essential for ethical AI</li>
                </ul>
            </div>
            <div class="warning-box">
                <h4>The Problem</h4>
                <p>Neighborhoods with more Black residents had lower home prices.</p>
                <p style="margin-top: 10px;"><strong>Correlation-Based Model Would Say:</strong><br>
                "Ethnicity predicts lower home prices"</p>
            </div>
            <div class="answer-box">
                <h4>Causal Analysis Reveals</h4>
                <ul style="margin-left: 40px;">
                    <li>Discriminatory policies forced Black residents into areas with worse infrastructure</li>
                    <li>Poor infrastructure (pollution, crime, smaller houses) CAUSED lower prices</li>
                    <li>Ethnicity was correlated but NOT causal</li>
                </ul>
            </div>
        </div>
        
        <!-- Slide 19: Boston Housing Lesson -->
        <div class="slide">
            <h2>Boston Housing Dataset: Business Lesson</h2>
            <div class="content-box">
                <h4>Why This Matters for Business Analytics</h4>
                <p>Predictive models can perpetuate bias and historical injustice</p>
                <p>Causal models help us understand what we can actually change</p>
            </div>
            <div class="two-column">
                <div class="column-item">
                    <h4>Predictive Approach</h4>
                    <p>"Use ethnicity as a feature because it predicts prices well"</p>
                    <p style="margin-top: 10px; color: #dc3545;">Result: Perpetuates discrimination</p>
                </div>
                <div class="column-item">
                    <h4>Causal Approach</h4>
                    <p>"Identify what actually causes price differences: infrastructure, pollution, crime"</p>
                    <p style="margin-top: 10px; color: #28a745;">Result: Focus on factors we can actually change</p>
                </div>
            </div>
            <div class="example-box" style="margin-top: 30px;">
                <h4>Today's Exercise</h4>
                <p>We'll use this dataset to practice identifying true causal factors while avoiding bias</p>
            </div>
        </div>
        
        <!-- Slide 20: Exercise 3 - Telecom Scenario -->
        <div class="slide">
            <h2>Exercise 3: Telecom Churn Scenario</h2>
            <div class="exercise-box">
                <h4>You're analyzing why customers leave your telecom company</h4>
                <p><strong>Data shows:</strong></p>
                <ul style="margin-left: 40px; margin-top: 10px;">
                    <li>Customers with more service calls churn more</li>
                    <li>Customers with month-to-month contracts churn more</li>
                    <li>Customers with higher bills churn more</li>
                </ul>
                <h4 style="margin-top: 20px;">Questions</h4>
                <ol>
                    <li>Are these correlations or causations?</li>
                    <li>What might be confounders?</li>
                    <li>What treatment could you test?</li>
                    <li>Which type of treatment effect would help most?</li>
                </ol>
            </div>
            <p style="margin-top: 20px; font-style: italic;">Discuss in your group for 5 minutes</p>
        </div>
        
        <!-- Slide 21: Exercise 3 Answers -->
        <div class="slide">
            <h2>Exercise 3: Possible Answers</h2>
            <div class="answer-box">
                <h4>1. Correlation or Causation?</h4>
                <ul style="margin-left: 40px;">
                    <li><strong>Service calls:</strong> Likely causal (problems cause churn)</li>
                    <li><strong>Month-to-month contracts:</strong> Could be correlation (uncertain customers choose flexible contracts AND are more likely to leave)</li>
                    <li><strong>Higher bills:</strong> Could be both (high bills cause churn, but also price-insensitive customers pay more and churn less)</li>
                </ul>
            </div>
            <div class="answer-box">
                <h4>2. Possible Confounders</h4>
                <ul style="margin-left: 40px;">
                    <li>Customer satisfaction affects both service calls AND churn</li>
                    <li>Financial stability affects both contract choice AND churn</li>
                    <li>Competitive offerings affect both price sensitivity AND churn</li>
                </ul>
            </div>
        </div>
        
        <!-- Slide 22: Exercise 3 Answers Continued -->
        <div class="slide">
            <h2>Exercise 3: Possible Answers (Continued)</h2>
            <div class="answer-box">
                <h4>3. Possible Treatments</h4>
                <ul style="margin-left: 40px;">
                    <li>Improve service quality (reduce need for calls)</li>
                    <li>Offer contract incentives (discounts for longer commitments)</li>
                    <li>Provide personalized pricing (based on usage patterns)</li>
                    <li>Proactive support (reach out before problems occur)</li>
                </ul>
            </div>
            <div class="answer-box">
                <h4>4. Best Treatment Effect Type</h4>
                <p><strong>CATE (Conditional Average Treatment Effect):</strong> Personalize interventions based on customer profile</p>
                <p style="margin-top: 10px;">Example: "For high-value customers with service issues, offering a dedicated support line reduces churn by 25%"</p>
                <p style="margin-top: 10px;"><strong>HTE (Heterogeneous Treatment Effect):</strong> Different strategies for different customer segments</p>
                <p style="margin-top: 10px;">Example: "Contract incentives work for price-sensitive customers but not for quality-focused customers"</p>
            </div>
        </div>
        
        <!-- Slide 23: Prediction vs Action -->
        <div class="slide">
            <h2>From Prediction to Action: The Key Difference</h2>
            <div class="two-column">
                <div class="column-item" style="border-color: #ffc107;">
                    <h4>Predictive ML Says</h4>
                    <p>"Customers who call service 3+ times will likely churn"</p>
                    <p style="margin-top: 15px; font-style: italic; color: #dc3545;">You can predict, but what do you DO about it?</p>
                </div>
                <div class="column-item" style="border-color: #28a745;">
                    <h4>Causal ML Says</h4>
                    <p>"Reducing service calls by 50% through proactive support will decrease churn by 15%"</p>
                    <p style="margin-top: 15px; font-style: italic; color: #28a745;">You have an actionable strategy</p>
                </div>
            </div>
            <div class="content-box" style="margin-top: 30px;">
                <h4>Why This Matters</h4>
                <ul style="margin-left: 40px;">
                    <li>Prediction tells you WHAT will happen</li>
                    <li>Causation tells you HOW to change it</li>
                    <li>Business value comes from changing outcomes, not just predicting them</li>
                </ul>
            </div>
        </div>
        
        <!-- Slide 24: SHAP vs EconML -->
        <div class="slide">
            <h2>SHAP vs. EconML: Two Tools, Two Jobs</h2>
            <div class="two-column">
                <div class="column-item">
                    <h4>SHAP (Explainable AI)</h4>
                    <p><strong>Job:</strong> Explain predictions</p>
                    <p><strong>Answers:</strong> "Which features contributed most to this prediction?"</p>
                    <p><strong>Type:</strong> Correlation-based</p>
                    <p><strong>Example:</strong> "This customer will churn because they have a high bill, many service calls, and month-to-month contract"</p>
                </div>
                <div class="column-item">
                    <h4>EconML (Causal ML)</h4>
                    <p><strong>Job:</strong> Identify causes</p>
                    <p><strong>Answers:</strong> "Which features, if changed, will change the outcome?"</p>
                    <p><strong>Type:</strong> Causation-based</p>
                    <p><strong>Example:</strong> "Reducing this customer's bill by $10 will decrease their churn probability by 12%"</p>
                </div>
            </div>
            <div class="content-box" style="margin-top: 30px;">
                <h4>Using Them Together</h4>
                <ol>
                    <li>Use SHAP to understand your predictive model</li>
                    <li>Use EconML to find what you can actually change</li>
                    <li>Make data-driven decisions with confidence</li>
                </ol>
            </div>
        </div>
        
        <!-- Slide 25: Today's Hands-On Exercise -->
        <div class="slide">
            <h2>Today's Hands-On Exercise Structure</h2>
            <div class="content-box">
                <h4>Step 1: Linear Regression (15 minutes)</h4>
                <ul style="margin-left: 40px;">
                    <li>Build intuition with simple model</li>
                    <li>Understand basic relationships</li>
                </ul>
            </div>
            <div class="content-box">
                <h4>Step 2: Predictive ML + SHAP (25 minutes)</h4>
                <ul style="margin-left: 40px;">
                    <li>Train a Random Forest model</li>
                    <li>Use SHAP to find strongest predictors</li>
                    <li>Interpret correlation-based insights</li>
                </ul>
            </div>
            <div class="content-box">
                <h4>Step 3: Causal ML + EconML (25 minutes)</h4>
                <ul style="margin-left: 40px;">
                    <li>Apply Double Machine Learning</li>
                    <li>Identify true causal factors</li>
                    <li>Compare with predictive insights</li>
                </ul>
            </div>
            <div class="content-box">
                <h4>Step 4: Business Recommendations (10 minutes)</h4>
                <ul style="margin-left: 40px;">
                    <li>What actions would you take?</li>
                    <li>What would you change first?</li>
                    <li>How would you measure success?</li>
                </ul>
            </div>
        </div>
        
        
        <!-- Slide 26: What is SHAP -->
        <div class="slide">
            <h2>SHAP: Understanding Model Predictions</h2>
            <div class="content-box">
                <h4>What is SHAP?</h4>
                <p><strong>SHAP (SHapley Additive exPlanations)</strong> explains ML predictions by showing how much each feature contributed to a specific prediction.</p>
                <p style="margin-top: 10px;">Based on game theory: distributes "credit" for a prediction fairly among all features.</p>
            </div>
            
            <div class="two-column">
                <div class="column-item">
                    <h4>‚úÖ What SHAP Tells You</h4>
                    <ul style="margin-left: 20px;">
                        <li>Which features matter most</li>
                        <li>Positive or negative impact</li>
                        <li>Individual prediction breakdown</li>
                        <li><strong>Correlation patterns</strong></li>
                    </ul>
                </div>
                <div class="column-item">
                    <h4>‚ùå What SHAP Does NOT Tell You</h4>
                    <ul style="margin-left: 20px;">
                        <li>Causal relationships</li>
                        <li>What happens if you change X</li>
                        <li>Which actions to take</li>
                        <li><strong>Causation</strong></li>
                    </ul>
                </div>
            </div>
            
            <div class="example-box">
                <h4>üè¢ Business Example: Customer Churn</h4>
                <p><strong>SHAP says:</strong> "Customer service calls strongly predict churn" (correlation)</p>
                <p><strong>Does NOT mean:</strong> "Reducing service calls will reduce churn" (causation)</p>
                <p style="margin-top: 10px;"><strong>Why?</strong> Service calls might be a symptom of underlying product issues (confounder)</p>
            </div>
        </div>
        
        <!-- Slide 27: Three Key SHAP Visualizations -->
        <div class="slide">
            <h2>Three Essential SHAP Visualizations</h2>
            
            <div class="content-box">
                <h4>1Ô∏è‚É£ Feature Importance Bar Chart</h4>
                <p><strong>What it shows:</strong> Overall ranking of features by average absolute impact</p>
                <p><strong>Business use:</strong> "Which 5 factors matter most for customer churn?"</p>
                <div style="background: #263238; color: #e8f5e8; padding: 15px; margin-top: 10px; border-radius: 5px; font-family: monospace;">
<pre style="margin: 0; line-height: 1.6;">
Contract Status     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 0.42
Service Calls       ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà      0.31
Monthly Charges     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà        0.25
Account Age         ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà           0.18
Data Usage          ‚ñà‚ñà‚ñà‚ñà             0.12
</pre>
                </div>
                <p style="margin-top: 10px; font-size: 0.9em; color: #666;">Higher bar = stronger correlation with prediction</p>
            </div>
            
            <div class="two-column" style="margin-top: 20px;">
                <div class="column-item">
                    <h4>2Ô∏è‚É£ Summary Plot (Beeswarm)</h4>
                    <p><strong>What it shows:</strong> Distribution of SHAP values across all data points</p>
                    <p><strong>Colors:</strong> Red = high feature value, Blue = low feature value</p>
                    <p><strong>Use case:</strong> "Do high service calls increase or decrease churn probability?"</p>
                </div>
                <div class="column-item">
                    <h4>3Ô∏è‚É£ Waterfall Plot</h4>
                    <p><strong>What it shows:</strong> Step-by-step breakdown of ONE prediction</p>
                    <p><strong>Use case:</strong> "Why did the model predict THIS customer will churn?"</p>
                    <p><strong>Shows:</strong> Base value ‚Üí Feature impacts ‚Üí Final prediction</p>
                </div>
            </div>
        </div>
        
        <!-- Slide 28: SHAP Waterfall Example -->
        <div class="slide">
            <h2>SHAP Waterfall: Individual Prediction Breakdown</h2>
            
            <div class="example-box">
                <h4>üéØ Example: Predicting Churn for Customer #247</h4>
                <p><strong>Final Prediction:</strong> 78% churn probability (High Risk!)</p>
            </div>
            
            <div class="content-box">
                <h4>How the Model Got There</h4>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 15px 0;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <tr style="border-bottom: 2px solid #dc3545;">
                            <td style="padding: 8px;"><strong>Starting Point (Base Value)</strong></td>
                            <td style="padding: 8px; text-align: right;"><strong>32% (average churn)</strong></td>
                        </tr>
                        <tr style="background: #fff3cd;">
                            <td style="padding: 8px;">+ Month-to-month contract</td>
                            <td style="padding: 8px; text-align: right; color: #dc3545;">+25%</td>
                        </tr>
                        <tr style="background: #fff3cd;">
                            <td style="padding: 8px;">+ 8 service calls (very high)</td>
                            <td style="padding: 8px; text-align: right; color: #dc3545;">+18%</td>
                        </tr>
                        <tr style="background: #d4edda;">
                            <td style="padding: 8px;">- Has device protection</td>
                            <td style="padding: 8px; text-align: right; color: #28a745;">-5%</td>
                        </tr>
                        <tr style="background: #fff3cd;">
                            <td style="padding: 8px;">+ High monthly charges ($89)</td>
                            <td style="padding: 8px; text-align: right; color: #dc3545;">+8%</td>
                        </tr>
                        <tr style="border-top: 3px solid #dc3545;">
                            <td style="padding: 8px;"><strong>Final Prediction</strong></td>
                            <td style="padding: 8px; text-align: right;"><strong>78% churn risk</strong></td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class="warning-box">
                <h4>‚ö†Ô∏è Critical Reminder: This is CORRELATION, not CAUSATION</h4>
                <p>These features <strong>predict</strong> churn, but we cannot conclude that changing them will <strong>reduce</strong> churn.</p>
                <p>For causal effects, we need EconML.</p>
            </div>
        </div>
        
        <!-- Slide 29: SHAP vs EconML Comparison -->
        <div class="slide">
            <h2>SHAP vs EconML: When to Use Each</h2>
            
            <table>
                <tr>
                    <th>Aspect</th>
                    <th>SHAP (Correlation)</th>
                    <th>EconML (Causation)</th>
                </tr>
                <tr>
                    <td><strong>Question</strong></td>
                    <td>"Which features predict the outcome?"</td>
                    <td>"Which features CAUSE the outcome?"</td>
                </tr>
                <tr>
                    <td><strong>Output</strong></td>
                    <td>Feature importance scores</td>
                    <td>Treatment effect estimates</td>
                </tr>
                <tr>
                    <td><strong>Handles Confounders?</strong></td>
                    <td>‚ùå No - shows all correlations</td>
                    <td>‚úÖ Yes - removes confounder bias</td>
                </tr>
                <tr>
                    <td><strong>Business Use</strong></td>
                    <td>Understanding patterns, debugging models</td>
                    <td>Making decisions, taking actions</td>
                </tr>
                <tr>
                    <td><strong>Example Insight</strong></td>
                    <td>"Service calls explain 31% of churn variance"</td>
                    <td>"Reducing service calls by 1 causes 5% churn reduction"</td>
                </tr>
            </table>
            
            <div class="content-box" style="margin-top: 20px;">
                <h4>üéØ The Ideal Workflow</h4>
                <ol>
                    <li><strong>Step 1:</strong> Build predictive ML model (LightGBM, XGBoost, etc.)</li>
                    <li><strong>Step 2:</strong> Use <strong>SHAP</strong> to understand correlations and generate hypotheses</li>
                    <li><strong>Step 3:</strong> Use <strong>EconML</strong> to test causal hypotheses and estimate treatment effects</li>
                    <li><strong>Step 4:</strong> Make business decisions based on <strong>CAUSAL</strong> effects, not correlations</li>
                    <li><strong>Step 5:</strong> Use CATE to personalize actions for different customer segments</li>
                </ol>
            </div>
            
            <div class="warning-box">
                <h4>‚õî The Trap: Using SHAP for Decisions</h4>
                <p><strong>Wrong:</strong> "SHAP says service calls are important ‚Üí reduce service calls"</p>
                <p><strong>Why wrong:</strong> Calls might just correlate with product issues. Reducing calls without fixing root causes won't help.</p>
                <p><strong>Right:</strong> Use EconML to find the causal effect of improving service quality</p>
            </div>
        </div>
        
        <!-- Slide 30: Summary and Today's Exercise -->
        <div class="slide">
            <h2>Summary & Today's Hands-On Exercise</h2>
            
            <div class="content-box">
                <h4>üéì Key Concepts Mastered Today</h4>
                <ul style="margin-left: 40px;">
                    <li><strong>Confounders</strong> bias treatment effect estimates if not controlled</li>
                    <li><strong>Treatment effects</strong> (ATE, HTE, CATE, LATE) answer different business questions</li>
                    <li><strong>SHAP</strong> shows correlation - which features predict outcomes</li>
                    <li><strong>EconML</strong> shows causation - which features cause outcomes</li>
                    <li><strong>Use causal methods</strong> (not SHAP alone) when making business decisions</li>
                </ul>
            </div>
            
            <div class="content-box">
                <h4>üíª Today's Jupyter Notebook Exercise</h4>
                <p>You'll apply SHAP and EconML to the TeleConnect churn dataset and see:</p>
                <ul style="margin-left: 40px;">
                    <li>Which features are strong predictors (SHAP)</li>
                    <li>Which features have true causal effects (EconML)</li>
                    <li>Why correlation ‚â† causation with real visualizations</li>
                    <li>How to make actionable business recommendations</li>
                </ul>
            </div>
            
            <div class="example-box">
                <h4>üéØ Preparing for Assessment 1 (Due Week 5)</h4>
                <p>Your assessment will require:</p>
                <ul style="margin-left: 40px;">
                    <li>Applying both SHAP and EconML to a business dataset</li>
                    <li>Distinguishing correlation from causation</li>
                    <li>Identifying confounders and treatment effects</li>
                    <li>Making actionable, causal-based business recommendations</li>
                </ul>
            </div>
            
            <div class="content-box">
                <h4>üí° Remember the Core Principle</h4>
                <p style="font-size: 1.3em; text-align: center; margin-top: 15px;"><strong>Prediction tells you what will happen.</strong></p>
                <p style="font-size: 1.3em; text-align: center;"><strong>Causation tells you how to change it.</strong></p>
                <p style="text-align: center; margin-top: 10px;">Real business value comes from taking the RIGHT actions, not just predicting outcomes.</p>
            </div>
        </div>
        <div class="navigation">
            <button class="nav-btn" id="prev-btn" onclick="previousSlide()">‚Üê Previous</button>
            <button class="nav-btn" id="next-btn" onclick="nextSlide()">Next ‚Üí</button>
        </div>
    </div>
    
    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        
        document.getElementById('total-slides').textContent = totalSlides;
        
        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');
            
            document.getElementById('current-slide').textContent = currentSlide + 1;
            
            document.getElementById('prev-btn').disabled = currentSlide === 0;
            document.getElementById('next-btn').disabled = currentSlide === totalSlides - 1;
        }
        
        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                showSlide(currentSlide + 1);
            }
        }
        
        function previousSlide() {
            if (currentSlide > 0) {
                showSlide(currentSlide - 1);
            }
        }
        
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                previousSlide();
            }
        });
        
        showSlide(0);
    </script>
</body>
</html>