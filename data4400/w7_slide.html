<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DATA4400 Week 6: ARIMA & SARIMA Models</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Helvetica', Arial, sans-serif;
            background: white;
            color: #333;
            overflow: hidden;
        }
        
        .presentation-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        .slide {
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            text-align: center;
        }
        
        .slide.active {
            display: flex;
        }
        
        .slide h1 {
            font-size: 3em;
            margin-bottom: 30px;
            color: #2c3e50;
            font-weight: 300;
        }
        
        .slide h2 {
            font-size: 2.5em;
            margin-bottom: 25px;
            color: #34495e;
            font-weight: 300;
        }
        
        .slide h3 {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: #2980b9;
            font-weight: 400;
        }
        
        .slide p, .slide li {
            font-size: 1.3em;
            line-height: 1.6;
            margin-bottom: 15px;
            max-width: 900px;
        }
        
        .slide ul {
            text-align: left;
            max-width: 800px;
        }
        
        .slide li {
            margin-bottom: 12px;
            padding-left: 10px;
        }
        
        .recap-box {
            background: #f8f9fa;
            border-left: 5px solid #3498db;
            padding: 25px;
            margin: 20px 0;
            border-radius: 5px;
            max-width: 800px;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            max-width: 1000px;
            margin: 20px 0;
        }
        
        .comparison-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
        }
        
        .comparison-item h4 {
            color: #2980b9;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        
        .analytics-pyramid {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 30px 0;
            max-width: 600px;
        }
        
        .pyramid-level {
            margin: 5px 0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 60px;
            transition: transform 0.3s;
            color: white;
            font-weight: bold;
        }
        
        .pyramid-level:hover {
            transform: scale(1.05);
        }
        
        .level-1 {
            width: 500px;
            background: linear-gradient(135deg, #74b9ff, #0984e3);
        }
        
        .level-2 {
            width: 400px;
            background: linear-gradient(135deg, #00b894, #00a085);
        }
        
        .level-3 {
            width: 300px;
            background: linear-gradient(135deg, #fdcb6e, #e17055);
        }
        
        .level-4 {
            width: 200px;
            background: linear-gradient(135deg, #fd79a8, #e84393);
        }
        
        .quiz-container {
            max-width: 800px;
            margin: 20px 0;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 30px;
        }
        
        .quiz-question {
            font-size: 1.4em;
            margin-bottom: 25px;
            color: #2c3e50;
            font-weight: bold;
        }
        
        .quiz-options {
            display: grid;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .quiz-option {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }
        
        .quiz-option:hover {
            border-color: #3498db;
            background: #e3f2fd;
        }
        
        .quiz-option.selected {
            border-color: #3498db;
            background: #e3f2fd;
        }
        
        .quiz-option.correct {
            border-color: #27ae60;
            background: #d5f4e6;
        }
        
        .quiz-option.incorrect {
            border-color: #e74c3c;
            background: #fdeaea;
        }
        
        .quiz-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }
        
        .quiz-feedback.correct {
            background: #d5f4e6;
            border: 2px solid #27ae60;
            color: #27ae60;
        }
        
        .quiz-feedback.incorrect {
            background: #fdeaea;
            border: 2px solid #e74c3c;
            color: #e74c3c;
        }
        
        .quiz-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
        }
        
        .quiz-btn:hover {
            background: #2980b9;
        }
        
        .quiz-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }
        
        .algorithm-box {
            background: #f8f9fa;
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            max-width: 900px;
        }
        
        .algorithm-features {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        .feature-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #27ae60;
        }
        
        .navigation {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 1000;
        }
        
        .nav-btn {
            padding: 12px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .nav-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }
        
        .slide-counter {
            position: fixed;
            top: 30px;
            right: 30px;
            background: #34495e;
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 14px;
        }
        
        .highlight {
            background: linear-gradient(120deg, #a8e6cf 0%, #dcedc1 100%);
            padding: 2px 6px;
            border-radius: 3px;
        }
        
        .formula-box {
            background: #f8f9fa;
            border: 2px solid #3498db;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.2em;
        }
        
        .time-series-example {
            background: #fff;
            border: 2px solid #27ae60;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
        }
        
        .data-table {
            margin: 20px auto;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .data-table th, .data-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }
        
        .data-table th {
            background: #3498db;
            color: white;
            font-weight: bold;
        }
        
        .data-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .chart-container {
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .chart-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
            text-align: center;
        }
        
        canvas {
            border-radius: 4px;
            max-width: 100%;
        }
        
        .chart-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        @media (max-width: 768px) {
            .chart-grid {
                grid-template-columns: 1fr;
            }
            .comparison-grid {
                grid-template-columns: 1fr;
            }
            
            .algorithm-features {
                grid-template-columns: 1fr;
            }
            
            .slide h1 {
                font-size: 2.2em;
            }
            
            .slide h2 {
                font-size: 1.8em;
            }
            
            .slide p, .slide li {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        <div class="slide-counter">
            <span id="currentSlide">1</span> / <span id="totalSlides">42</span>
        </div>

        <!-- Slide 1: Title -->
        <div class="slide active">
            <h1>DATA4400</h1>
            <h2>Week 6: Advanced Time Series Modeling</h2>
            <h3>ARIMA & SARIMA Models</h3>
            <p>Understanding stationarity, differencing, and seasonal patterns</p>
        </div>

        <!-- Slide 2: Agenda -->
        <div class="slide">
            <h2>Today's Agenda</h2>
            <ul>
                <li>Recap: Smoothing Techniques (Moving Average, Exponential Smoothing)</li>
                <li>Review: AR and ARMA Models</li>
                <li>Deep Dive: ACF and PACF Analysis</li>
                <li>Introduction to ARIMA Models</li>
                <li>Understanding Differencing and Stationarity</li>
                <li>Seasonal ARIMA (SARIMA) Models</li>
                <li>Unit Root Testing</li>
                <li>Practical Applications with Real Data</li>
            </ul>
        </div>

        <!-- Slide 3: Recap Smoothing Techniques -->
        <div class="slide">
            <h2>Recap: Smoothing Techniques</h2>
            <div class="recap-box">
                <h3>What are Smoothing Techniques?</h3>
                <p><strong>Aim:</strong> Reduce the impact of random variation from time series data to identify underlying patterns more clearly.</p>
                <p>These techniques produce a modified time series plot that is <span class="highlight">smoother and less irregular</span> than the original.</p>
            </div>
        </div>

        <!-- Slide 4: Moving Average Recap -->
        <div class="slide">
            <h2>Smoothing Technique 1: Moving Average</h2>
            <div class="algorithm-box">
                <h3>Simple Moving Average</h3>
                <div class="formula-box">
                    MA(n) = (Y<sub>t</sub> + Y<sub>t-1</sub> + ... + Y<sub>t-n+1</sub>) / n
                </div>
                <div class="algorithm-features">
                    <div class="feature-item">
                        <strong>Purpose:</strong> Smooths short-term fluctuations to reveal trends
                    </div>
                    <div class="feature-item">
                        <strong>Effect:</strong> Each data point is replaced by average of surrounding points
                    </div>
                    <div class="feature-item">
                        <strong>Trade-off:</strong> Larger windows = smoother but less responsive
                    </div>
                    <div class="feature-item">
                        <strong>Use Case:</strong> Identifying long-term trends in noisy data
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 5: Exponential Smoothing Recap -->
        <div class="slide">
            <h2>Smoothing Technique 2: Exponential Smoothing</h2>
            <div class="algorithm-box">
                <h3>Exponential Smoothing Formula</h3>
                <div class="formula-box">
                    S<sub>t</sub> = αY<sub>t</sub> + (1-α)S<sub>t-1</sub>
                </div>
                <div class="algorithm-features">
                    <div class="feature-item">
                        <strong>α (alpha):</strong> Smoothing parameter between 0 and 1
                    </div>
                    <div class="feature-item">
                        <strong>Weight Pattern:</strong> More weight to recent observations
                    </div>
                    <div class="feature-item">
                        <strong>Advantage:</strong> Responds quickly to changes while smoothing
                    </div>
                    <div class="feature-item">
                        <strong>Flexibility:</strong> α controls responsiveness vs. smoothness
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Quiz 1 -->
        <div class="slide">
            <h2>Quiz: Smoothing Techniques</h2>
            <div class="quiz-container">
                <div class="quiz-question">Which smoothing technique gives more weight to recent observations?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectOption(this, false)">A) Simple Moving Average</div>
                    <div class="quiz-option" onclick="selectOption(this, false)">B) Centered Moving Average</div>
                    <div class="quiz-option" onclick="selectOption(this, true)">C) Exponential Smoothing</div>
                    <div class="quiz-option" onclick="selectOption(this, false)">D) All give equal weights</div>
                </div>
                <button class="quiz-btn" onclick="showFeedback(this)">Check Answer</button>
                <div class="quiz-feedback"></div>
            </div>
        </div>

        <!-- Slide 7: AR Model Recap -->
        <div class="slide">
            <h2>Recap: Autoregressive (AR) Model</h2>
            <div class="time-series-example">
                <h3>AR(1) Model Example</h3>
                <div class="formula-box">
                    Y<sub>t</sub> = μ + α(Y<sub>t-1</sub> - μ) + ε<sub>t</sub>
                </div>
                <p><strong>Real-world interpretation:</strong> Today's temperature depends on yesterday's temperature plus some random variation.</p>
                <div class="comparison-grid">
                    <div class="comparison-item">
                        <h4>Key Characteristic</h4>
                        <p>Current value depends on previous values in the series</p>
                    </div>
                    <div class="comparison-item">
                        <h4>Stationarity Condition</h4>
                        <p>For AR(1): -1 < α < 1</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 8: AR Data Example -->
        <div class="slide">
            <h2>AR Model: Data-Driven Example</h2>
            <div class="time-series-example">
                <h3>Air Passengers Data (Monthly)</h3>
                <table class="data-table">
                    <tr><th>Month</th><th>Passengers</th><th>Previous Month</th><th>Change</th></tr>
                    <tr><td>2010-01</td><td>112</td><td>-</td><td>-</td></tr>
                    <tr><td>2010-02</td><td>118</td><td>112</td><td>+6</td></tr>
                    <tr><td>2010-03</td><td>132</td><td>118</td><td>+14</td></tr>
                    <tr><td>2010-04</td><td>129</td><td>132</td><td>-3</td></tr>
                </table>
                <p>In AR model, we predict current month's passengers based on previous month(s), accounting for the relationship strength (α coefficient).</p>
            </div>
        </div>

        <!-- Slide 9: ARMA Model Recap -->
        <div class="slide">
            <h2>Recap: ARMA Model</h2>
            <div class="algorithm-box">
                <h3>ARMA combines AR + MA components</h3>
                <div class="formula-box">
                    Y<sub>t</sub> - μ = α₁(Y<sub>t-1</sub> - μ) + ... + α<sub>p</sub>(Y<sub>t-p</sub> - μ) + ε<sub>t</sub> + β₁ε<sub>t-1</sub> + ... + β<sub>q</sub>ε<sub>t-q</sub>
                </div>
                <div class="comparison-grid">
                    <div class="comparison-item">
                        <h4>AR Component</h4>
                        <p>Looks at previous values in the time series (like predicting weather based on past few days)</p>
                    </div>
                    <div class="comparison-item">
                        <h4>MA Component</h4>
                        <p>Considers past errors to improve predictions (learning from past mistakes)</p>
                    </div>
                </div>
                <p><strong>Think of ARMA:</strong> Guessing what happens next by combining patterns from the past (AR) with corrections from past mistakes (MA)</p>
            </div>
        </div>

        <!-- Slide 10: ARMA Data Example -->
        <div class="slide">
            <h2>ARMA: Data-Driven Example</h2>
            <div class="time-series-example">
                <h3>Retail Sales Forecasting</h3>
                <p><strong>AR part:</strong> This month's sales depend on last month's sales</p>
                <p><strong>MA part:</strong> Adjust prediction based on how wrong we were last month</p>
                
                <table class="data-table">
                    <tr><th>Month</th><th>Actual Sales</th><th>Predicted</th><th>Error</th></tr>
                    <tr><td>Jan</td><td>$100K</td><td>$95K</td><td>+$5K</td></tr>
                    <tr><td>Feb</td><td>$110K</td><td>$105K</td><td>+$5K</td></tr>
                    <tr><td>Mar</td><td>?</td><td>AR: $108K<br/>MA: +$2.5K<br/><strong>Total: $110.5K</strong></td><td>-</td></tr>
                </table>
            </div>
        </div>

        <!-- Slide 11: Quiz 2 -->
        <div class="slide">
            <h2>Quiz: AR vs ARMA</h2>
            <div class="quiz-container">
                <div class="quiz-question">What does the MA component in ARMA models primarily help with?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectOption(this, false)">A) Looking at more historical data points</div>
                    <div class="quiz-option" onclick="selectOption(this, true)">B) Learning from past forecasting errors</div>
                    <div class="quiz-option" onclick="selectOption(this, false)">C) Increasing the model complexity</div>
                    <div class="quiz-option" onclick="selectOption(this, false)">D) Handling seasonal patterns</div>
                </div>
                <button class="quiz-btn" onclick="showFeedback(this)">Check Answer</button>
                <div class="quiz-feedback"></div>
            </div>
        </div>

        <!-- Slide 12: ACF Introduction -->
        <div class="slide">
            <h2>Autocorrelation Function (ACF)</h2>
            <div class="algorithm-box">
                <h3>What is ACF?</h3>
                <p>The <strong>correlogram</strong> shows correlation between y at time t and y at time t-k, where k is the lag.</p>
                <div class="formula-box">
                    r(k) = Σ(y<sub>t</sub> - ȳ)(y<sub>t-k</sub> - ȳ) / Σ(y<sub>t</sub> - ȳ)²
                </div>
                <div class="algorithm-features">
                    <div class="feature-item">
                        <strong>Purpose:</strong> Measure how current values relate to past values
                    </div>
                    <div class="feature-item">
                        <strong>Range:</strong> Values between -1 and +1
                    </div>
                    <div class="feature-item">
                        <strong>Lag k:</strong> Time periods back (1, 2, 3, ... typically up to 20)
                    </div>
                    <div class="feature-item">
                        <strong>Use:</strong> Guide for choosing ARMA model order
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 13: PACF Introduction -->
        <div class="slide">
            <h2>Partial Autocorrelation Function (PACF)</h2>
            <div class="algorithm-box">
                <h3>Understanding PACF</h3>
                <p>PACF shows the <strong>direct</strong> correlation at each lag, removing the effect of intermediate lags.</p>
                <div class="comparison-grid">
                    <div class="comparison-item">
                        <h4>ACF</h4>
                        <p>Shows total correlation including indirect effects through intermediate lags</p>
                    </div>
                    <div class="comparison-item">
                        <h4>PACF</h4>
                        <p>Shows only direct correlation, controlling for intermediate values</p>
                    </div>
                </div>
                <p><strong>Analogy:</strong> ACF is like total influence of a grandparent on grandchild (direct + through parent). PACF is only the direct grandparent influence.</p>
            </div>
        </div>

        <!-- Slide 14: ACF/PACF Patterns -->
        <div class="slide">
            <h2>Identifying Models with ACF & PACF</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>AR(p) Model</h4>
                    <p><strong>PACF:</strong> Cuts off after lag p</p>
                    <p><strong>ACF:</strong> Decays gradually</p>
                    <p><strong>Example:</strong> PACF significant at lags 1,2 then cuts off → AR(2)</p>
                </div>
                <div class="comparison-item">
                    <h4>MA(q) Model</h4>
                    <p><strong>ACF:</strong> Cuts off after lag q</p>
                    <p><strong>PACF:</strong> Decays gradually</p>
                    <p><strong>Example:</strong> ACF significant at lags 1,2,3 then cuts off → MA(3)</p>
                </div>
            </div>
            <div class="chart-grid">
                <div class="chart-container">
                    <div class="chart-title">ACF Plot (AR(2) Process)</div>
                    <canvas id="acfChart" width="350" height="200"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">PACF Plot (AR(2) Process)</div>
                    <canvas id="pacfChart" width="350" height="200"></canvas>
                </div>
            </div>
        </div>

        <!-- Slide 15: ACF/PACF Visual Example -->
        <div class="slide">
            <h2>ACF & PACF: Data Example</h2>
            <div class="time-series-example">
                <h3>AR(2) Process Pattern</h3>
                <p><strong>Key observations from typical AR(2) plots:</strong></p>
                <ul>
                    <li><strong>PACF:</strong> Strong correlation at lag 1 and lag 2, then cuts off</li>
                    <li><strong>ACF:</strong> Gradually decaying pattern</li>
                    <li><strong>Interpretation:</strong> Current value depends directly on two previous values</li>
                </ul>
                
                <div class="algorithm-box">
                    <p><strong>Real Application:</strong> Stock prices where today's price depends on yesterday's and day-before-yesterday's prices, but not directly on older prices.</p>
                </div>
            </div>
        </div>

        <!-- Slide 16: Quiz 3 -->
        <div class="slide">
            <h2>Quiz: ACF & PACF</h2>
            <div class="quiz-container">
                <div class="quiz-question">If PACF cuts off after lag 2 and ACF decays gradually, what model is suggested?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectOption(this, false)">A) MA(2)</div>
                    <div class="quiz-option" onclick="selectOption(this, true)">B) AR(2)</div>
                    <div class="quiz-option" onclick="selectOption(this, false)">C) ARMA(1,1)</div>
                    <div class="quiz-option" onclick="selectOption(this, false)">D) ARIMA(2,1,0)</div>
                </div>
                <button class="quiz-btn" onclick="showFeedback(this)">Check Answer</button>
                <div class="quiz-feedback"></div>
            </div>
        </div>

        <!-- Slide 17: Today's Focus -->
        <div class="slide">
            <h2>Today's Main Focus</h2>
            <div class="analytics-pyramid">
                <div class="pyramid-level level-4">Unit Root Testing</div>
                <div class="pyramid-level level-3">SARIMA Models</div>
                <div class="pyramid-level level-2">ARIMA Models</div>
                <div class="pyramid-level level-1">Differencing & Stationarity</div>
            </div>
            <p>We'll build from stationarity concepts up to advanced seasonal models</p>
        </div>

        <!-- Slide 18: What is Differencing? -->
        <div class="slide">
            <h2>Understanding Differencing</h2>
            <div class="algorithm-box">
                <h3>Differencing: Removing Trends from Data</h3>
                <div class="formula-box">
                    First Order Difference: ΔY<sub>t</sub> = Y<sub>t</sub> - Y<sub>t-1</sub>
                </div>
                <div class="formula-box">
                    Second Order Difference: Δ²Y<sub>t</sub> = ΔY<sub>t</sub> - ΔY<sub>t-1</sub>
                </div>
                <p><strong>Purpose:</strong> Transform non-stationary data into stationary data by removing trends</p>
            </div>
        </div>

        <!-- Slide 19: Differencing Example -->
        <div class="slide">
            <h2>Differencing: Step-by-Step Example</h2>
            <div class="time-series-example">
                <h3>Stock Price Example</h3>
                <table class="data-table">
                    <tr><th>Day</th><th>Price ($)</th><th>1st Diff</th><th>2nd Diff</th></tr>
                    <tr><td>1</td><td>100</td><td>-</td><td>-</td></tr>
                    <tr><td>2</td><td>102</td><td>+2</td><td>-</td></tr>
                    <tr><td>3</td><td>105</td><td>+3</td><td>+1</td></tr>
                    <tr><td>4</td><td>109</td><td>+4</td><td>+1</td></tr>
                    <tr><td>5</td><td>114</td><td>+5</td><td>+1</td></tr>
                </table>
            </div>
            <div class="chart-container">
                <div class="chart-title">Visual Differencing Process</div>
                <canvas id="differencingChart" width="700" height="300"></canvas>
            </div>
            <p><strong>Observation:</strong> Original prices show strong upward trend. First differences still trending up. Second differences are stationary (constant +1).</p>
        </div>

        <!-- Slide 20: Why Differencing Matters -->
        <div class="slide">
            <h2>Why Differencing is Crucial</h2>
            <div class="chart-grid">
                <div class="chart-container">
                    <div class="chart-title">Before: Non-Stationary (Trending)</div>
                    <canvas id="beforeDiffChart" width="350" height="180"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">After: Stationary (Differenced)</div>
                    <canvas id="afterDiffChart" width="350" height="180"></canvas>
                </div>
            </div>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Non-Stationary Problems</h4>
                    <ul>
                        <li>Mean changes over time</li>
                        <li>Variance may increase</li>
                        <li>Relationships are unstable</li>
                        <li>Predictions become unreliable</li>
                    </ul>
                </div>
                <div class="comparison-item">
                    <h4>After Differencing Benefits</h4>
                    <ul>
                        <li>Stable mean around zero</li>
                        <li>Consistent variance</li>
                        <li>Reliable model parameters</li>
                        <li>Better forecasting accuracy</li>
                    </ul>
                </div>
            </div>
            <div class="recap-box">
                <p><strong>Simple Rule:</strong> If your data has a trend, try first differencing. If it still has a trend, try second differencing. Most real data needs at most 2 orders of differencing.</p>
            </div>
        </div>

        <!-- Slide 21: Quiz - Differencing -->
        <div class="slide">
            <h2>Quiz: Differencing Practice</h2>
            <div class="quiz-container">
                <div class="quiz-question">Given time series: 10, 15, 21, 30, 45, 66, 91</div>
                <p><strong>Question 1:</strong> Is this time series stationary?</p>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectOption(this, false)">A) Yes, it's stationary</div>
                    <div class="quiz-option" onclick="selectOption(this, true)">B) No, it shows a clear upward trend</div>
                    <div class="quiz-option" onclick="selectOption(this, false)">C) Cannot determine from this data</div>
                    <div class="quiz-option" onclick="selectOption(this, false)">D) Only the variance is non-stationary</div>
                </div>
                <button class="quiz-btn" onclick="showFeedback(this)">Check Answer</button>
                <div class="quiz-feedback"></div>
            </div>
        </div>

        <!-- Slide 22: Differencing Quiz Continued -->
        <div class="slide">
            <h2>Differencing Practice (Continued)</h2>
            <div class="time-series-example">
                <h3>Let's Apply First Differencing</h3>
                <table class="data-table">
                    <tr><th>Original</th><th>1st Difference</th><th>2nd Difference</th></tr>
                    <tr><td>10</td><td>-</td><td>-</td></tr>
                    <tr><td>15</td><td>5</td><td>-</td></tr>
                    <tr><td>21</td><td>6</td><td>1</td></tr>
                    <tr><td>30</td><td>9</td><td>3</td></tr>
                    <tr><td>45</td><td>15</td><td>6</td></tr>
                    <tr><td>66</td><td>21</td><td>6</td></tr>
                    <tr><td>91</td><td>25</td><td>4</td></tr>
                </table>
                <p><strong>Analysis:</strong> First differences still show upward trend (5,6,9,15,21,25). Second differences are more stable but still not perfectly stationary.</p>
            </div>
        </div>

        <!-- Slide 23: ARIMA Overview -->
        <div class="slide">
            <h2>ARIMA: The Complete Model</h2>
            <div class="algorithm-box">
                <h3>ARIMA(p,d,q) = AR + I + MA</h3>
                <div class="comparison-grid">
                    <div class="comparison-item">
                        <h4>AR (p)</h4>
                        <p>Autoregressive terms - how many past values to include</p>
                    </div>
                    <div class="comparison-item">
                        <h4>I (d)</h4>
                        <p>Integration (differencing) - how many times to difference the data</p>
                    </div>
                    <div class="comparison-item">
                        <h4>MA (q)</h4>
                        <p>Moving Average terms - how many past errors to include</p>
                    </div>
                </div>
                <p><strong>Key Insight:</strong> ARIMA = ARMA applied to differenced (stationary) data</p>
            </div>
        </div>

        <!-- Slide 24: ARIMA vs Previous Models -->
        <div class="slide">
            <h2>ARIMA vs AR and ARMA</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>AR Model</h4>
                    <p><strong>Requirement:</strong> Data must already be stationary</p>
                    <p><strong>Example:</strong> AR(2) for temperature fluctuations around seasonal mean</p>
                </div>
                <div class="comparison-item">
                    <h4>ARMA Model</h4>
                    <p><strong>Requirement:</strong> Data must already be stationary</p>
                    <p><strong>Example:</strong> ARMA(1,1) for detrended stock returns</p>
                </div>
            </div>
            <div class="algorithm-box">
                <h3>ARIMA Model</h3>
                <p><strong>Advantage:</strong> Can handle non-stationary data by including differencing step</p>
                <p><strong>Example:</strong> ARIMA(1,1,1) for stock prices with trend - difference once to remove trend, then apply ARMA(1,1)</p>
            </div>
        </div>

        <!-- Slide 25: ARIMA Details - The Process -->
        <div class="slide">
            <h2>ARIMA Model: The Process</h2>
            <div class="analytics-pyramid">
                <div class="pyramid-level level-1">1. Check if data is stationary</div>
                <div class="pyramid-level level-2">2. If not, apply d differences</div>
                <div class="pyramid-level level-3">3. Fit ARMA(p,q) to differenced data</div>
                <div class="pyramid-level level-4">4. Use model for forecasting</div>
            </div>
            <div class="recap-box">
                <p><strong>Mathematical Form:</strong></p>
                <p>(1 - α₁L - α₂L² - ... - αₚLᵖ)(1-L)ᵈYₜ = (1 + β₁L + β₂L² + ... + βₑLᵠ)εₜ</p>
                <p>Where L is the lag operator and d is the degree of differencing</p>
            </div>
        </div>

        <!-- Slide 26: ARIMA Details - Interpretation -->
        <div class="slide">
            <h2>ARIMA Model: Simple Interpretation</h2>
            <div class="chart-container">
                <div class="chart-title">ARIMA(1,1,1) Process: Stock Prices</div>
                <canvas id="arimaChart" width="700" height="300"></canvas>
            </div>
            <div class="time-series-example">
                <h3>ARIMA(1,1,1) Example: Stock Prices</h3>
                <p><strong>Step 1:</strong> Original stock prices have upward trend (non-stationary)</p>
                <p><strong>Step 2:</strong> Take first difference → daily price changes (stationary)</p>
                <p><strong>Step 3:</strong> Model daily changes using ARMA(1,1):</p>
                <ul>
                    <li>Today's change depends on yesterday's change (AR part)</li>
                    <li>Plus adjustment based on yesterday's forecast error (MA part)</li>
                </ul>
                <p><strong>Step 4:</strong> To forecast prices, predict changes then add to last known price</p>
            </div>
        </div>

        <!-- Slide 27: Choosing p,d,q Parameters -->
        <div class="slide">
            <h2>How to Choose p, d, q Parameters</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Choosing d (Integration Order)</h4>
                    <ul>
                        <li>Plot the data - look for trends</li>
                        <li>Apply unit root tests</li>
                        <li>Start with d=1 for trending data</li>
                        <li>Most economic data needs d=1 or d=2</li>
                    </ul>
                </div>
                <div class="comparison-item">
                    <h4>Choosing p and q</h4>
                    <ul>
                        <li>Use ACF/PACF plots on differenced data</li>
                        <li>PACF cuts off at lag p → AR(p)</li>
                        <li>ACF cuts off at lag q → MA(q)</li>
                        <li>Information criteria (AIC, BIC)</li>
                    </ul>
                </div>
            </div>
            <div class="algorithm-box">
                <h3>Practical Approach</h3>
                <p>Try several combinations and choose the one with best fit and lowest AIC/BIC</p>
            </div>
        </div>

        <!-- Slide 28: Quiz ARIMA -->
        <div class="slide">
            <h2>Quiz: ARIMA Models</h2>
            <div class="quiz-container">
                <div class="quiz-question">What does the 'd' parameter in ARIMA(p,d,q) represent?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectOption(this, false)">A) The number of autoregressive terms</div>
                    <div class="quiz-option" onclick="selectOption(this, true)">B) The degree of differencing needed to make data stationary</div>
                    <div class="quiz-option" onclick="selectOption(this, false)">C) The number of moving average terms</div>
                    <div class="quiz-option" onclick="selectOption(this, false)">D) The seasonal period length</div>
                </div>
                <button class="quiz-btn" onclick="showFeedback(this)">Check Answer</button>
                <div class="quiz-feedback"></div>
            </div>
        </div>

        <!-- Slide 29: SARIMA Overview -->
        <div class="slide">
            <h2>Seasonal ARIMA (SARIMA)</h2>
            <div class="algorithm-box">
                <h3>SARIMA(p,d,q)(P,D,Q)s</h3>
                <div class="comparison-grid">
                    <div class="comparison-item">
                        <h4>Regular ARIMA Part</h4>
                        <p><strong>p,d,q:</strong> Handle short-term patterns</p>
                        <p>Same as regular ARIMA</p>
                    </div>
                    <div class="comparison-item">
                        <h4>Seasonal Part</h4>
                        <p><strong>P,D,Q:</strong> Handle seasonal patterns</p>
                        <p><strong>s:</strong> Seasonal period (12 for monthly, 4 for quarterly)</p>
                    </div>
                </div>
                <p><strong>When to Use:</strong> Data shows both short-term correlations AND seasonal patterns</p>
            </div>
        </div>

        <!-- Slide 30: SARIMA vs ARIMA -->
        <div class="slide">
            <h2>SARIMA vs ARIMA: When to Use Each?</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Use Regular ARIMA When:</h4>
                    <ul>
                        <li>No obvious seasonal patterns</li>
                        <li>Monthly/quarterly data without seasonal cycle</li>
                        <li>Financial returns (typically no seasonality)</li>
                        <li>Daily data over short periods</li>
                    </ul>
                </div>
                <div class="comparison-item">
                    <h4>Use SARIMA When:</h4>
                    <ul>
                        <li>Clear seasonal patterns (monthly, quarterly)</li>
                        <li>Retail sales (holiday effects)</li>
                        <li>Temperature data</li>
                        <li>Tourism, agriculture data</li>
                    </ul>
                </div>
            </div>
            <div class="recap-box">
                <p><strong>Key Question:</strong> Does the data show patterns that repeat every s time periods?</p>
            </div>
        </div>

        <!-- Slide 31: SARIMA Detailed Example -->
        <div class="slide">
            <h2>SARIMA: Detailed Example</h2>
            <div class="time-series-example">
                <h3>Monthly Retail Sales: SARIMA(1,1,1)(1,1,1)₁₂</h3>
                <p><strong>Regular part (1,1,1):</strong></p>
                <ul>
                    <li>First difference to remove trend</li>
                    <li>Current month depends on previous month</li>
                    <li>Adjust for last month's forecast error</li>
                </ul>
                
                <p><strong>Seasonal part (1,1,1)₁₂:</strong></p>
                <ul>
                    <li>First seasonal difference (Jan 2024 - Jan 2023)</li>
                    <li>Current January depends on previous January</li>
                    <li>Adjust for last January's seasonal error</li>
                </ul>
                
                <p><strong>Result:</strong> Model captures both month-to-month changes AND year-to-year seasonal patterns</p>
            </div>
        </div>

        <!-- Slide 32: SARIMA Visualization -->
        <div class="slide">
            <h2>SARIMA: Visual Understanding</h2>
            <div class="chart-container">
                <div class="chart-title">Monthly Air Passengers: Trend + Seasonality</div>
                <canvas id="sarimaChart" width="700" height="300"></canvas>
            </div>
            <div class="time-series-example">
                <h3>Air Passengers Data Pattern</h3>
                <div class="algorithm-box">
                    <p><strong>Observed Patterns:</strong></p>
                    <ul>
                        <li><strong>Trend:</strong> Overall increase in passengers over time</li>
                        <li><strong>Seasonality:</strong> Peak in summer months (June-Aug), low in winter</li>
                        <li><strong>Month-to-Month:</strong> Some correlation between consecutive months</li>
                    </ul>
                </div>
                
                <div class="recap-box">
                    <p><strong>SARIMA Approach:</strong></p>
                    <p>• Remove trend with regular differencing (d=1)</p>
                    <p>• Remove seasonal pattern with seasonal differencing (D=1, s=12)</p>
                    <p>• Model remaining correlations with AR/MA terms</p>
                </div>
            </div>
        </div>

        <!-- Slide 33: Choosing SARIMA Parameters -->
        <div class="slide">
            <h2>How to Choose P,D,Q,p,d,q,s Parameters?</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Seasonal Parameters</h4>
                    <p><strong>s:</strong> Known from data frequency</p>
                    <ul>
                        <li>Monthly data: s=12</li>
                        <li>Quarterly data: s=4</li>
                        <li>Daily data: s=7 or s=365</li>
                    </ul>
                    <p><strong>P,D,Q:</strong> Use ACF/PACF at seasonal lags</p>
                </div>
                <div class="comparison-item">
                    <h4>Regular Parameters</h4>
                    <p><strong>p,d,q:</strong> Same process as regular ARIMA</p>
                    <ul>
                        <li>Plot differenced data</li>
                        <li>Check ACF/PACF patterns</li>
                        <li>Start with simple models</li>
                        <li>Use information criteria</li>
                    </ul>
                </div>
            </div>
            <div class="algorithm-box">
                <p><strong>Common Starting Points:</strong> SARIMA(1,1,1)(1,1,1)s or SARIMA(0,1,1)(0,1,1)s</p>
            </div>
        </div>

        <!-- Slide 34: Unit Root Tests Introduction -->
        <div class="slide">
            <h2>Unit Root Testing: Why Do We Need It?</h2>
            <div class="recap-box">
                <h3>The Stationarity Question</h3>
                <p>Before fitting ARIMA models, we need to answer: <strong>"How many times should we difference our data to make it stationary?"</strong></p>
            </div>
            
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Visual Inspection Problems</h4>
                    <ul>
                        <li>Subjective interpretation</li>
                        <li>Difficult with noisy data</li>
                        <li>May miss subtle trends</li>
                        <li>Not reliable for complex patterns</li>
                    </ul>
                </div>
                <div class="comparison-item">
                    <h4>Unit Root Tests Benefits</h4>
                    <ul>
                        <li>Objective statistical test</li>
                        <li>Clear p-value interpretation</li>
                        <li>Handles complex cases</li>
                        <li>Industry standard approach</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 35: Unit Root Test Concept -->
        <div class="slide">
            <h2>Unit Root Tests: The Concept</h2>
            <div class="algorithm-box">
                <h3>What is a Unit Root?</h3>
                <p>A time series has a <strong>unit root</strong> if shocks have permanent effects (non-stationary)</p>
                
                <div class="formula-box">
                    Test equation: ΔY<sub>t</sub> = α + βY<sub>t-1</sub> + error
                </div>
                
                <div class="comparison-grid">
                    <div class="comparison-item">
                        <h4>Unit Root Present (β = 0)</h4>
                        <p>Series is non-stationary</p>
                        <p>Need to difference the data</p>
                    </div>
                    <div class="comparison-item">
                        <h4>No Unit Root (β < 0)</h4>
                        <p>Series is stationary</p>
                        <p>Can use levels in modeling</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 36: Augmented Dickey-Fuller Test -->
        <div class="slide">
            <h2>Augmented Dickey-Fuller (ADF) Test</h2>
            <div class="algorithm-box">
                <h3>Most Common Unit Root Test</h3>
                
                <div class="formula-box">
                    ADF: ΔY<sub>t</sub> = α + βY<sub>t-1</sub> + γ₁ΔY<sub>t-1</sub> + ... + γₚΔY<sub>t-p</sub> + εᵗ
                </div>
                
                <p><strong>Null Hypothesis (H₀):</strong> β = 0 (unit root exists, series is non-stationary)</p>
                <p><strong>Alternative Hypothesis (H₁):</strong> β < 0 (no unit root, series is stationary)</p>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">ADF Test Distribution</div>
                <canvas id="adfChart" width="600" height="250"></canvas>
            </div>
            
            <div class="recap-box">
                <p><strong>Decision Rule:</strong></p>
                <p>• If p-value < 0.05: Reject H₀ → Series is stationary</p>
                <p>• If p-value > 0.05: Fail to reject H₀ → Series has unit root</p>
            </div>
        </div>

        <!-- Slide 37: ADF Test Interpretation -->
        <div class="slide">
            <h2>Interpreting ADF Test Results</h2>
            <div class="time-series-example">
                <h3>Example Results</h3>
                
                <table class="data-table">
                    <tr><th>Series</th><th>ADF Statistic</th><th>p-value</th><th>Conclusion</th></tr>
                    <tr><td>Stock Prices</td><td>-1.45</td><td>0.56</td><td>Non-stationary (has trend)</td></tr>
                    <tr><td>Stock Returns</td><td>-8.92</td><td>0.00</td><td>Stationary</td></tr>
                    <tr><td>Temperature</td><td>-2.85</td><td>0.05</td><td>Borderline (check further)</td></tr>
                </table>
                
                <div class="algorithm-box">
                    <p><strong>Practical Steps:</strong></p>
                    <p>1. Run ADF test on original data</p>
                    <p>2. If p > 0.05, take first difference and test again</p>
                    <p>3. If still p > 0.05, take second difference</p>
                    <p>4. Use the differenced data that passes the test</p>
                </div>
            </div>
        </div>

        <!-- Slide 38: Other Unit Root Tests -->
        <div class="slide">
            <h2>Other Unit Root Tests</h2>
            <div class="comparison-grid">
                <div class="comparison-item">
                    <h4>Phillips-Perron (PP) Test</h4>
                    <ul>
                        <li>Similar to ADF but different corrections</li>
                        <li>Better for series with structural breaks</li>
                        <li>Non-parametric approach</li>
                    </ul>
                </div>
                <div class="comparison-item">
                    <h4>KPSS Test</h4>
                    <ul>
                        <li>Opposite null hypothesis</li>
                        <li>H₀: Series is stationary</li>
                        <li>Good as complementary test</li>
                    </ul>
                </div>
            </div>
            
            <div class="algorithm-box">
                <h3>Best Practice Approach</h3>
                <p>Use multiple tests and look for consistent results. If ADF says non-stationary and KPSS agrees, you can be confident about differencing.</p>
            </div>
        </div>

        <!-- Slide 39: Unit Root Testing Workflow -->
        <div class="slide">
            <h2>Unit Root Testing: Complete Workflow</h2>
            <div class="analytics-pyramid">
                <div class="pyramid-level level-1">1. Plot the data visually</div>
                <div class="pyramid-level level-2">2. Run ADF test on original series</div>
                <div class="pyramid-level level-3">3. If non-stationary, difference and retest</div>
                <div class="pyramid-level level-4">4. Confirm with additional tests (PP, KPSS)</div>
            </div>
            
            <div class="time-series-example">
                <h3>Typical Results Pattern</h3>
                <ul>
                    <li><strong>Most economic series:</strong> Need d=1 (first difference)</li>
                    <li><strong>Prices, GDP, stock indices:</strong> Usually I(1)</li>
                    <li><strong>Returns, growth rates:</strong> Usually I(0) - already stationary</li>
                    <li><strong>Few series need d=2:</strong> Be cautious, often indicates over-differencing</li>
                </ul>
            </div>
        </div>

        <!-- Slide 40: Final Quiz -->
        <div class="slide">
            <h2>Final Quiz: Putting It All Together</h2>
            <div class="quiz-container">
                <div class="quiz-question">You have monthly sales data showing upward trend and seasonal pattern. ADF test p-value = 0.8 on original data, p-value = 0.02 after first differencing. What model should you consider?</div>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="selectOption(this, false)">A) ARIMA(1,0,1) - data is already stationary</div>
                    <div class="quiz-option" onclick="selectOption(this, true)">B) SARIMA(p,1,q)(P,1,Q)₁₂ - needs differencing and seasonal modeling</div>
                    <div class="quiz-option" onclick="selectOption(this, false)">C) ARIMA(1,2,1) - needs second differencing</div>
                    <div class="quiz-option" onclick="selectOption(this, false)">D) Simple exponential smoothing</div>
                </div>
                <button class="quiz-btn" onclick="showFeedback(this)">Check Answer</button>
                <div class="quiz-feedback"></div>
            </div>
        </div>

        <!-- Slide 41: Summary -->
        <div class="slide">
            <h2>Week 6 Summary</h2>
            <div class="recap-box">
                <h3>Key Concepts Mastered</h3>
                <ul>
                    <li><strong>Smoothing:</strong> Moving averages and exponential smoothing reduce noise</li>
                    <li><strong>AR/ARMA:</strong> Autoregressive and mixed models for stationary data</li>
                    <li><strong>ACF/PACF:</strong> Tools to identify appropriate model orders</li>
                    <li><strong>ARIMA:</strong> Extension to handle non-stationary data through differencing</li>
                    <li><strong>SARIMA:</strong> Additional seasonal components for periodic patterns</li>
                    <li><strong>Unit Root Tests:</strong> Objective statistical tests for stationarity</li>
                </ul>
            </div>
            
            <div class="algorithm-box">
                <h3>Next Steps</h3>
                <p>Practice with real datasets, experiment with parameter selection, and compare different models using information criteria.</p>
            </div>
        </div>

        <!-- Slide 42: Thank You -->
        <div class="slide">
            <h1>Thank You!</h1>
            <h2>Questions & Discussion</h2>
            <div class="recap-box">
                <h3>Next Week Preview</h3>
                <p><strong>Week 7:</strong> Advanced ARIMA applications, model diagnostics, and forecasting evaluation</p>
            </div>
            <p>Remember to practice with the provided datasets and explore the Activity 9 ARIMA notebook!</p>
        </div>
    </div>

    <!-- Navigation Controls -->
    <div class="navigation">
        <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)">Previous</button>
        <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">Next</button>
    </div>

    <script>
        let currentSlideIndex = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        function showSlide(index) {
            slides.forEach(slide => slide.classList.remove('active'));
            slides[index].classList.add('active');
            
            document.getElementById('currentSlide').textContent = index + 1;
            document.getElementById('totalSlides').textContent = totalSlides;
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = index === 0;
            document.getElementById('nextBtn').disabled = index === totalSlides - 1;
        }

        function changeSlide(direction) {
            const newIndex = currentSlideIndex + direction;
            if (newIndex >= 0 && newIndex < totalSlides) {
                currentSlideIndex = newIndex;
                showSlide(currentSlideIndex);
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowLeft') {
                changeSlide(-1);
            } else if (event.key === 'ArrowRight') {
                changeSlide(1);
            }
        });

        // Quiz functionality
        function selectOption(element, isCorrect) {
            const options = element.parentNode.querySelectorAll('.quiz-option');
            options.forEach(option => option.classList.remove('selected'));
            element.classList.add('selected');
            element.dataset.correct = isCorrect;
        }

        function showFeedback(button) {
            const container = button.parentNode;
            const selectedOption = container.querySelector('.quiz-option.selected');
            const feedback = container.querySelector('.quiz-feedback');
            
            if (!selectedOption) {
                alert('Please select an answer first!');
                return;
            }
            
            const isCorrect = selectedOption.dataset.correct === 'true';
            const options = container.querySelectorAll('.quiz-option');
            
            options.forEach(option => {
                if (option.dataset.correct === 'true') {
                    option.classList.add('correct');
                } else if (option.classList.contains('selected') && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });
            
            feedback.style.display = 'block';
            feedback.className = `quiz-feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = isCorrect ? 
                '✅ Correct! Well done.' : 
                '❌ Incorrect. The correct answer is highlighted in green.';
                
            button.disabled = true;
        }

        // Initialize
        showSlide(0);
        
        // Chart drawing functions
        function drawChart(canvasId, data, options = {}) {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            // Clear canvas
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, width, height);
            
            // Setup defaults
            const padding = options.padding || 50;
            const plotWidth = width - 2 * padding;
            const plotHeight = height - 2 * padding;
            
            if (data.length === 0) return;
            
            // Find data range
            const minY = options.minY !== undefined ? options.minY : Math.min(...data);
            const maxY = options.maxY !== undefined ? options.maxY : Math.max(...data);
            const range = maxY - minY;
            
            // Draw axes
            ctx.strokeStyle = '#2c3e50';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, height - padding);
            ctx.lineTo(width - padding, height - padding);
            ctx.stroke();
            
            // Draw confidence bands for correlation plots
            if (options.showConfidence) {
                const confLevel = 1.96 / Math.sqrt(data.length);
                const confY1 = height - padding - ((confLevel - minY) / range) * plotHeight;
                const confY2 = height - padding - ((-confLevel - minY) / range) * plotHeight;
                
                ctx.fillStyle = 'rgba(52, 152, 219, 0.2)';
                ctx.fillRect(padding, confY2, plotWidth, confY1 - confY2);
                
                ctx.strokeStyle = '#3498db';
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                ctx.moveTo(padding, confY1);
                ctx.lineTo(width - padding, confY1);
                ctx.moveTo(padding, confY2);
                ctx.lineTo(width - padding, confY2);
                ctx.stroke();
                ctx.setLineDash([]);
            }
            
            // Draw data
            ctx.strokeStyle = options.color || '#e74c3c';
            ctx.fillStyle = options.color || '#e74c3c';
            ctx.lineWidth = options.lineWidth || 2;
            
            if (options.type === 'bar') {
                // Bar chart
                const barWidth = plotWidth / data.length * 0.8;
                data.forEach((value, i) => {
                    const x = padding + (i * plotWidth / data.length) + (plotWidth / data.length - barWidth) / 2;
                    const barHeight = ((value - minY) / range) * plotHeight;
                    const y = height - padding - barHeight;
                    
                    ctx.fillRect(x, y, barWidth, barHeight);
                });
            } else {
                // Line chart
                ctx.beginPath();
                data.forEach((value, i) => {
                    const x = padding + (i * plotWidth / (data.length - 1));
                    const y = height - padding - ((value - minY) / range) * plotHeight;
                    
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                });
                ctx.stroke();
                
                // Draw points
                if (options.showPoints !== false) {
                    data.forEach((value, i) => {
                        const x = padding + (i * plotWidth / (data.length - 1));
                        const y = height - padding - ((value - minY) / range) * plotHeight;
                        
                        ctx.beginPath();
                        ctx.arc(x, y, 3, 0, Math.PI * 2);
                        ctx.fill();
                    });
                }
            }
            
            // Add labels
            if (options.xlabel || options.ylabel) {
                ctx.fillStyle = '#2c3e50';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                
                if (options.xlabel) {
                    ctx.fillText(options.xlabel, width / 2, height - 10);
                }
                
                if (options.ylabel) {
                    ctx.save();
                    ctx.translate(15, height / 2);
                    ctx.rotate(-Math.PI / 2);
                    ctx.fillText(options.ylabel, 0, 0);
                    ctx.restore();
                }
            }
        }
        
        function drawMultiChart(canvasId, datasets, options = {}) {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            // Clear canvas
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, width, height);
            
            const padding = 60;
            const plotWidth = width - 2 * padding;
            const plotHeight = height / datasets.length - padding;
            
            datasets.forEach((dataset, plotIndex) => {
                const yOffset = plotIndex * (height / datasets.length);
                const data = dataset.data;
                const minY = dataset.minY !== undefined ? dataset.minY : Math.min(...data);
                const maxY = dataset.maxY !== undefined ? dataset.maxY : Math.max(...data);
                const range = maxY - minY || 1;
                
                // Draw subplot axes
                ctx.strokeStyle = '#2c3e50';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(padding, yOffset + padding);
                ctx.lineTo(padding, yOffset + padding + plotHeight);
                ctx.lineTo(width - padding, yOffset + padding + plotHeight);
                ctx.stroke();
                
                // Draw data line
                ctx.strokeStyle = dataset.color || '#e74c3c';
                ctx.lineWidth = 2;
                ctx.beginPath();
                
                data.forEach((value, i) => {
                    const x = padding + (i * plotWidth / (data.length - 1));
                    const y = yOffset + padding + plotHeight - ((value - minY) / range) * plotHeight;
                    
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                });
                ctx.stroke();
                
                // Add subplot title
                ctx.fillStyle = '#2c3e50';
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'left';
                ctx.fillText(dataset.title, padding, yOffset + 20);
            });
        }
        
        // Initialize charts when slides are viewed
        function initializeCharts() {
            // ACF Chart (Slide 14)
            const acfData = [1, 0.58, 0.42, 0.25, 0.15, 0.07, -0.09, -0.17, -0.20, -0.12, -0.05, 0.08, 0.15, 0.18, 0.12, 0.05, -0.03, -0.08, -0.10, -0.08];
            drawChart('acfChart', acfData, {
                color: '#3498db',
                type: 'bar',
                minY: -0.5,
                maxY: 1,
                showConfidence: true,
                xlabel: 'Lag',
                ylabel: 'ACF'
            });
            
            // PACF Chart (Slide 14)
            const pacfData = [1, 0.6, -0.4, 0.06, 0.02, -0.05, 0.03, -0.07, 0.07, 0.03, -0.02, 0.04, -0.03, 0.01, 0.02, -0.04, 0.03, -0.02, 0.01, 0.00];
            drawChart('pacfChart', pacfData, {
                color: '#e74c3c',
                type: 'bar',
                minY: -0.5,
                maxY: 1,
                showConfidence: true,
                xlabel: 'Lag',
                ylabel: 'PACF'
            });
            
            // Differencing Chart (Slide 19)
            const originalData = [10, 15, 21, 30, 45, 66, 91, 125, 169, 224];
            const firstDiff = [5, 6, 9, 15, 21, 25, 34, 44, 55];
            const secondDiff = [1, 3, 6, 6, 4, 9, 10, 11];
            
            drawMultiChart('differencingChart', [
                { data: originalData, color: '#e74c3c', title: 'Original Data (Non-stationary)' },
                { data: firstDiff, color: '#f39c12', title: '1st Difference (Still trending)' },
                { data: secondDiff, color: '#27ae60', title: '2nd Difference (Stationary)', minY: -2, maxY: 15 }
            ]);
            
            // Before/After Differencing Charts (Slide 20)
            const trendData = Array.from({length: 20}, (_, i) => 100 + i * 2.5 + Math.sin(i * 0.3) * 3 + (Math.random() - 0.5) * 2);
            const diffData = [];
            for (let i = 1; i < trendData.length; i++) {
                diffData.push(trendData[i] - trendData[i-1]);
            }
            
            drawChart('beforeDiffChart', trendData, {
                color: '#e74c3c',
                xlabel: 'Time',
                ylabel: 'Value',
                showPoints: false
            });
            
            drawChart('afterDiffChart', diffData, {
                color: '#27ae60',
                xlabel: 'Time',
                ylabel: 'Difference',
                showPoints: false,
                minY: Math.min(...diffData) - 1,
                maxY: Math.max(...diffData) + 1
            });
            
            // ARIMA Chart (Slide 26)
            const stockPrices = Array.from({length: 30}, (_, i) => 100 + i * 0.8 + Math.sin(i * 0.2) * 2 + (Math.random() - 0.5) * 1.5);
            const stockReturns = [];
            for (let i = 1; i < stockPrices.length; i++) {
                stockReturns.push(stockPrices[i] - stockPrices[i-1]);
            }
            
            drawMultiChart('arimaChart', [
                { data: stockPrices, color: '#e74c3c', title: 'Original Stock Prices (Non-stationary)' },
                { data: stockReturns, color: '#27ae60', title: 'Price Changes - First Difference (Stationary)', minY: -3, maxY: 3 }
            ]);
            
            // SARIMA Chart (Slide 32)
            const months = Array.from({length: 60}, (_, i) => {
                const trend = i * 1.2;
                const seasonal = 15 * Math.sin(2 * Math.PI * (i % 12) / 12) + 10;
                const noise = (Math.random() - 0.5) * 5;
                return 120 + trend + seasonal + noise;
            });
            
            drawChart('sarimaChart', months, {
                color: '#2980b9',
                xlabel: 'Month',
                ylabel: 'Passengers (000s)',
                showPoints: false
            });
            
            // ADF Test Chart (Slide 36)
            const adfDistribution = [];
            for (let i = 0; i < 100; i++) {
                const x = -6 + i * 0.1;
                const y = Math.exp(-0.5 * Math.pow((x + 2.86) / 1.2, 2)) / (1.2 * Math.sqrt(2 * Math.PI));
                adfDistribution.push(y);
            }
            
            const canvas = document.getElementById('adfChart');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                const width = canvas.width;
                const height = canvas.height;
                
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(0, 0, width, height);
                
                const padding = 50;
                const plotWidth = width - 2 * padding;
                const plotHeight = height - 2 * padding;
                
                // Draw axes
                ctx.strokeStyle = '#2c3e50';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(padding, height - padding);
                ctx.lineTo(width - padding, height - padding);
                ctx.stroke();
                
                // Draw distribution
                ctx.fillStyle = 'rgba(52, 152, 219, 0.3)';
                ctx.beginPath();
                ctx.moveTo(padding, height - padding);
                
                adfDistribution.forEach((value, i) => {
                    const x = padding + (i * plotWidth / adfDistribution.length);
                    const y = height - padding - (value * plotHeight * 5);
                    ctx.lineTo(x, y);
                });
                
                ctx.lineTo(width - padding, height - padding);
                ctx.closePath();
                ctx.fill();
                
                // Critical value line
                ctx.strokeStyle = '#e74c3c';
                ctx.lineWidth = 3;
                ctx.beginPath();
                const criticalX = padding + plotWidth * 0.25;
                ctx.moveTo(criticalX, padding);
                ctx.lineTo(criticalX, height - padding);
                ctx.stroke();
                
                // Labels
                ctx.fillStyle = '#2c3e50';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('ADF Statistic', width / 2, height - 10);
                ctx.fillText('Critical Value', criticalX, padding - 10);
                
                ctx.fillStyle = '#e74c3c';
                ctx.fillText('Reject H₀', criticalX - 60, padding + 20);
                ctx.fillStyle = '#27ae60';
                ctx.fillText('Fail to Reject H₀', criticalX + 60, padding + 20);
            }
        }
        
        // Initialize charts after a short delay to ensure DOM is ready
        setTimeout(initializeCharts, 100);
    </script>
</body>
</html>