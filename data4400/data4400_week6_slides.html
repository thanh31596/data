<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DATA4400 Week 6 - Prophet for Business Forecasting</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Helvetica, Arial, sans-serif;
            background-color: #ffffff;
            color: #333333;
            line-height: 1.6;
        }

        .presentation-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .slide {
            display: none;
            min-height: 85vh;
            padding: 40px 60px;
            background: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .slide.active {
            display: block;
        }

        .slide-header {
            color: #c41e3a;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid #c41e3a;
        }

        .slide-subheader {
            color: #c41e3a;
            font-size: 1.4rem;
            font-weight: 600;
            margin: 25px 0 15px 0;
        }

        .slide-content {
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .slide-content p {
            margin-bottom: 15px;
        }

        .slide-content ul {
            margin-left: 25px;
            margin-bottom: 20px;
        }

        .slide-content li {
            margin-bottom: 10px;
        }

        .title-slide {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            min-height: 85vh;
        }

        .title-slide .course-code {
            color: #1a365d;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .title-slide .course-name {
            color: #4a5568;
            font-size: 1.5rem;
            margin-bottom: 40px;
        }

        .title-slide .lesson-title {
            color: #c41e3a;
            font-size: 2.2rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .title-slide .lesson-number {
            color: #1a365d;
            font-size: 1.3rem;
            background: #e8f4fd;
            padding: 10px 30px;
            border-radius: 4px;
        }

        .formula-box {
            background: #f8f9fa;
            border-left: 4px solid #c41e3a;
            padding: 25px 30px;
            margin: 25px 0;
            font-family: 'Times New Roman', serif;
            font-size: 1.3rem;
            text-align: center;
        }

        .key-concept {
            background: linear-gradient(135deg, #fff5f5 0%, #ffffff 100%);
            border: 1px solid #feb2b2;
            border-radius: 6px;
            padding: 20px 25px;
            margin: 20px 0;
        }

        .key-concept-title {
            color: #c41e3a;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .activity-box {
            background: #ebf8ff;
            border: 1px solid #90cdf4;
            border-radius: 6px;
            padding: 25px;
            margin: 20px 0;
        }

        .activity-title {
            color: #2b6cb0;
            font-weight: 600;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .chart-container {
            position: relative;
            height: 350px;
            margin: 30px 0;
            padding: 20px;
            background: #fafafa;
            border-radius: 6px;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin: 20px 0;
        }

        .three-column {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .roadmap-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 30px 0;
        }

        .roadmap-item {
            background: #3182ce;
            color: white;
            padding: 20px 15px;
            border-radius: 6px;
            text-align: center;
            font-size: 0.9rem;
        }

        .roadmap-item.current {
            background: #1a365d;
            border: 3px solid #c41e3a;
        }

        .roadmap-item .week {
            font-weight: 700;
            margin-bottom: 8px;
        }

        .outcomes-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
        }

        .outcomes-table th,
        .outcomes-table td {
            padding: 15px 20px;
            text-align: left;
            border: 1px solid #e2e8f0;
        }

        .outcomes-table th {
            background: #c41e3a;
            color: white;
            width: 60px;
        }

        .outcomes-table td {
            background: #f7fafc;
        }

        /* Quiz Styles */
        .quiz-container {
            background: linear-gradient(135deg, #f0fff4 0%, #ffffff 100%);
            border: 2px solid #48bb78;
            border-radius: 8px;
            padding: 30px;
            margin: 25px 0;
        }

        .quiz-title {
            color: #276749;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .quiz-question {
            font-size: 1.1rem;
            margin-bottom: 20px;
            color: #2d3748;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quiz-option {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            background: #ffffff;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quiz-option:hover {
            border-color: #48bb78;
            background: #f0fff4;
        }

        .quiz-option.selected {
            border-color: #3182ce;
            background: #ebf8ff;
        }

        .quiz-option.correct {
            border-color: #48bb78;
            background: #c6f6d5;
        }

        .quiz-option.incorrect {
            border-color: #e53e3e;
            background: #fed7d7;
        }

        .quiz-option input {
            margin-right: 15px;
            transform: scale(1.2);
        }

        .quiz-feedback {
            margin-top: 20px;
            padding: 15px 20px;
            border-radius: 6px;
            display: none;
        }

        .quiz-feedback.correct {
            background: #c6f6d5;
            color: #276749;
            display: block;
        }

        .quiz-feedback.incorrect {
            background: #fed7d7;
            color: #c53030;
            display: block;
        }

        .quiz-btn {
            background: #48bb78;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1rem;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 15px;
            transition: background 0.2s ease;
        }

        .quiz-btn:hover {
            background: #38a169;
        }

        /* Navigation */
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-top: 1px solid #e2e8f0;
            margin-top: 30px;
        }

        .nav-btn {
            background: #1a365d;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .nav-btn:hover {
            background: #2c5282;
        }

        .nav-btn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
        }

        .slide-counter {
            color: #718096;
            font-size: 1rem;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #e2e8f0;
            border-radius: 3px;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: #c41e3a;
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .highlight-box {
            background: #fffbeb;
            border-left: 4px solid #d69e2e;
            padding: 20px;
            margin: 20px 0;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 12px 15px;
            border: 1px solid #e2e8f0;
            text-align: left;
        }

        .comparison-table th {
            background: #1a365d;
            color: white;
        }

        .comparison-table tr:nth-child(even) {
            background: #f7fafc;
        }

        .metric-card {
            background: #ffffff;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 25px;
            margin: 15px 0;
        }

        .metric-card h4 {
            color: #c41e3a;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .method-card {
            background: #ffffff;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .method-card h4 {
            color: #1a365d;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .method-card.highlight {
            border-color: #c41e3a;
            background: #fff5f5;
        }

        .method-card .method-formula {
            font-family: 'Times New Roman', serif;
            font-size: 0.95rem;
            color: #4a5568;
            margin: 10px 0;
            padding: 10px;
            background: #f7fafc;
            border-radius: 4px;
        }

        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .pros {
            color: #276749;
        }

        .cons {
            color: #c53030;
        }

        .component-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .component-box {
            background: #ebf8ff;
            border: 2px solid #3182ce;
            padding: 20px 25px;
            border-radius: 8px;
            text-align: center;
            min-width: 120px;
        }

        .component-box.trend {
            background: #c6f6d5;
            border-color: #48bb78;
        }

        .component-box.seasonal {
            background: #feebc8;
            border-color: #d69e2e;
        }

        .component-box.holiday {
            background: #fed7e2;
            border-color: #d53f8c;
        }

        .component-box.error {
            background: #e2e8f0;
            border-color: #718096;
        }

        .operator {
            font-size: 2rem;
            color: #c41e3a;
            font-weight: 700;
        }

        .step-list {
            counter-reset: step-counter;
            list-style: none;
            margin-left: 0;
        }

        .step-list li {
            counter-increment: step-counter;
            position: relative;
            padding-left: 50px;
            margin-bottom: 20px;
        }

        .step-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #c41e3a;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .reference-list {
            font-size: 0.95rem;
            line-height: 1.8;
        }

        .reference-list li {
            margin-bottom: 15px;
        }

        .verdict-box {
            padding: 15px 20px;
            border-radius: 6px;
            margin: 10px 0;
            font-size: 0.95rem;
        }

        .verdict-box.good {
            background: #c6f6d5;
            border-left: 4px solid #48bb78;
        }

        .verdict-box.neutral {
            background: #feebc8;
            border-left: 4px solid #d69e2e;
        }

        .verdict-box.limited {
            background: #fed7d7;
            border-left: 4px solid #e53e3e;
        }

        @media (max-width: 768px) {
            .slide {
                padding: 25px 20px;
            }

            .slide-header {
                font-size: 1.5rem;
            }

            .two-column, .three-column {
                grid-template-columns: 1fr;
            }

            .roadmap-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .component-diagram {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <!-- Slide 1: Title -->
        <div class="slide active" id="slide1">
            <div class="title-slide">
                <div class="course-code">DATA4400</div>
                <div class="course-name">Data-Driven Forecasting</div>
                <div class="lesson-title">Prophet for Business Forecasting</div>
                <div class="lesson-number">Lesson 6</div>
            </div>
        </div>

        <!-- Slide 2: Roadmap -->
        <div class="slide" id="slide2">
            <h1 class="slide-header">DATA4400 Course Roadmap</h1>
            <div class="slide-content">
                <p>This course spans 12 weeks, covering fundamental to advanced forecasting techniques. Week 6 focuses on Prophet, a powerful tool for business forecasting.</p>
                <div class="roadmap-grid">
                    <div class="roadmap-item">
                        <div class="week">Week 1</div>
                        Forecasting Foundations & Data Preparation
                    </div>
                    <div class="roadmap-item">
                        <div class="week">Week 2</div>
                        Generative AI & Moving Averages
                    </div>
                    <div class="roadmap-item">
                        <div class="week">Week 3</div>
                        Stationarity & Correlation Analysis
                    </div>
                    <div class="roadmap-item">
                        <div class="week">Week 4</div>
                        Introductory Forecasting Methods
                    </div>
                    <div class="roadmap-item">
                        <div class="week">Week 5</div>
                        Assessment 1: Group Presentation
                    </div>
                    <div class="roadmap-item current">
                        <div class="week">Week 6</div>
                        Prophet for Business Forecasting
                    </div>
                    <div class="roadmap-item">
                        <div class="week">Week 7</div>
                        ARIMA & SARIMA Modelling
                    </div>
                    <div class="roadmap-item">
                        <div class="week">Week 8</div>
                        VAR & Multivariate Methods
                    </div>
                    <div class="roadmap-item">
                        <div class="week">Week 9</div>
                        Regression Models & Assessment 2
                    </div>
                    <div class="roadmap-item">
                        <div class="week">Week 10</div>
                        End-to-End Forecasting Solutions
                    </div>
                    <div class="roadmap-item">
                        <div class="week">Week 11</div>
                        Adaptive Forecasting Methods
                    </div>
                    <div class="roadmap-item">
                        <div class="week">Week 12</div>
                        Assessment 3
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 3: Learning Outcomes -->
        <div class="slide" id="slide3">
            <h1 class="slide-header">Lesson Learning Outcomes</h1>
            <div class="slide-content">
                <p>By the end of this lesson, you will be able to:</p>
                <table class="outcomes-table">
                    <tr>
                        <th>1</th>
                        <td>Analyse the Prophet forecasting method and understand its core components</td>
                    </tr>
                    <tr>
                        <th>2</th>
                        <td>Analyse and apply model evaluation metrics (RMSE, MAPE, MSE)</td>
                    </tr>
                    <tr>
                        <th>3</th>
                        <td>Understand model selection criteria using information criteria (AIC, BIC)</td>
                    </tr>
                </table>
                <div class="key-concept">
                    <div class="key-concept-title">Why These Skills Matter</div>
                    <p>Prophet is widely used in industry for business forecasting. Understanding how to implement, evaluate, and select forecasting models is essential for making data-driven business decisions.</p>
                </div>
            </div>
        </div>

        <!-- Slide 4: Recap of Forecasting Methods -->
        <div class="slide" id="slide4">
            <h1 class="slide-header">Recap: Forecasting Methods You Have Learned</h1>
            <div class="slide-content">
                <p>Before introducing Prophet, let us review the forecasting methods covered in previous weeks. Each method has specific strengths and ideal use cases.</p>
                
                <div class="chart-container" style="height: 320px;">
                    <canvas id="methodsComparisonChart"></canvas>
                </div>

                <div class="three-column">
                    <div class="method-card">
                        <h4>Naïve Method</h4>
                        <div class="method-formula">Ŷ<sub>t+1</sub> = Y<sub>t</sub></div>
                        <p style="font-size: 0.9rem; color: #4a5568;">Uses the last observation as the forecast</p>
                    </div>
                    <div class="method-card">
                        <h4>Moving Average</h4>
                        <div class="method-formula">Ŷ<sub>t+1</sub> = (1/k) Σ Y<sub>t-i</sub></div>
                        <p style="font-size: 0.9rem; color: #4a5568;">Averages the last k observations</p>
                    </div>
                    <div class="method-card">
                        <h4>Exponential Smoothing</h4>
                        <div class="method-formula">Ŷ<sub>t+1</sub> = αY<sub>t</sub> + (1-α)Ŷ<sub>t</sub></div>
                        <p style="font-size: 0.9rem; color: #4a5568;">Weights recent observations more heavily</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 5: Methods Comparison with Prophet -->
        <div class="slide" id="slide5">
            <h1 class="slide-header">Where Does Prophet Fit In?</h1>
            <div class="slide-content">
                <p>Prophet addresses limitations of traditional methods while maintaining interpretability. Here is how each method compares:</p>

                <table class="comparison-table">
                    <tr>
                        <th>Method</th>
                        <th>Handles Trend</th>
                        <th>Handles Seasonality</th>
                        <th>Handles Holidays</th>
                        <th>Missing Data</th>
                        <th>Complexity</th>
                    </tr>
                    <tr>
                        <td><strong>Naïve</strong></td>
                        <td style="color: #e53e3e;">No</td>
                        <td style="color: #e53e3e;">No</td>
                        <td style="color: #e53e3e;">No</td>
                        <td style="color: #e53e3e;">Poor</td>
                        <td style="color: #48bb78;">Very Low</td>
                    </tr>
                    <tr>
                        <td><strong>Moving Average</strong></td>
                        <td style="color: #d69e2e;">Lags behind</td>
                        <td style="color: #e53e3e;">No</td>
                        <td style="color: #e53e3e;">No</td>
                        <td style="color: #e53e3e;">Poor</td>
                        <td style="color: #48bb78;">Low</td>
                    </tr>
                    <tr>
                        <td><strong>Exponential Smoothing</strong></td>
                        <td style="color: #d69e2e;">Basic</td>
                        <td style="color: #e53e3e;">No*</td>
                        <td style="color: #e53e3e;">No</td>
                        <td style="color: #d69e2e;">Moderate</td>
                        <td style="color: #48bb78;">Low</td>
                    </tr>
                    <tr>
                        <td><strong>Holt-Winters</strong></td>
                        <td style="color: #48bb78;">Yes</td>
                        <td style="color: #48bb78;">Yes</td>
                        <td style="color: #e53e3e;">No</td>
                        <td style="color: #d69e2e;">Moderate</td>
                        <td style="color: #d69e2e;">Medium</td>
                    </tr>
                    <tr style="background: #fff5f5;">
                        <td><strong>Prophet</strong></td>
                        <td style="color: #48bb78;">Yes (flexible)</td>
                        <td style="color: #48bb78;">Yes (multiple)</td>
                        <td style="color: #48bb78;">Yes</td>
                        <td style="color: #48bb78;">Excellent</td>
                        <td style="color: #d69e2e;">Medium</td>
                    </tr>
                </table>

                <p style="font-size: 0.9rem; color: #718096; margin-top: 10px;">*Simple Exponential Smoothing does not handle seasonality; Holt-Winters (Triple Exponential Smoothing) does.</p>

                <div class="chart-container" style="height: 280px;">
                    <canvas id="capabilityRadarChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Slide 6: When to Use Each Method -->
        <div class="slide" id="slide6">
            <h1 class="slide-header">Choosing the Right Method</h1>
            <div class="slide-content">
                <p>Each forecasting method has scenarios where it excels. Understanding when to use each method is crucial for effective forecasting.</p>

                <div class="two-column">
                    <div>
                        <div class="verdict-box good">
                            <strong>Use Naïve/Moving Average when:</strong><br>
                            • Data has no clear pattern<br>
                            • Quick baseline forecast needed<br>
                            • Very short-term predictions
                        </div>
                        <div class="verdict-box good">
                            <strong>Use Exponential Smoothing when:</strong><br>
                            • Data has trend but no seasonality<br>
                            • Recent data is more important<br>
                            • Simple, interpretable model needed
                        </div>
                    </div>
                    <div>
                        <div class="verdict-box good">
                            <strong>Use Holt-Winters when:</strong><br>
                            • Clear trend AND seasonality exist<br>
                            • Single seasonal pattern (weekly OR yearly)<br>
                            • No irregular holidays to model
                        </div>
                        <div class="verdict-box good" style="background: #c6f6d5; border-color: #276749;">
                            <strong>Use Prophet when:</strong><br>
                            • Multiple seasonalities (weekly AND yearly)<br>
                            • Holidays/events affect the data<br>
                            • Missing data or outliers present<br>
                            • Non-linear growth patterns exist
                        </div>
                    </div>
                </div>

                <div class="key-concept">
                    <div class="key-concept-title">Key Insight</div>
                    <p>Prophet is not always better. For simple data without holidays or multiple seasonalities, simpler methods like Holt-Winters may perform equally well with less computational cost. Always start simple and add complexity only when needed.</p>
                </div>
            </div>
        </div>

        <!-- Slide 7: What is Prophet -->
        <div class="slide" id="slide7">
            <h1 class="slide-header">What is Prophet?</h1>
            <div class="slide-content">
                <p><strong>Prophet</strong> is a forecasting procedure developed by Facebook's (now Meta's) Core Data Science team. It is designed specifically for business time series that exhibit strong seasonal patterns.</p>
                
                <h2 class="slide-subheader">Core Characteristics</h2>
                <p>Prophet uses an <strong>additive model</strong> where non-linear trends are combined with:</p>
                <ul>
                    <li>Yearly seasonality (annual patterns)</li>
                    <li>Weekly seasonality (day-of-week effects)</li>
                    <li>Daily seasonality (time-of-day effects)</li>
                    <li>Holiday effects (special events)</li>
                </ul>

                <h2 class="slide-subheader">When Prophet Works Best</h2>
                <div class="two-column">
                    <div>
                        <ul>
                            <li>Strong seasonal effects</li>
                            <li>Several seasons of historical data</li>
                            <li>Trend shifts over time</li>
                        </ul>
                    </div>
                    <div>
                        <ul>
                            <li>Known irregular events (holidays)</li>
                            <li>Missing data points</li>
                            <li>Large outliers in the data</li>
                        </ul>
                    </div>
                </div>

                <div class="key-concept">
                    <div class="key-concept-title">Open Source Availability</div>
                    <p>Prophet is open source and available for download on CRAN (for R) and PyPI (for Python), as well as through Exploratory.io.</p>
                </div>
            </div>
        </div>

        <!-- Slide 8: Prophet Advantages -->
        <div class="slide" id="slide8">
            <h1 class="slide-header">Prophet Advantages</h1>
            <div class="slide-content">
                <div class="two-column">
                    <div class="metric-card">
                        <h4>Accurate and Fast</h4>
                        <ul>
                            <li>Used across Meta for reliable forecasts</li>
                            <li>Outperforms other approaches in most business cases</li>
                            <li>Uses Stan (probabilistic programming language) for fast computation</li>
                        </ul>
                    </div>
                    <div class="metric-card">
                        <h4>Fully Automated</h4>
                        <ul>
                            <li>Provides reasonable forecasts with no manual effort</li>
                            <li>Robust to outliers and missing data</li>
                            <li>Handles dramatic changes in time series</li>
                        </ul>
                    </div>
                </div>
                <div class="two-column" style="margin-top: 20px;">
                    <div class="metric-card">
                        <h4>Tunable Forecasts</h4>
                        <ul>
                            <li>Many user-adjustable parameters</li>
                            <li>Human-interpretable settings</li>
                            <li>Incorporate domain knowledge easily</li>
                        </ul>
                    </div>
                    <div class="metric-card">
                        <h4>Multiple Platforms</h4>
                        <ul>
                            <li>Available in R and Python</li>
                            <li>Same underlying Stan code</li>
                            <li>Also available in Exploratory.io (menu-driven)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 9: Quiz 1 -->
        <div class="slide" id="slide9">
            <h1 class="slide-header">Knowledge Check</h1>
            <div class="slide-content">
                <div class="quiz-container">
                    <div class="quiz-title">Quiz 1: Comparing Forecasting Methods</div>
                    <div class="quiz-question">
                        A retail company has 3 years of daily sales data with strong Christmas and Easter effects, weekly patterns, and some missing values due to system outages. Which method would be MOST appropriate?
                    </div>
                    <div class="quiz-options" id="quiz1Options">
                        <label class="quiz-option">
                            <input type="radio" name="quiz1" value="a">
                            Moving Average - because it smooths out fluctuations
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz1" value="b">
                            Holt-Winters - because it handles trend and seasonality
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz1" value="c">
                            Prophet - because it handles holidays, multiple seasonalities, and missing data
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz1" value="d">
                            Naïve Method - because it is the simplest approach
                        </label>
                    </div>
                    <button class="quiz-btn" onclick="checkQuiz1()">Check Answer</button>
                    <div class="quiz-feedback" id="quiz1Feedback"></div>
                </div>
            </div>
        </div>

        <!-- Slide 10: Forecasting Model Equation -->
        <div class="slide" id="slide10">
            <h1 class="slide-header">The Prophet Forecasting Model</h1>
            <div class="slide-content">
                <p>Prophet uses a decomposable time series model with three main components. The model is expressed as:</p>
                
                <div class="formula-box">
                    <strong>y(t) = g(t) + s(t) + h(t) + ε<sub>t</sub></strong>
                </div>

                <h2 class="slide-subheader">Understanding Each Component</h2>
                
                <div class="component-diagram">
                    <div class="component-box trend">
                        <strong>g(t)</strong><br>
                        Trend
                    </div>
                    <div class="operator">+</div>
                    <div class="component-box seasonal">
                        <strong>s(t)</strong><br>
                        Seasonality
                    </div>
                    <div class="operator">+</div>
                    <div class="component-box holiday">
                        <strong>h(t)</strong><br>
                        Holidays
                    </div>
                    <div class="operator">+</div>
                    <div class="component-box error">
                        <strong>ε<sub>t</sub></strong><br>
                        Error
                    </div>
                </div>

                <table class="comparison-table">
                    <tr>
                        <th>Component</th>
                        <th>Description</th>
                        <th>Example</th>
                    </tr>
                    <tr>
                        <td><strong>g(t)</strong> - Trend</td>
                        <td>Piecewise linear or logistic growth curve for modelling non-periodic changes</td>
                        <td>Long-term growth in user adoption</td>
                    </tr>
                    <tr>
                        <td><strong>s(t)</strong> - Seasonality</td>
                        <td>Periodic changes (weekly, yearly patterns)</td>
                        <td>Higher sales during December</td>
                    </tr>
                    <tr>
                        <td><strong>h(t)</strong> - Holidays</td>
                        <td>Effects of holidays with irregular schedules (user-provided)</td>
                        <td>Easter, Black Friday sales spikes</td>
                    </tr>
                    <tr>
                        <td><strong>ε<sub>t</sub></strong> - Error</td>
                        <td>Accounts for unusual changes not captured by the model</td>
                        <td>Random fluctuations, unexpected events</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Slide 11: Prophet Visual Demonstration -->
        <div class="slide" id="slide11">
            <h1 class="slide-header">Visualising Prophet Components</h1>
            <div class="slide-content">
                <p>The following chart demonstrates how Prophet decomposes a time series into its components. The final forecast is the sum of trend, seasonality, and holiday effects.</p>
                
                <div class="chart-container">
                    <canvas id="prophetComponentsChart"></canvas>
                </div>

                <div class="key-concept">
                    <div class="key-concept-title">Key Insight</div>
                    <p>By separating the time series into interpretable components, Prophet makes it easier to understand what is driving changes in your data. This is particularly valuable for business stakeholders who need to explain forecasts.</p>
                </div>
            </div>
        </div>

        <!-- Slide 12: Where Prophet Provides Advantage -->
        <div class="slide" id="slide12">
            <h1 class="slide-header">Ideal Use Cases for Prophet</h1>
            <div class="slide-content">
                <p>Not all forecasting problems benefit equally from Prophet. The tool is specifically optimised for business forecasting scenarios with the following characteristics:</p>

                <h2 class="slide-subheader">Ideal Use Cases</h2>
                <ul class="step-list">
                    <li><strong>Historical data available:</strong> At least one year of hourly, daily, or weekly observations</li>
                    <li><strong>Human-scale seasonalities:</strong> Strong patterns tied to day of week and time of year</li>
                    <li><strong>Known holidays:</strong> Holidays that occur at irregular intervals but are predictable</li>
                    <li><strong>Imperfect data:</strong> Reasonable amounts of missing observations or outliers</li>
                    <li><strong>Trend changes:</strong> Historical shifts due to product launches or market changes</li>
                    <li><strong>Non-linear growth:</strong> Trends that follow growth curves rather than straight lines</li>
                </ul>

                <div class="highlight-box">
                    <strong>Business Application:</strong> Prophet excels in retail sales forecasting, website traffic prediction, capacity planning, and demand forecasting where seasonal patterns and holidays significantly impact the data.
                </div>
            </div>
        </div>

        <!-- Slide 13: Why Prophet Was Developed -->
        <div class="slide" id="slide13">
            <h1 class="slide-header">Design Philosophy Behind Prophet</h1>
            <div class="slide-content">
                <p>Prophet was developed to be accessible to analysts who may not have deep statistical expertise. The key design principles include:</p>

                <h2 class="slide-subheader">User-Friendly Customisation</h2>
                <div class="two-column">
                    <div>
                        <h4 style="color: #c41e3a; margin-bottom: 10px;">Smoothing Parameters</h4>
                        <ul>
                            <li>Adjust how closely to fit historical seasonal cycles</li>
                            <li>Control how aggressively to follow historical trend changes</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color: #c41e3a; margin-bottom: 10px;">Growth Curve Settings</h4>
                        <ul>
                            <li>Manually specify capacity limits</li>
                            <li>Inject domain knowledge about growth constraints</li>
                        </ul>
                    </div>
                </div>

                <h2 class="slide-subheader">Holiday Specification</h2>
                <p>Users can specify irregular holidays like Easter, Ramadan, or major sporting events that don't fall on fixed dates but significantly impact the time series.</p>

                <div class="key-concept">
                    <div class="key-concept-title">The Prophet Philosophy</div>
                    <p>By using a flexible regression approach rather than traditional time series models, Prophet provides greater modelling flexibility, easier model fitting, and more graceful handling of missing data and outliers.</p>
                </div>
            </div>
        </div>

        <!-- Slide 14: Case Study Introduction -->
        <div class="slide" id="slide14">
            <h1 class="slide-header">Case Study: Chicago Bike Share</h1>
            <div class="slide-content">
                <p>Let us examine a real-world application of Prophet using bike-sharing data from Chicago (Divvy). This case study demonstrates how Prophet handles seasonal patterns and external factors.</p>

                <h2 class="slide-subheader">The Data</h2>
                <p>The dataset contains daily bike ride counts along with weather information (temperature and rainfall). The time series exhibits:</p>
                <ul>
                    <li>Strong yearly seasonality (more rides in summer)</li>
                    <li>Weekly patterns (weekday commuter patterns)</li>
                    <li>Weather-dependent fluctuations</li>
                </ul>

                <div class="chart-container">
                    <canvas id="bikeRidesChart"></canvas>
                </div>

                <p style="font-size: 0.9rem; color: #718096; margin-top: 10px;">Source: Greg Rafferty, "Forecasting in Python with Facebook Prophet"</p>
            </div>
        </div>

        <!-- Slide 15: Case Study - Temperature Correlation -->
        <div class="slide" id="slide15">
            <h1 class="slide-header">Case Study: Weather Impact</h1>
            <div class="slide-content">
                <p>The Chicago bike share data reveals a strong correlation between temperature and ridership. Prophet can incorporate such external regressors to improve forecast accuracy.</p>

                <div class="chart-container">
                    <canvas id="temperatureChart"></canvas>
                </div>

                <div class="key-concept">
                    <div class="key-concept-title">External Regressors</div>
                    <p>Prophet allows you to add additional variables (like temperature or marketing spend) that influence your target variable. This makes forecasts more accurate when external factors have predictable effects.</p>
                </div>
            </div>
        </div>

        <!-- Slide 16: Case Study - Forecast Output -->
        <div class="slide" id="slide16">
            <h1 class="slide-header">Case Study: Prophet Forecast Output</h1>
            <div class="slide-content">
                <p>When Prophet generates a forecast, it produces several key outputs that help you understand and communicate the results:</p>

                <div class="two-column">
                    <div>
                        <h2 class="slide-subheader">Visual Elements</h2>
                        <ul>
                            <li><strong>Black dots:</strong> Original observed data</li>
                            <li><strong>Blue line:</strong> Fitted model and forecast</li>
                            <li><strong>Light blue shading:</strong> Uncertainty interval (confidence band)</li>
                            <li><strong>Red dashed lines:</strong> Detected trend changepoints</li>
                            <li><strong>Red solid line:</strong> Underlying trend (seasonality removed)</li>
                        </ul>
                    </div>
                    <div>
                        <h2 class="slide-subheader">Interpretation</h2>
                        <ul>
                            <li>Wider confidence intervals indicate greater uncertainty</li>
                            <li>Changepoints show where trends shifted direction</li>
                            <li>The trend line reveals long-term growth or decline</li>
                        </ul>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="forecastChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Slide 17: Case Study - Components Plot -->
        <div class="slide" id="slide17">
            <h1 class="slide-header">Case Study: Component Decomposition</h1>
            <div class="slide-content">
                <p>Prophet automatically generates a components plot that breaks down the forecast into its constituent parts. The sum of these components equals the final forecast.</p>

                <div class="chart-container" style="height: 250px;">
                    <canvas id="trendComponentChart"></canvas>
                </div>

                <div class="chart-container" style="height: 200px;">
                    <canvas id="weeklySeasonalityChart"></canvas>
                </div>

                <div class="key-concept">
                    <div class="key-concept-title">Insights from Weekly Seasonality</div>
                    <p>The weekly pattern shows ridership is relatively constant Monday through Friday, with a steep decline on weekends. This supports the hypothesis that most riders are weekday commuters rather than recreational users.</p>
                </div>
            </div>
        </div>

        <!-- Slide 18: Quiz 2 -->
        <div class="slide" id="slide18">
            <h1 class="slide-header">Knowledge Check</h1>
            <div class="slide-content">
                <div class="quiz-container">
                    <div class="quiz-title">Quiz 2: Prophet Model Components</div>
                    <div class="quiz-question">
                        In the Prophet equation y(t) = g(t) + s(t) + h(t) + ε<sub>t</sub>, what does s(t) represent?
                    </div>
                    <div class="quiz-options" id="quiz2Options">
                        <label class="quiz-option">
                            <input type="radio" name="quiz2" value="a">
                            The error term for unexplained variation
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz2" value="b">
                            The long-term trend component
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz2" value="c">
                            The periodic seasonality component (weekly, yearly patterns)
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz2" value="d">
                            The holiday effects component
                        </label>
                    </div>
                    <button class="quiz-btn" onclick="checkQuiz2()">Check Answer</button>
                    <div class="quiz-feedback" id="quiz2Feedback"></div>
                </div>
            </div>
        </div>

        <!-- Slide 19: Activity 2 -->
        <div class="slide" id="slide19">
            <h1 class="slide-header">Activity: Sales Forecasting with Exploratory</h1>
            <div class="slide-content">
                <div class="activity-box">
                    <div class="activity-title">Step-by-Step Instructions</div>
                    <ol class="step-list">
                        <li>Open the Exploratory.io application</li>
                        <li>Create a new project</li>
                        <li>Load the <strong>Sales_Data</strong> dataset from the Exploratory Data Catalog</li>
                        <li>Explore the data summary page to understand your variables</li>
                        <li>Verify that "Order Date" is recognised as a date type</li>
                        <li>If not recognised as a date, go to the Table tab and change the column type to Date</li>
                    </ol>
                </div>

                <div class="highlight-box">
                    <strong>Important:</strong> Prophet requires the date column to be properly formatted. Incorrect date types are a common source of errors when building forecasting models.
                </div>
            </div>
        </div>

        <!-- Slide 20: Activity 2 Continued -->
        <div class="slide" id="slide20">
            <h1 class="slide-header">Activity: Building the Prophet Model</h1>
            <div class="slide-content">
                <div class="activity-box">
                    <div class="activity-title">Continuing the Analysis</div>
                    <ol class="step-list">
                        <li>Navigate to the Charts tab and create a line chart of sales over time</li>
                        <li>Go to the Analytics tab and select Prophet forecasting</li>
                        <li>Build your Prophet model with default settings initially</li>
                        <li>Experiment with external factors: Are there regressors like discounts or promotions you can add?</li>
                        <li>Identify the maximum historical monthly sales value</li>
                        <li>Compute a threshold of 1.2 × peak sales for capacity planning</li>
                    </ol>
                </div>

                <div class="key-concept">
                    <div class="key-concept-title">Why Calculate a Threshold?</div>
                    <p>Setting a capacity threshold (e.g., 120% of historical peak) helps businesses prepare for high-demand periods and avoid stockouts or service failures.</p>
                </div>
            </div>
        </div>

        <!-- Slide 21: Extrapolation Concept -->
        <div class="slide" id="slide21">
            <h1 class="slide-header">Understanding Extrapolation</h1>
            <div class="slide-content">
                <p><strong>Extrapolation</strong> is the process of extending patterns observed in historical data into the future. It is the fundamental mechanism behind most forecasting methods, including Prophet.</p>

                <div class="chart-container">
                    <canvas id="extrapolationChart"></canvas>
                </div>

                <h2 class="slide-subheader">How Extrapolation Works</h2>
                <p>The forecasting model identifies patterns (trends, seasonality, cycles) in your historical data and projects these patterns forward. The assumption is that future behaviour will resemble past behaviour.</p>
            </div>
        </div>

        <!-- Slide 22: Extrapolation Limitations -->
        <div class="slide" id="slide22">
            <h1 class="slide-header">Extrapolation: Limitations and Cautions</h1>
            <div class="slide-content">
                <h2 class="slide-subheader">When Extrapolation Works Best</h2>
                <ul>
                    <li>The underlying trend is stable and consistent</li>
                    <li>No major changes are expected in the system</li>
                    <li>Forecasting over short time horizons</li>
                </ul>

                <div class="highlight-box" style="background: #fff5f5; border-color: #c41e3a;">
                    <strong>Critical Warning:</strong> Past patterns do not always continue. Markets crash, trends reverse, and unexpected events occur. The further you extrapolate into the future, the less reliable your forecast becomes.
                </div>

                <h2 class="slide-subheader">Real-World Examples of Extrapolation Failure</h2>
                <ul>
                    <li><strong>COVID-19 pandemic:</strong> No historical pattern could predict the sudden drop in travel and retail</li>
                    <li><strong>Technological disruption:</strong> Kodak's film sales forecasts couldn't anticipate digital photography</li>
                    <li><strong>Regulatory changes:</strong> New laws can instantly change market dynamics</li>
                </ul>
            </div>
        </div>

        <!-- Slide 23: Quiz 3 -->
        <div class="slide" id="slide23">
            <h1 class="slide-header">Knowledge Check</h1>
            <div class="slide-content">
                <div class="quiz-container">
                    <div class="quiz-title">Quiz 3: Extrapolation</div>
                    <div class="quiz-question">
                        Which statement about extrapolation in forecasting is TRUE?
                    </div>
                    <div class="quiz-options" id="quiz3Options">
                        <label class="quiz-option">
                            <input type="radio" name="quiz3" value="a">
                            Extrapolation becomes more accurate as you forecast further into the future
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz3" value="b">
                            Extrapolation assumes that future patterns will resemble historical patterns
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz3" value="c">
                            Extrapolation is immune to unexpected events or structural changes
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz3" value="d">
                            Extrapolation works best when major changes are expected in the system
                        </label>
                    </div>
                    <button class="quiz-btn" onclick="checkQuiz3()">Check Answer</button>
                    <div class="quiz-feedback" id="quiz3Feedback"></div>
                </div>
            </div>
        </div>

        <!-- Slide 24: Python Activity -->
        <div class="slide" id="slide24">
            <h1 class="slide-header">Python Activity: Prophet Forecasting</h1>
            <div class="slide-content">
                <div class="activity-box">
                    <div class="activity-title">Python Notebook Activities</div>
                    <p>Complete the following Python notebooks to practice Prophet implementation:</p>
                    <div class="two-column" style="margin-top: 20px;">
                        <div class="metric-card">
                            <h4>DATA4400_W06_1_ProphetExtrapolate</h4>
                            <ul style="font-size: 0.95rem;">
                                <li>Loading time series data</li>
                                <li>Fitting a Prophet model</li>
                                <li>Generating future predictions</li>
                                <li>Visualising forecasts with confidence intervals</li>
                            </ul>
                        </div>
                        <div class="metric-card">
                            <h4>DATA4400_W06_2_ProphetErrors</h4>
                            <ul style="font-size: 0.95rem;">
                                <li>Calculating RMSE, MAPE, MSE</li>
                                <li>Cross-validation for error estimation</li>
                                <li>Comparing model configurations</li>
                                <li>Visualising forecast errors</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="key-concept">
                    <div class="key-concept-title">Learning Objective</div>
                    <p>These activities demonstrate how Prophet handles extrapolation, computes error metrics, and helps you understand how uncertainty grows as you forecast further into the future.</p>
                </div>
            </div>
        </div>

        <!-- Slide 25: Model Evaluation Introduction -->
        <div class="slide" id="slide25">
            <h1 class="slide-header">Model Evaluation Metrics</h1>
            <div class="slide-content">
                <p>To evaluate the quality of forecasting models, we use standardised accuracy measures that quantify how close our predictions are to the actual observed values.</p>

                <h2 class="slide-subheader">Why Evaluate Models?</h2>
                <ul>
                    <li>Compare different forecasting approaches objectively</li>
                    <li>Assess whether a model is accurate enough for business decisions</li>
                    <li>Identify areas where the model performs poorly</li>
                    <li>Communicate forecast reliability to stakeholders</li>
                </ul>

                <div class="key-concept">
                    <div class="key-concept-title">The Golden Rule</div>
                    <p style="font-size: 1.2rem; text-align: center;"><strong>Smaller error values indicate better predictions.</strong></p>
                </div>

                <p>We will examine three primary metrics: RMSE, MAPE, and MSE. Each has different strengths and is suited to different situations.</p>
            </div>
        </div>

        <!-- Slide 26: RMSE -->
        <div class="slide" id="slide26">
            <h1 class="slide-header">Root Mean Square Error (RMSE)</h1>
            <div class="slide-content">
                <p>RMSE (also called Root Mean Square Deviation or RMSD) measures the average magnitude of forecast errors, giving higher weight to larger errors.</p>

                <div class="formula-box">
                    <strong>RMSE = √(1/n × Σ(Y<sub>i</sub> - Ŷ<sub>i</sub>)²)</strong>
                </div>

                <div class="two-column">
                    <div>
                        <h2 class="slide-subheader">Formula Components</h2>
                        <ul>
                            <li><strong>Y<sub>i</sub></strong> = Actual observed value</li>
                            <li><strong>Ŷ<sub>i</sub></strong> = Predicted value</li>
                            <li><strong>n</strong> = Number of observations</li>
                        </ul>
                    </div>
                    <div>
                        <h2 class="slide-subheader">Key Properties</h2>
                        <ul>
                            <li>Same units as the original data</li>
                            <li>Sensitive to outliers (large errors)</li>
                            <li>Penalises large errors more heavily</li>
                        </ul>
                    </div>
                </div>

                <div class="chart-container" style="height: 250px;">
                    <canvas id="rmseChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Slide 27: MAPE -->
        <div class="slide" id="slide27">
            <h1 class="slide-header">Mean Absolute Percentage Error (MAPE)</h1>
            <div class="slide-content">
                <p>MAPE expresses forecast accuracy as a percentage, making it easy to interpret and compare across different scales.</p>

                <div class="formula-box">
                    <strong>MAPE = (1/n × Σ|Y<sub>i</sub> - Ŷ<sub>i</sub>| / Y<sub>i</sub>) × 100%</strong>
                </div>

                <div class="two-column">
                    <div>
                        <h2 class="slide-subheader">Advantages</h2>
                        <ul>
                            <li>Scale-independent (percentage)</li>
                            <li>Easy to communicate to stakeholders</li>
                            <li>Positive and negative errors don't cancel</li>
                        </ul>
                    </div>
                    <div>
                        <h2 class="slide-subheader">Interpretation Guide</h2>
                        <table class="comparison-table">
                            <tr>
                                <th>MAPE</th>
                                <th>Accuracy</th>
                            </tr>
                            <tr>
                                <td>&lt; 10%</td>
                                <td>Highly accurate</td>
                            </tr>
                            <tr>
                                <td>10-20%</td>
                                <td>Good</td>
                            </tr>
                            <tr>
                                <td>20-50%</td>
                                <td>Reasonable</td>
                            </tr>
                            <tr>
                                <td>&gt; 50%</td>
                                <td>Poor</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="highlight-box">
                    <strong>Caution:</strong> MAPE cannot be used when actual values are zero or near zero, as this causes division by zero or extremely large percentages.
                </div>
            </div>
        </div>

        <!-- Slide 28: MSE -->
        <div class="slide" id="slide28">
            <h1 class="slide-header">Mean Square Error (MSE)</h1>
            <div class="slide-content">
                <p>MSE (also called Mean Square Deviation or MSD) is the average of squared differences between predicted and actual values. It forms the basis for many statistical calculations.</p>

                <div class="formula-box">
                    <strong>MSE = 1/n × Σ(Y<sub>i</sub> - Ŷ<sub>i</sub>)²</strong>
                </div>

                <h2 class="slide-subheader">Relationship Between Metrics</h2>
                <p>Note that RMSE is simply the square root of MSE: <strong>RMSE = √MSE</strong></p>

                <div class="two-column">
                    <div>
                        <h2 class="slide-subheader">When to Use MSE</h2>
                        <ul>
                            <li>Comparing models mathematically</li>
                            <li>Optimisation algorithms</li>
                            <li>Statistical calculations</li>
                        </ul>
                    </div>
                    <div>
                        <h2 class="slide-subheader">When to Use RMSE</h2>
                        <ul>
                            <li>Reporting to stakeholders</li>
                            <li>Interpreting error magnitude</li>
                            <li>Comparing to actual data values</li>
                        </ul>
                    </div>
                </div>

                <div class="key-concept">
                    <div class="key-concept-title">Practical Tip</div>
                    <p>RMSE is generally preferred for reporting because it is in the same units as your data. If your sales are in dollars, RMSE will be in dollars, making it easier to understand the practical impact of forecast errors.</p>
                </div>
            </div>
        </div>

        <!-- Slide 29: Quiz 4 -->
        <div class="slide" id="slide29">
            <h1 class="slide-header">Knowledge Check</h1>
            <div class="slide-content">
                <div class="quiz-container">
                    <div class="quiz-title">Quiz 4: Error Metrics</div>
                    <div class="quiz-question">
                        A company's sales forecast has an RMSE of 500 units and a MAPE of 8%. Which statement is correct?
                    </div>
                    <div class="quiz-options" id="quiz4Options">
                        <label class="quiz-option">
                            <input type="radio" name="quiz4" value="a">
                            The model is highly accurate, with errors averaging about 8% of actual sales
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz4" value="b">
                            The model is poor because RMSE of 500 is too high
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz4" value="c">
                            MAPE is more important than RMSE for all forecasting applications
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz4" value="d">
                            The forecast errors average exactly 500 units every time
                        </label>
                    </div>
                    <button class="quiz-btn" onclick="checkQuiz4()">Check Answer</button>
                    <div class="quiz-feedback" id="quiz4Feedback"></div>
                </div>
            </div>
        </div>

        <!-- Slide 30: Model Selection -->
        <div class="slide" id="slide30">
            <h1 class="slide-header">Model Selection Criteria</h1>
            <div class="slide-content">
                <p>When comparing different types of forecasting models, we use <strong>information criteria</strong> to measure model quality while penalising complexity.</p>

                <h2 class="slide-subheader">Akaike Information Criterion (AIC)</h2>
                <p>AIC balances goodness of fit against model complexity. Lower AIC values indicate a better model.</p>
                <ul>
                    <li>Penalises models with more parameters</li>
                    <li>Prevents overfitting to historical data</li>
                    <li>For small samples, use the corrected version: <strong>AICc</strong></li>
                </ul>

                <h2 class="slide-subheader">Bayesian Information Criterion (BIC)</h2>
                <p>BIC applies a stronger penalty for model complexity than AIC, especially with larger datasets.</p>
                <ul>
                    <li>More conservative model selection</li>
                    <li>Tends to select simpler models than AIC</li>
                    <li>Also called Schwarz Information Criterion (SIC)</li>
                </ul>

                <div class="key-concept">
                    <div class="key-concept-title">Selection Rule</div>
                    <p style="text-align: center; font-size: 1.2rem;"><strong>Choose the model with the LOWEST AIC or BIC value.</strong></p>
                </div>
            </div>
        </div>

        <!-- Slide 31: Quiz 5 -->
        <div class="slide" id="slide31">
            <h1 class="slide-header">Knowledge Check</h1>
            <div class="slide-content">
                <div class="quiz-container">
                    <div class="quiz-title">Quiz 5: Model Selection</div>
                    <div class="quiz-question">
                        You are comparing three Prophet models with different configurations. Their AIC values are: Model A = 1250, Model B = 1180, Model C = 1320. Which model should you select?
                    </div>
                    <div class="quiz-options" id="quiz5Options">
                        <label class="quiz-option">
                            <input type="radio" name="quiz5" value="a">
                            Model A (AIC = 1250)
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz5" value="b">
                            Model B (AIC = 1180)
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz5" value="c">
                            Model C (AIC = 1320)
                        </label>
                        <label class="quiz-option">
                            <input type="radio" name="quiz5" value="d">
                            Cannot determine without knowing RMSE values
                        </label>
                    </div>
                    <button class="quiz-btn" onclick="checkQuiz5()">Check Answer</button>
                    <div class="quiz-feedback" id="quiz5Feedback"></div>
                </div>
            </div>
        </div>

        <!-- Slide 32: Key Takeaways -->
        <div class="slide" id="slide32">
            <h1 class="slide-header">Key Takeaways</h1>
            <div class="slide-content">
                <div class="three-column">
                    <div class="metric-card">
                        <h4>Prophet Fundamentals</h4>
                        <ul style="font-size: 0.95rem;">
                            <li>Additive model: y = g(t) + s(t) + h(t) + ε</li>
                            <li>Handles multiple seasonalities</li>
                            <li>Robust to missing data and outliers</li>
                            <li>Best for business time series with holidays</li>
                        </ul>
                    </div>
                    <div class="metric-card">
                        <h4>Error Metrics</h4>
                        <ul style="font-size: 0.95rem;">
                            <li>RMSE: Same units as data, sensitive to outliers</li>
                            <li>MAPE: Percentage-based, easy to interpret</li>
                            <li>MSE: Used in calculations, RMSE = √MSE</li>
                            <li>Lower values = better predictions</li>
                        </ul>
                    </div>
                    <div class="metric-card">
                        <h4>Model Selection</h4>
                        <ul style="font-size: 0.95rem;">
                            <li>AIC/BIC balance fit vs complexity</li>
                            <li>Lower AIC/BIC = better model</li>
                            <li>Use AICc for small samples</li>
                            <li>Start simple, add complexity as needed</li>
                        </ul>
                    </div>
                </div>

                <div class="highlight-box" style="margin-top: 30px;">
                    <strong>Remember:</strong> Prophet is not always the best choice. For simple data without holidays or multiple seasonalities, traditional methods like Holt-Winters may be equally effective with lower computational cost. Always evaluate multiple approaches and select based on error metrics.
                </div>
            </div>
        </div>

        <!-- Slide 33: Additive vs Multiplicative -->
        <div class="slide" id="slide33">
            <h1 class="slide-header">Additive vs Multiplicative Seasonality</h1>
            <div class="slide-content">
                <p>Prophet supports both additive and multiplicative seasonality modes. Choosing the correct mode significantly impacts forecast accuracy.</p>

                <div class="chart-container">
                    <canvas id="additiveMultiplicativeChart"></canvas>
                </div>

                <div class="two-column">
                    <div class="metric-card">
                        <h4>Additive Seasonality</h4>
                        <p style="font-size: 0.95rem;"><strong>Pattern:</strong> Seasonal swings remain constant regardless of the level</p>
                        <p style="font-size: 0.95rem;"><strong>Example:</strong> Sales always increase by $10,000 in December</p>
                        <p style="font-size: 0.95rem;"><strong>Use when:</strong> Seasonal variation is roughly constant over time</p>
                    </div>
                    <div class="metric-card">
                        <h4>Multiplicative Seasonality</h4>
                        <p style="font-size: 0.95rem;"><strong>Pattern:</strong> Seasonal swings grow proportionally with the level</p>
                        <p style="font-size: 0.95rem;"><strong>Example:</strong> Sales always increase by 15% in December</p>
                        <p style="font-size: 0.95rem;"><strong>Use when:</strong> Seasonal variation grows with the trend</p>
                    </div>
                </div>

                <div class="key-concept">
                    <div class="key-concept-title">Quick Test</div>
                    <p>Look at your data: If the peaks and troughs get larger as the overall level increases, use multiplicative. If they stay roughly the same size, use additive.</p>
                </div>
            </div>
        </div>

        <!-- Slide 34: References -->
        <div class="slide" id="slide34">
            <h1 class="slide-header">References and Further Reading</h1>
            <div class="slide-content">
                <h2 class="slide-subheader">Primary Sources</h2>
                <ul class="reference-list">
                    <li>Bakker, L.A. (2020). "Business Forecasting with Facebook Prophet." <em>Towards Data Science</em>. Available at: <a href="https://towardsdatascience.com/business-forecasting-with-facebook-prophet-b9aaf7121398" style="color: #3182ce;">https://towardsdatascience.com/business-forecasting-with-facebook-prophet-b9aaf7121398</a></li>
                    <li>Rafferty, G. (2021). <em>Forecasting Time Series Data with Facebook Prophet: Build, improve, and optimize time series forecasting models using the advanced forecasting tool.</em> Packt Publishing Ltd.</li>
                    <li>Taylor, S.J. & Letham, B. (2018). "Forecasting at Scale." <em>The American Statistician</em>, 72(1), 37-45.</li>
                </ul>

                <h2 class="slide-subheader">Official Documentation</h2>
                <ul class="reference-list">
                    <li>Prophet Documentation: <a href="https://facebook.github.io/prophet/" style="color: #3182ce;">https://facebook.github.io/prophet/</a></li>
                    <li>Exploratory.io Documentation: <a href="https://docs.exploratory.io/" style="color: #3182ce;">https://docs.exploratory.io/</a></li>
                </ul>

                <div class="key-concept" style="margin-top: 30px;">
                    <div class="key-concept-title">End of Lesson 6</div>
                    <p>You have completed the materials for Prophet for Business Forecasting. Ensure you complete the Python activities and prepare for the upcoming content on ARIMA and SARIMA modelling in Week 7.</p>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)" disabled>Previous</button>
            <span class="slide-counter" id="slideCounter">Slide 1 of 34</span>
            <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">Next</button>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = 34;

        function showSlide(n) {
            const slides = document.querySelectorAll('.slide');
            
            if (n < 1) currentSlide = 1;
            if (n > totalSlides) currentSlide = totalSlides;
            
            slides.forEach(slide => slide.classList.remove('active'));
            document.getElementById('slide' + currentSlide).classList.add('active');
            
            document.getElementById('slideCounter').textContent = `Slide ${currentSlide} of ${totalSlides}`;
            document.getElementById('prevBtn').disabled = currentSlide === 1;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides;
            
            document.getElementById('progressFill').style.width = ((currentSlide / totalSlides) * 100) + '%';
            
            // Initialize charts when their slides become active
            initializeChartsForSlide(currentSlide);
        }

        function changeSlide(direction) {
            currentSlide += direction;
            showSlide(currentSlide);
            window.scrollTo(0, 0);
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                changeSlide(1);
            } else if (e.key === 'ArrowLeft') {
                changeSlide(-1);
            }
        });

        // Quiz Functions
        function checkQuiz1() {
            const selected = document.querySelector('input[name="quiz1"]:checked');
            const feedback = document.getElementById('quiz1Feedback');
            const options = document.querySelectorAll('#quiz1Options .quiz-option');
            
            if (!selected) {
                feedback.textContent = 'Please select an answer.';
                feedback.className = 'quiz-feedback incorrect';
                return;
            }
            
            options.forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
                if (opt.querySelector('input').value === 'c') {
                    opt.classList.add('correct');
                } else if (opt.querySelector('input').checked) {
                    opt.classList.add('incorrect');
                }
            });
            
            if (selected.value === 'c') {
                feedback.textContent = 'Correct! Prophet is ideal here because it handles holiday effects (Christmas, Easter), multiple seasonalities (weekly patterns), and missing data from system outages. Holt-Winters cannot model irregular holidays like Easter.';
                feedback.className = 'quiz-feedback correct';
            } else {
                feedback.textContent = 'Incorrect. Prophet is the best choice because it can model holiday effects (Christmas, Easter), handle multiple seasonalities, and is robust to missing data. Other methods cannot handle all these requirements.';
                feedback.className = 'quiz-feedback incorrect';
            }
        }

        function checkQuiz2() {
            const selected = document.querySelector('input[name="quiz2"]:checked');
            const feedback = document.getElementById('quiz2Feedback');
            const options = document.querySelectorAll('#quiz2Options .quiz-option');
            
            if (!selected) {
                feedback.textContent = 'Please select an answer.';
                feedback.className = 'quiz-feedback incorrect';
                return;
            }
            
            options.forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
                if (opt.querySelector('input').value === 'c') {
                    opt.classList.add('correct');
                } else if (opt.querySelector('input').checked) {
                    opt.classList.add('incorrect');
                }
            });
            
            if (selected.value === 'c') {
                feedback.textContent = 'Correct! s(t) represents the seasonality component, capturing periodic patterns such as weekly variations (weekday vs weekend) and yearly variations (summer vs winter).';
                feedback.className = 'quiz-feedback correct';
            } else {
                feedback.textContent = 'Incorrect. s(t) represents seasonality. g(t) is trend, h(t) is holidays, and ε is the error term.';
                feedback.className = 'quiz-feedback incorrect';
            }
        }

        function checkQuiz3() {
            const selected = document.querySelector('input[name="quiz3"]:checked');
            const feedback = document.getElementById('quiz3Feedback');
            const options = document.querySelectorAll('#quiz3Options .quiz-option');
            
            if (!selected) {
                feedback.textContent = 'Please select an answer.';
                feedback.className = 'quiz-feedback incorrect';
                return;
            }
            
            options.forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
                if (opt.querySelector('input').value === 'b') {
                    opt.classList.add('correct');
                } else if (opt.querySelector('input').checked) {
                    opt.classList.add('incorrect');
                }
            });
            
            if (selected.value === 'b') {
                feedback.textContent = 'Correct! Extrapolation fundamentally assumes that patterns observed in historical data will continue into the future. This assumption is why forecasts become less reliable over longer horizons.';
                feedback.className = 'quiz-feedback correct';
            } else {
                feedback.textContent = 'Incorrect. Extrapolation assumes future patterns resemble historical patterns. It becomes LESS accurate over time and can fail when unexpected events occur.';
                feedback.className = 'quiz-feedback incorrect';
            }
        }

        function checkQuiz4() {
            const selected = document.querySelector('input[name="quiz4"]:checked');
            const feedback = document.getElementById('quiz4Feedback');
            const options = document.querySelectorAll('#quiz4Options .quiz-option');
            
            if (!selected) {
                feedback.textContent = 'Please select an answer.';
                feedback.className = 'quiz-feedback incorrect';
                return;
            }
            
            options.forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
                if (opt.querySelector('input').value === 'a') {
                    opt.classList.add('correct');
                } else if (opt.querySelector('input').checked) {
                    opt.classList.add('incorrect');
                }
            });
            
            if (selected.value === 'a') {
                feedback.textContent = 'Correct! A MAPE of 8% is considered highly accurate (below 10%). This means on average, the forecast differs from actual values by only 8%. The RMSE of 500 units must be interpreted in context of the data scale.';
                feedback.className = 'quiz-feedback correct';
            } else {
                feedback.textContent = 'Incorrect. MAPE of 8% indicates high accuracy. RMSE depends on data scale (500 units could be excellent or poor depending on typical values). The key insight is that both metrics together tell us this is a good model.';
                feedback.className = 'quiz-feedback incorrect';
            }
        }

        function checkQuiz5() {
            const selected = document.querySelector('input[name="quiz5"]:checked');
            const feedback = document.getElementById('quiz5Feedback');
            const options = document.querySelectorAll('#quiz5Options .quiz-option');
            
            if (!selected) {
                feedback.textContent = 'Please select an answer.';
                feedback.className = 'quiz-feedback incorrect';
                return;
            }
            
            options.forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
                if (opt.querySelector('input').value === 'b') {
                    opt.classList.add('correct');
                } else if (opt.querySelector('input').checked) {
                    opt.classList.add('incorrect');
                }
            });
            
            if (selected.value === 'b') {
                feedback.textContent = 'Correct! We select the model with the LOWEST AIC value. Model B has AIC = 1180, which is the lowest among the three options, indicating the best balance of fit and complexity.';
                feedback.className = 'quiz-feedback correct';
            } else {
                feedback.textContent = 'Incorrect. When using AIC for model selection, we always choose the model with the LOWEST value. Model B (AIC = 1180) has the lowest AIC.';
                feedback.className = 'quiz-feedback incorrect';
            }
        }

        // Chart initialization
        let chartsInitialized = {};

        function initializeChartsForSlide(slideNum) {
            if (slideNum === 4 && !chartsInitialized[4]) {
                createMethodsComparisonChart();
                chartsInitialized[4] = true;
            }
            if (slideNum === 5 && !chartsInitialized[5]) {
                createCapabilityRadarChart();
                chartsInitialized[5] = true;
            }
            if (slideNum === 11 && !chartsInitialized[11]) {
                createProphetComponentsChart();
                chartsInitialized[11] = true;
            }
            if (slideNum === 14 && !chartsInitialized[14]) {
                createBikeRidesChart();
                chartsInitialized[14] = true;
            }
            if (slideNum === 15 && !chartsInitialized[15]) {
                createTemperatureChart();
                chartsInitialized[15] = true;
            }
            if (slideNum === 16 && !chartsInitialized[16]) {
                createForecastChart();
                chartsInitialized[16] = true;
            }
            if (slideNum === 17 && !chartsInitialized[17]) {
                createTrendComponentChart();
                createWeeklySeasonalityChart();
                chartsInitialized[17] = true;
            }
            if (slideNum === 21 && !chartsInitialized[21]) {
                createExtrapolationChart();
                chartsInitialized[21] = true;
            }
            if (slideNum === 26 && !chartsInitialized[26]) {
                createRmseChart();
                chartsInitialized[26] = true;
            }
            if (slideNum === 33 && !chartsInitialized[33]) {
                createAdditiveMultiplicativeChart();
                chartsInitialized[33] = true;
            }
        }

        function createMethodsComparisonChart() {
            const ctx = document.getElementById('methodsComparisonChart').getContext('2d');
            
            // Generate sample data showing different methods
            const labels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            const actualData = [100, 120, 135, 150, 180, 220, 250, 240, 200, 160, 140, 180];
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Actual Data',
                            data: actualData,
                            borderColor: '#1a365d',
                            backgroundColor: '#1a365d',
                            pointRadius: 5,
                            fill: false,
                            borderWidth: 3
                        },
                        {
                            label: 'Naïve (Last Value)',
                            data: [null, 100, 120, 135, 150, 180, 220, 250, 240, 200, 160, 140],
                            borderColor: '#e53e3e',
                            borderDash: [5, 5],
                            fill: false,
                            pointRadius: 3
                        },
                        {
                            label: 'Moving Average (3)',
                            data: [null, null, null, 118, 135, 155, 183, 217, 237, 230, 200, 167],
                            borderColor: '#d69e2e',
                            borderDash: [10, 5],
                            fill: false,
                            pointRadius: 3
                        },
                        {
                            label: 'Exponential Smoothing',
                            data: [100, 106, 117, 131, 151, 179, 210, 228, 217, 193, 171, 174],
                            borderColor: '#48bb78',
                            fill: false,
                            pointRadius: 3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Comparing Forecasting Methods on Sample Data'
                        },
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: 'Sales'
                            }
                        }
                    }
                }
            });
        }

        function createCapabilityRadarChart() {
            const ctx = document.getElementById('capabilityRadarChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Trend Handling', 'Seasonality', 'Holiday Effects', 'Missing Data', 'Ease of Use', 'Interpretability'],
                    datasets: [
                        {
                            label: 'Holt-Winters',
                            data: [4, 4, 1, 2, 3, 4],
                            borderColor: '#3182ce',
                            backgroundColor: 'rgba(49, 130, 206, 0.2)',
                            pointBackgroundColor: '#3182ce'
                        },
                        {
                            label: 'Prophet',
                            data: [5, 5, 5, 5, 4, 5],
                            borderColor: '#c41e3a',
                            backgroundColor: 'rgba(196, 30, 58, 0.2)',
                            pointBackgroundColor: '#c41e3a'
                        },
                        {
                            label: 'Exponential Smoothing',
                            data: [3, 1, 1, 2, 5, 5],
                            borderColor: '#48bb78',
                            backgroundColor: 'rgba(72, 187, 120, 0.2)',
                            pointBackgroundColor: '#48bb78'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Method Capabilities Comparison (1-5 scale)'
                        },
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 5,
                            ticks: {
                                stepSize: 1
                            }
                        }
                    }
                }
            });
        }

        function createProphetComponentsChart() {
            const ctx = document.getElementById('prophetComponentsChart').getContext('2d');
            const labels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Trend g(t)',
                            data: [100, 105, 110, 118, 125, 132, 140, 148, 155, 162, 170, 178],
                            borderColor: '#48bb78',
                            backgroundColor: 'rgba(72, 187, 120, 0.1)',
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Seasonality s(t)',
                            data: [-20, -15, 0, 15, 25, 30, 35, 30, 20, 5, -10, -25],
                            borderColor: '#d69e2e',
                            backgroundColor: 'rgba(214, 158, 46, 0.1)',
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Combined Forecast',
                            data: [80, 90, 110, 133, 150, 162, 175, 178, 175, 167, 160, 153],
                            borderColor: '#c41e3a',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: 'Value'
                            }
                        }
                    }
                }
            });
        }

        function createBikeRidesChart() {
            const ctx = document.getElementById('bikeRidesChart').getContext('2d');
            
            // Generate sample bike rides data
            const data = [];
            for (let year = 0; year < 4; year++) {
                for (let month = 0; month < 12; month++) {
                    const base = 3000 + year * 500;
                    const seasonal = Math.sin((month) * Math.PI / 6) * 4000;
                    const noise = (Math.random() - 0.5) * 1000;
                    data.push({x: year * 12 + month, y: Math.max(0, base + seasonal + 5000 + noise)});
                }
            }
            
            new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Daily Bike Rides',
                        data: data,
                        backgroundColor: 'rgba(49, 130, 206, 0.6)',
                        pointRadius: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Chicago Divvy Bike Rides (2014-2017)'
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Time (months)'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Number of Rides'
                            }
                        }
                    }
                }
            });
        }

        function createTemperatureChart() {
            const ctx = document.getElementById('temperatureChart').getContext('2d');
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [
                        {
                            label: 'Average Temperature (°F)',
                            data: [25, 30, 42, 52, 63, 73, 78, 76, 68, 55, 42, 28],
                            borderColor: '#e53e3e',
                            backgroundColor: 'rgba(229, 62, 62, 0.1)',
                            fill: true,
                            tension: 0.4,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Average Daily Rides',
                            data: [2000, 2500, 4500, 6500, 9000, 11000, 12500, 12000, 10000, 7000, 4000, 2200],
                            borderColor: '#3182ce',
                            backgroundColor: 'rgba(49, 130, 206, 0.1)',
                            fill: true,
                            tension: 0.4,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Temperature vs Bike Ridership Correlation'
                        }
                    },
                    scales: {
                        y: {
                            type: 'linear',
                            position: 'left',
                            title: {
                                display: true,
                                text: 'Temperature (°F)'
                            }
                        },
                        y1: {
                            type: 'linear',
                            position: 'right',
                            title: {
                                display: true,
                                text: 'Daily Rides'
                            },
                            grid: {
                                drawOnChartArea: false
                            }
                        }
                    }
                }
            });
        }

        function createForecastChart() {
            const ctx = document.getElementById('forecastChart').getContext('2d');
            
            const allLabels = [];
            const historicalData = [];
            const forecastData = [];
            const upperBound = [];
            const lowerBound = [];
            
            // Historical data (36 points)
            for (let i = 0; i < 36; i++) {
                allLabels.push(i);
                const base = 5000 + i * 50;
                const seasonal = Math.sin(i * Math.PI / 6) * 2000;
                historicalData.push(base + seasonal + (Math.random() - 0.5) * 800);
            }
            
            // Forecast data (12 points)
            for (let i = 36; i < 48; i++) {
                allLabels.push(i);
                historicalData.push(null);
                const base = 5000 + i * 50;
                const seasonal = Math.sin(i * Math.PI / 6) * 2000;
                const forecast = base + seasonal;
                forecastData.push(forecast);
                upperBound.push(forecast + 500 + (i - 36) * 80);
                lowerBound.push(forecast - 500 - (i - 36) * 80);
            }
            
            // Pad forecast arrays
            const paddedForecast = [...Array(36).fill(null), ...forecastData];
            const paddedUpper = [...Array(36).fill(null), ...upperBound];
            const paddedLower = [...Array(36).fill(null), ...lowerBound];
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: allLabels,
                    datasets: [
                        {
                            label: 'Historical Data',
                            data: historicalData,
                            borderColor: '#1a365d',
                            backgroundColor: '#1a365d',
                            pointRadius: 2,
                            fill: false
                        },
                        {
                            label: 'Forecast',
                            data: paddedForecast,
                            borderColor: '#3182ce',
                            borderWidth: 2,
                            fill: false
                        },
                        {
                            label: 'Upper Bound',
                            data: paddedUpper,
                            borderColor: 'rgba(49, 130, 206, 0.3)',
                            backgroundColor: 'rgba(49, 130, 206, 0.1)',
                            fill: '+1',
                            pointRadius: 0
                        },
                        {
                            label: 'Lower Bound',
                            data: paddedLower,
                            borderColor: 'rgba(49, 130, 206, 0.3)',
                            fill: false,
                            pointRadius: 0
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top'
                        },
                        title: {
                            display: true,
                            text: 'Prophet Forecast with Confidence Interval'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false
                        }
                    }
                }
            });
        }

        function createTrendComponentChart() {
            const ctx = document.getElementById('trendComponentChart').getContext('2d');
            const labels = ['2014', '2015', '2016', '2017', '2018'];
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Trend Component',
                        data: [4500, 5500, 6500, 7200, 7500],
                        borderColor: '#48bb78',
                        backgroundColor: 'rgba(72, 187, 120, 0.1)',
                        fill: true,
                        tension: 0.4,
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Trend Component: Long-term Growth in Ridership'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: 'Average Daily Rides'
                            }
                        }
                    }
                }
            });
        }

        function createWeeklySeasonalityChart() {
            const ctx = document.getElementById('weeklySeasonalityChart').getContext('2d');
            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: days,
                    datasets: [{
                        label: 'Weekly Effect (deviation from average)',
                        data: [-1500, 200, 300, 350, 400, 250, -1200],
                        backgroundColor: [
                            'rgba(229, 62, 62, 0.7)',
                            'rgba(49, 130, 206, 0.7)',
                            'rgba(49, 130, 206, 0.7)',
                            'rgba(49, 130, 206, 0.7)',
                            'rgba(49, 130, 206, 0.7)',
                            'rgba(49, 130, 206, 0.7)',
                            'rgba(229, 62, 62, 0.7)'
                        ],
                        borderColor: [
                            '#e53e3e',
                            '#3182ce',
                            '#3182ce',
                            '#3182ce',
                            '#3182ce',
                            '#3182ce',
                            '#e53e3e'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Weekly Seasonality: Weekday Commuters vs Weekend Drop-off'
                        },
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: 'Effect (rides)'
                            }
                        }
                    }
                }
            });
        }

        function createExtrapolationChart() {
            const ctx = document.getElementById('extrapolationChart').getContext('2d');
            
            const allLabels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov'];
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: allLabels,
                    datasets: [
                        {
                            label: 'Historical Data',
                            data: [10, 18, 22, 30, 34, 42, null, null, null, null, null],
                            borderColor: '#48bb78',
                            backgroundColor: '#48bb78',
                            pointRadius: 6,
                            pointBackgroundColor: '#48bb78',
                            fill: false,
                            tension: 0.3,
                            borderWidth: 3
                        },
                        {
                            label: 'Extrapolated Forecast',
                            data: [null, null, null, null, null, 42, 49, 54, 58, 60, 62],
                            borderColor: '#e53e3e',
                            borderDash: [8, 4],
                            pointRadius: 6,
                            pointBackgroundColor: '#e53e3e',
                            fill: false,
                            tension: 0.3,
                            borderWidth: 3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Extrapolation: Extending Past Patterns into the Future'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Value'
                            }
                        }
                    }
                }
            });
        }

        function createRmseChart() {
            const ctx = document.getElementById('rmseChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Naïve', 'Moving Avg', 'Exp. Smooth', 'Holt-Winters', 'Prophet'],
                    datasets: [{
                        label: 'RMSE (lower is better)',
                        data: [580, 450, 380, 320, 280],
                        backgroundColor: [
                            'rgba(229, 62, 62, 0.7)',
                            'rgba(214, 158, 46, 0.7)',
                            'rgba(49, 130, 206, 0.7)',
                            'rgba(72, 187, 120, 0.7)',
                            'rgba(196, 30, 58, 0.7)'
                        ],
                        borderColor: [
                            '#e53e3e',
                            '#d69e2e',
                            '#3182ce',
                            '#48bb78',
                            '#c41e3a'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Comparing RMSE Across Different Methods'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'RMSE (units)'
                            }
                        }
                    }
                }
            });
        }

        function createAdditiveMultiplicativeChart() {
            const ctx = document.getElementById('additiveMultiplicativeChart').getContext('2d');
            const labels = ['Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5'];
            
            // Additive: constant seasonal swing
            const additiveData = [];
            const multiplicativeData = [];
            
            for (let year = 0; year < 5; year++) {
                const base = 100 + year * 50;
                // Additive: always +/- 20
                additiveData.push(base + 20);  // Peak
                // Multiplicative: +/- 20% of base
                multiplicativeData.push(base * 1.2);  // Peak
            }
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Additive (constant +20)',
                            data: [120, 170, 220, 270, 320],
                            borderColor: '#3182ce',
                            backgroundColor: 'rgba(49, 130, 206, 0.2)',
                            fill: true,
                            tension: 0.1,
                            borderWidth: 3
                        },
                        {
                            label: 'Additive Baseline',
                            data: [100, 150, 200, 250, 300],
                            borderColor: '#3182ce',
                            borderDash: [5, 5],
                            fill: false,
                            pointRadius: 0
                        },
                        {
                            label: 'Multiplicative (+20%)',
                            data: [120, 180, 240, 300, 360],
                            borderColor: '#c41e3a',
                            backgroundColor: 'rgba(196, 30, 58, 0.2)',
                            fill: true,
                            tension: 0.1,
                            borderWidth: 3
                        },
                        {
                            label: 'Multiplicative Baseline',
                            data: [100, 150, 200, 250, 300],
                            borderColor: '#c41e3a',
                            borderDash: [5, 5],
                            fill: false,
                            pointRadius: 0
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Additive vs Multiplicative: How Seasonal Peaks Change'
                        },
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Value'
                            }
                        }
                    }
                }
            });
        }

        // Initialize first slide
        showSlide(1);
    </script>
</body>
</html>