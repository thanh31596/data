<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Probability Practice Exercises</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .exercise-section {
            background: white;
            margin: 20px 0;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .section-title {
            color: #0984e3;
            border-bottom: 3px solid #0984e3;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.6em;
        }

        .exercise {
            background: #f8f9fa;
            border-left: 5px solid #74b9ff;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            position: relative;
        }

        .exercise-number {
            background: #74b9ff;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            position: absolute;
            top: -15px;
            left: 20px;
        }

        .question {
            font-size: 1.1em;
            margin-bottom: 15px;
            padding-left: 20px;
        }

        .visual-helper {
            background: #e8f4fd;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border: 1px dashed #74b9ff;
        }

        .multiple-choice {
            margin: 15px 0;
        }

        .choice {
            display: block;
            margin: 8px 0;
            padding: 10px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .choice:hover {
            border-color: #74b9ff;
            background: #f0f8ff;
        }

        .choice.selected {
            border-color: #0984e3;
            background: #e8f4fd;
        }

        .choice.correct {
            border-color: #00b894;
            background: #d4eed4;
        }

        .choice.incorrect {
            border-color: #e17055;
            background: #ffeaa7;
        }

        .input-answer {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            width: 120px;
            margin: 0 10px;
        }

        .check-btn {
            background: #00b894;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }

        .check-btn:hover {
            background: #00a085;
            transform: scale(1.05);
        }

        .hint-btn {
            background: #fdcb6e;
            color: #333;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
        }

        .hint {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            display: none;
        }

        .feedback {
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: bold;
        }

        .feedback.correct {
            background: #d4eed4;
            color: #00b894;
            border: 1px solid #00b894;
        }

        .feedback.incorrect {
            background: #ffeaa7;
            color: #e17055;
            border: 1px solid #e17055;
        }

        .formula-box {
            background: #2d3436;
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-family: monospace;
            font-size: 16px;
            text-align: center;
            margin: 15px 0;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #ddd;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00b894, #74b9ff);
            width: 0%;
            transition: width 0.5s ease;
        }

        .score-display {
            text-align: center;
            font-size: 1.2em;
            margin: 20px 0;
            padding: 15px;
            background: #74b9ff;
            color: white;
            border-radius: 10px;
        }

        .table-helper {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 14px;
        }

        .table-helper th, .table-helper td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }

        .table-helper th {
            background: #74b9ff;
            color: white;
        }

        .visual-fraction {
            display: flex;
            gap: 5px;
            margin: 10px 0;
            flex-wrap: wrap;
        }

        .fraction-part {
            width: 30px;
            height: 30px;
            border: 2px solid #74b9ff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .fraction-part.filled {
            background: #74b9ff;
            color: white;
        }

        .reset-section-btn {
            background: #636e72;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Stephen Practice Exercises</h1>
            <p>Easy exercises to practice what you've learned</p>
            <div class="score-display" id="overall-score">Score: 0/0 exercises completed</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>

        <!-- Basic Probability -->
        <div class="exercise-section">
            <h2 class="section-title">ðŸŽ¯ Basic Probability Exercises</h2>
            <button class="reset-section-btn" onclick="resetSection('basic')">Reset This Section</button>
            
            <div class="exercise" id="basic-1">
                <div class="exercise-number">1</div>
                <div class="question">
                    You have a bag with 10 marbles: 6 red and 4 blue. What is the probability of picking a red marble?
                </div>
                
                <div class="visual-helper">
                    <p><strong>Visual Help:</strong></p>
                    <div class="visual-fraction">
                        <div class="fraction-part filled">R</div>
                        <div class="fraction-part filled">R</div>
                        <div class="fraction-part filled">R</div>
                        <div class="fraction-part filled">R</div>
                        <div class="fraction-part filled">R</div>
                        <div class="fraction-part filled">R</div>
                        <div class="fraction-part">B</div>
                        <div class="fraction-part">B</div>
                        <div class="fraction-part">B</div>
                        <div class="fraction-part">B</div>
                    </div>
                </div>
                
                <div class="multiple-choice">
                    <label class="choice" onclick="selectChoice(this, 'basic-1', false)">
                        A) 4/10 = 0.4 = 40%
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'basic-1', true)">
                        B) 6/10 = 0.6 = 60%
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'basic-1', false)">
                        C) 6/4 = 1.5 = 150%
                    </label>
                </div>
                
                <button class="hint-btn" onclick="showHint('basic-1-hint')">ðŸ’¡ Need a hint?</button>
                <div class="hint" id="basic-1-hint">
                    <strong>Hint:</strong> Probability = Number of favorable outcomes Ã· Total number of outcomes. How many red marbles are there out of the total?
                </div>
            </div>

            <div class="exercise" id="basic-2">
                <div class="exercise-number">2</div>
                <div class="question">
                    You roll a standard dice (1, 2, 3, 4, 5, 6). What's the probability of rolling an even number?
                </div>
                
                <div class="visual-helper">
                    <p><strong>Even numbers on a dice:</strong> 2, 4, 6</p>
                    <p><strong>Total numbers on a dice:</strong> 1, 2, 3, 4, 5, 6</p>
                </div>
                
                <p>Answer: <input type="text" class="input-answer" id="basic-2-answer" placeholder="e.g., 3/6"> 
                <button class="check-btn" onclick="checkAnswer('basic-2', '3/6')">Check Answer</button></p>
                
                <button class="hint-btn" onclick="showHint('basic-2-hint')">ðŸ’¡ Need a hint?</button>
                <div class="hint" id="basic-2-hint">
                    <strong>Hint:</strong> Count the even numbers (2, 4, 6) and divide by total numbers (6).
                </div>
                <div id="basic-2-feedback"></div>
            </div>
        </div>

        <!-- Conditional Probability -->
        <div class="exercise-section">
            <h2 class="section-title">ðŸ”— Conditional Probability Exercises</h2>
            <button class="reset-section-btn" onclick="resetSection('conditional')">Reset This Section</button>
            
            <div class="exercise" id="conditional-1">
                <div class="exercise-number">3</div>
                <div class="question">
                    A box has 8 chocolates: 5 dark and 3 milk chocolate. You eat one dark chocolate. Now what's the probability the next chocolate you pick is also dark?
                </div>
                
                <div class="visual-helper">
                    <p><strong>Before eating one:</strong> 5 dark, 3 milk (8 total)</p>
                    <p><strong>After eating one dark:</strong> ? dark, ? milk (? total)</p>
                </div>
                
                <div class="multiple-choice">
                    <label class="choice" onclick="selectChoice(this, 'conditional-1', false)">
                        A) 5/8 (same as before)
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'conditional-1', true)">
                        B) 4/7 (4 dark left out of 7 total)
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'conditional-1', false)">
                        C) 4/8 (4 dark left out of original 8)
                    </label>
                </div>
                
                <button class="hint-btn" onclick="showHint('conditional-1-hint')">ðŸ’¡ Need a hint?</button>
                <div class="hint" id="conditional-1-hint">
                    <strong>Hint:</strong> After eating one dark chocolate, both the number of dark chocolates AND the total number change!
                </div>
            </div>

            <div class="exercise" id="conditional-2">
                <div class="exercise-number">4</div>
                <div class="question">
                    In a class of 20 students, 12 like pizza and 8 like burgers. If you know a student likes pizza, what's the probability they are in the front row? (6 students sit in the front row, 4 of them like pizza)
                </div>
                
                <div class="visual-helper">
                    <table class="table-helper">
                        <tr><th></th><th>Front Row</th><th>Back Rows</th><th>Total</th></tr>
                        <tr><th>Likes Pizza</th><td>4</td><td>8</td><td>12</td></tr>
                        <tr><th>Likes Burgers</th><td>2</td><td>6</td><td>8</td></tr>
                        <tr><th>Total</th><td>6</td><td>14</td><td>20</td></tr>
                    </table>
                </div>
                
                <p>Answer: <input type="text" class="input-answer" id="conditional-2-answer" placeholder="e.g., 4/12">
                <button class="check-btn" onclick="checkAnswer('conditional-2', '4/12')">Check Answer</button></p>
                
                <button class="hint-btn" onclick="showHint('conditional-2-hint')">ðŸ’¡ Need a hint?</button>
                <div class="hint" id="conditional-2-hint">
                    <strong>Hint:</strong> We know the student likes pizza, so we only look at the 12 pizza-lovers. Of these 12, how many are in the front row?
                </div>
                <div id="conditional-2-feedback"></div>
            </div>
        </div>

        <!-- Bayesian Thinking -->
        <div class="exercise-section">
            <h2 class="section-title">ðŸ§  Bayesian Thinking Exercises</h2>
            <button class="reset-section-btn" onclick="resetSection('bayesian')">Reset This Section</button>
            
            <div class="exercise" id="bayesian-1">
                <div class="exercise-number">5</div>
                <div class="question">
                    A weather app is right 80% of the time. It says it will rain tomorrow. Before checking the app, you thought there was a 30% chance of rain. Should you now think the chance is higher or lower than 80%?
                </div>
                
                <div class="visual-helper">
                    <p><strong>Your prior belief:</strong> 30% chance of rain</p>
                    <p><strong>App prediction:</strong> Rain (app is 80% accurate)</p>
                    <p><strong>Your posterior belief should be:</strong> ?</p>
                </div>
                
                <div class="multiple-choice">
                    <label class="choice" onclick="selectChoice(this, 'bayesian-1', false)">
                        A) Exactly 80% (just trust the app)
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'bayesian-1', true)">
                        B) Higher than 30% but lower than 80%
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'bayesian-1', false)">
                        C) Still 30% (ignore the app)
                    </label>
                </div>
                
                <button class="hint-btn" onclick="showHint('bayesian-1-hint')">ðŸ’¡ Need a hint?</button>
                <div class="hint" id="bayesian-1-hint">
                    <strong>Hint:</strong> Bayesian thinking combines your prior belief with new evidence. The result is usually between the two!
                </div>
            </div>

            <div class="exercise" id="bayesian-2">
                <div class="exercise-number">6</div>
                <div class="question">
                    A coin looks normal, but you suspect it might be biased. You flip it 10 times and get 7 heads. What should you think?
                </div>
                
                <div class="visual-helper">
                    <p><strong>Prior belief:</strong> Probably fair (50/50)</p>
                    <p><strong>Evidence:</strong> 7 heads out of 10 flips</p>
                    <p><strong>Note:</strong> With a fair coin, getting 7+ heads happens about 17% of the time</p>
                </div>
                
                <div class="multiple-choice">
                    <label class="choice" onclick="selectChoice(this, 'bayesian-2', false)">
                        A) Definitely biased toward heads
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'bayesian-2', true)">
                        B) Slightly suspicious, but need more evidence
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'bayesian-2', false)">
                        C) Still think it's perfectly fair
                    </label>
                </div>
                
                <button class="hint-btn" onclick="showHint('bayesian-2-hint')">ðŸ’¡ Need a hint?</button>
                <div class="hint" id="bayesian-2-hint">
                    <strong>Hint:</strong> 7 heads is unusual but not extremely rare. A Bayesian would update their belief slightly but not dramatically.
                </div>
            </div>
        </div>

        <!-- Combinations and Permutations -->
        <div class="exercise-section">
            <h2 class="section-title">ðŸ”¢ Counting Exercises</h2>
            <button class="reset-section-btn" onclick="resetSection('counting')">Reset This Section</button>
            
            <div class="exercise" id="counting-1">
                <div class="exercise-number">7</div>
                <div class="question">
                    You have 4 friends: Alice, Bob, Carol, and Dave. You want to choose 2 friends to invite to a movie. How many different pairs can you choose?
                </div>
                
                <div class="visual-helper">
                    <p><strong>Remember:</strong> Order doesn't matter for choosing a group!</p>
                    <p><strong>Possible pairs:</strong></p>
                    <p>Alice-Bob, Alice-Carol, Alice-Dave, Bob-Carol, Bob-Dave, Carol-Dave</p>
                </div>
                
                <p>Answer: <input type="number" class="input-answer" id="counting-1-answer" placeholder="number">
                <button class="check-btn" onclick="checkAnswer('counting-1', '6')">Check Answer</button></p>
                
                <button class="hint-btn" onclick="showHint('counting-1-hint')">ðŸ’¡ Need a hint?</button>
                <div class="hint" id="counting-1-hint">
                    <strong>Hint:</strong> List all possible pairs. Remember: Alice-Bob is the same as Bob-Alice!
                </div>
                <div id="counting-1-feedback"></div>
            </div>

            <div class="exercise" id="counting-2">
                <div class="exercise-number">8</div>
                <div class="question">
                    Now you want to arrange 3 of your 4 friends in a line for a photo. How many different arrangements are possible?
                </div>
                
                <div class="visual-helper">
                    <p><strong>Remember:</strong> Order DOES matter for arrangements!</p>
                    <p><strong>Think:</strong> How many choices for 1st position? Then 2nd? Then 3rd?</p>
                </div>
                
                <div class="multiple-choice">
                    <label class="choice" onclick="selectChoice(this, 'counting-2', false)">
                        A) 12 arrangements
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'counting-2', true)">
                        B) 24 arrangements (4 Ã— 3 Ã— 2)
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'counting-2', false)">
                        C) 6 arrangements
                    </label>
                </div>
                
                <button class="hint-btn" onclick="showHint('counting-2-hint')">ðŸ’¡ Need a hint?</button>
                <div class="hint" id="counting-2-hint">
                    <strong>Hint:</strong> 1st position: 4 choices, 2nd position: 3 remaining, 3rd position: 2 remaining. Multiply them!
                </div>
            </div>
        </div>

        <!-- Binomial Distribution -->
        <div class="exercise-section">
            <h2 class="section-title">ðŸ“Š Pattern Recognition Exercises</h2>
            <button class="reset-section-btn" onclick="resetSection('binomial')">Reset This Section</button>
            
            <div class="exercise" id="binomial-1">
                <div class="exercise-number">9</div>
                <div class="question">
                    A basketball player makes 60% of free throws. If they shoot 5 free throws, what's the most likely number they'll make?
                </div>
                
                <div class="visual-helper">
                    <p><strong>Think about it:</strong> If they're good at 60%, they'll probably make more than half...</p>
                    <p><strong>Possible outcomes:</strong> 0, 1, 2, 3, 4, or 5 successful shots</p>
                </div>
                
                <div class="multiple-choice">
                    <label class="choice" onclick="selectChoice(this, 'binomial-1', false)">
                        A) 2 shots (less than half)
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'binomial-1', true)">
                        B) 3 shots (60% of 5 = 3)
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'binomial-1', false)">
                        C) 5 shots (all of them)
                    </label>
                </div>
                
                <button class="hint-btn" onclick="showHint('binomial-1-hint')">ðŸ’¡ Need a hint?</button>
                <div class="hint" id="binomial-1-hint">
                    <strong>Hint:</strong> If someone succeeds 60% of the time, the expected number of successes in 5 tries is 60% Ã— 5 = 3.
                </div>
            </div>

            <div class="exercise" id="binomial-2">
                <div class="exercise-number">10</div>
                <div class="question">
                    You flip a fair coin 4 times. Which outcome is more likely: getting exactly 2 heads, or getting exactly 4 heads?
                </div>
                
                <div class="visual-helper">
                    <p><strong>Think about it:</strong> Which is more "extreme" - a balanced result or a perfect result?</p>
                    <div class="formula-box">
                        Getting 2 heads: HHTT, HTHT, HTTH, THHT, THTH, TTHH (6 ways)
                        <br>
                        Getting 4 heads: HHHH (1 way)
                    </div>
                </div>
                
                <div class="multiple-choice">
                    <label class="choice" onclick="selectChoice(this, 'binomial-2', true)">
                        A) Exactly 2 heads (more balanced, more ways to happen)
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'binomial-2', false)">
                        B) Exactly 4 heads (more extreme, fewer ways to happen)
                    </label>
                    <label class="choice" onclick="selectChoice(this, 'binomial-2', false)">
                        C) They're equally likely
                    </label>
                </div>
                
                <button class="hint-btn" onclick="showHint('binomial-2-hint')">ðŸ’¡ Need a hint?</button>
                <div class="hint" id="binomial-2-hint">
                    <strong>Hint:</strong> Extreme outcomes (all heads or all tails) are rare. Balanced outcomes have many ways to occur!
                </div>
            </div>
        </div>
    </div>

    <script>
        let totalExercises = 10;
        let completedExercises = 0;
        let correctAnswers = 0;

        function selectChoice(element, exerciseId, isCorrect) {
            // Remove previous selections
            const choices = element.parentNode.querySelectorAll('.choice');
            choices.forEach(choice => {
                choice.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // Mark current selection
            element.classList.add('selected');
            
            setTimeout(() => {
                if (isCorrect) {
                    element.classList.add('correct');
                    showFeedback(exerciseId, true, "Correct! Well done! ðŸŽ‰");
                    updateScore(true);
                } else {
                    element.classList.add('incorrect');
                    showFeedback(exerciseId, false, "Not quite right. Try thinking through the problem step by step. ðŸ¤”");
                }
            }, 500);
        }

        function checkAnswer(exerciseId, correctAnswer) {
            const input = document.getElementById(exerciseId + '-answer');
            const userAnswer = input.value.trim().toLowerCase();
            const correct = correctAnswer.toLowerCase();
            
            let isCorrect = false;
            
            // Handle different formats
            if (exerciseId === 'basic-2') {
                isCorrect = userAnswer === '3/6' || userAnswer === '1/2' || userAnswer === '0.5' || userAnswer === '50%';
            } else if (exerciseId === 'conditional-2') {
                isCorrect = userAnswer === '4/12' || userAnswer === '1/3' || userAnswer === '0.33' || userAnswer === '33%';
            } else if (exerciseId === 'counting-1') {
                isCorrect = userAnswer === '6';
            }
            
            if (isCorrect) {
                showFeedback(exerciseId, true, "Excellent! Your answer is correct! ðŸŽ‰");
                input.style.borderColor = '#00b894';
                updateScore(true);
            } else {
                showFeedback(exerciseId, false, `Not quite right. The correct answer is ${correctAnswer}. Try to understand why! ðŸ¤”`);
                input.style.borderColor = '#e17055';
            }
        }

        function showFeedback(exerciseId, isCorrect, message) {
            let feedbackDiv = document.getElementById(exerciseId + '-feedback');
            if (!feedbackDiv) {
                feedbackDiv = document.createElement('div');
                feedbackDiv.id = exerciseId + '-feedback';
                document.getElementById(exerciseId).appendChild(feedbackDiv);
            }
            
            feedbackDiv.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedbackDiv.textContent = message;
            feedbackDiv.style.display = 'block';
        }

        function showHint(hintId) {
            const hint = document.getElementById(hintId);
            hint.style.display = hint.style.display === 'none' ? 'block' : 'none';
        }

        function updateScore(isCorrect) {
            // Check if this exercise was already completed
            const exerciseElement = event.target.closest('.exercise');
            if (!exerciseElement.dataset.completed) {
                completedExercises++;
                exerciseElement.dataset.completed = 'true';
                
                if (isCorrect) {
                    correctAnswers++;
                }
                
                // Update displays
                document.getElementById('overall-score').textContent = 
                    `Score: ${correctAnswers}/${completedExercises} correct (${completedExercises}/${totalExercises} completed)`;
                
                const progressPercent = (completedExercises / totalExercises) * 100;
                document.getElementById('progress-fill').style.width = progressPercent + '%';
            }
        }

        function resetSection(sectionType) {
            const section = event.target.parentNode;
            const exercises = section.querySelectorAll('.exercise');
            
            exercises.forEach(exercise => {
                // Reset completion status
                delete exercise.dataset.completed;
                
                // Reset choices
                const choices = exercise.querySelectorAll('.choice');
                choices.forEach(choice => {
                    choice.classList.remove('selected', 'correct', 'incorrect');
                });
                
                // Reset inputs
                const inputs = exercise.querySelectorAll('.input-answer');
                inputs.forEach(input => {
                    input.value = '';
                    input.style.borderColor = '#ddd';
                });
                
                // Hide feedback and hints
                const feedbacks = exercise.querySelectorAll('.feedback');
                feedbacks.forEach(feedback => feedback.remove());
                
                const hints = exercise.querySelectorAll('.hint');
                hints.forEach(hint => hint.style.display = 'none');
            });
            
            // Recalculate scores
            completedExercises = document.querySelectorAll('.exercise[data-completed]').length;
            correctAnswers = document.querySelectorAll('.choice.correct').length + 
                           document.querySelectorAll('.input-answer[style*="border-color: rgb(0, 184, 148)"]').length;
                           
            // Update displays
            document.getElementById('overall-score').textContent = 
                `Score: ${correctAnswers}/${completedExercises} correct (${completedExercises}/${totalExercises} completed)`;
            
            const progressPercent = (completedExercises / totalExercises) * 100;
            document.getElementById('progress-fill').style.width = progressPercent + '%';
        }

        // Initialize page
        window.onload = function() {
            // Set initial progress
            document.getElementById('progress-fill').style.width = '0%';
        };
    </script>
</body>
</html>