<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Probability Concepts</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .concept-section {
            background: white;
            margin: 20px 0;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .concept-section:hover {
            transform: translateY(-5px);
        }

        .concept-title {
            color: #667eea;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .visual-demo {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            border-left: 5px solid #667eea;
        }

        .coin-container, .card-container, .ball-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
        }

        .coin, .card, .ball {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }

        .coin {
            background: gold;
            color: #333;
        }

        .coin.heads { background: #ffd700; }
        .coin.tails { background: #daa520; }

        .card {
            border-radius: 10px;
            width: 40px;
            height: 60px;
            font-size: 12px;
        }

        .card.red { background: #e74c3c; }
        .card.black { background: #2c3e50; }

        .ball.red { background: #e74c3c; }
        .ball.blue { background: #3498db; }

        .probability-bar {
            width: 100%;
            height: 30px;
            background: #ecf0f1;
            border-radius: 15px;
            overflow: hidden;
            margin: 10px 0;
        }

        .probability-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .interactive-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }

        .interactive-btn:hover {
            background: #764ba2;
            transform: scale(1.05);
        }

        .stats-display {
            background: #34495e;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
        }

        .formula-box {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 10px;
            font-family: monospace;
            font-size: 18px;
            text-align: center;
            margin: 15px 0;
            border-left: 5px solid #3498db;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th, .comparison-table td {
            border: 2px solid #bdc3c7;
            padding: 12px;
            text-align: left;
        }

        .comparison-table th {
            background: #667eea;
            color: white;
        }

        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .grid-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(30px, 1fr));
            gap: 5px;
            max-width: 400px;
            margin: 20px auto;
        }

        .grid-item {
            width: 30px;
            height: 30px;
            border: 1px solid #bdc3c7;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .grid-item:hover {
            transform: scale(1.1);
        }

        .explanation {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 5px solid #27ae60;
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: bold;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .animate-pulse {
            animation: pulse 1s ease-in-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Interactive Probability Concepts - Made by Stephen</h1>
            <p>Learn statistics through visual examples and hands-on interaction</p>
        </div>

        <!-- Basic Probability -->
        <div class="concept-section">
            <h2 class="concept-title">üéØ Basic Probability</h2>
            <p><strong>Think of it as:</strong> "What are the chances something will happen?"</p>
            
            <div class="visual-demo">
                <h3>ü™ô Coin Flip Demo</h3>
                <p>Click the coin to flip it multiple times and see how probability works:</p>
                <div class="coin-container">
                    <div class="coin" id="demo-coin" onclick="flipCoin()">?</div>
                </div>
                <button class="interactive-btn" onclick="resetCoinFlips()">Reset</button>
                <div class="stats-display" id="coin-stats">
                    Flips: 0 | Heads: 0 (0%) | Tails: 0 (0%)
                </div>
            </div>
            
            <div class="explanation">
                <strong>Key Insight:</strong> As you flip more coins, the percentage gets closer to 50% for each side. This is what probability predicts!
            </div>
        </div>

        <!-- Conditional Probability -->
        <div class="concept-section">
            <h2 class="concept-title">üîó Conditional Probability</h2>
            <p><strong>Think of it as:</strong> "What are the chances of A happening, given that B already happened?"</p>
            
            <div class="visual-demo">
                <h3>üé¥ Card Drawing Demo</h3>
                <p>We have a deck with red and black cards. Let's see how knowing one fact changes the probability of another:</p>
                
                <div class="card-container" id="card-deck"></div>
                <button class="interactive-btn" onclick="drawCard()">Draw a Card</button>
                <button class="interactive-btn" onclick="resetCards()">Reset Deck</button>
                
                <div class="stats-display" id="card-stats">
                    Total Cards: 20 | Red: 10 | Black: 10
                </div>
                
                <div class="formula-box">
                    P(Next card is Red | Previous was Black) = ?
                </div>
            </div>
            
            <div class="explanation">
                <strong>Real-world example:</strong> If it's cloudy, what's the chance of rain? The cloudiness changes our probability estimate!
            </div>
        </div>

        <!-- Bayesian vs Frequentist -->
        <div class="concept-section">
            <h2 class="concept-title">‚öñÔ∏è Bayesian vs Frequentist Thinking</h2>
            
            <div class="visual-demo">
                <h3>üè• Medical Test Example</h3>
                <p>Imagine a medical test that's 90% accurate. A patient tests positive. What's the chance they actually have the disease?</p>
                
                <table class="comparison-table">
                    <tr>
                        <th>Approach</th>
                        <th>Frequentist Says</th>
                        <th>Bayesian Says</th>
                    </tr>
                    <tr>
                        <td><strong>Focus</strong></td>
                        <td>Test accuracy: 90%</td>
                        <td>Consider how rare the disease is</td>
                    </tr>
                    <tr>
                        <td><strong>Answer</strong></td>
                        <td>"90% chance of having disease"</td>
                        <td>"Depends on disease rarity + test result"</td>
                    </tr>
                </table>
                
                <div class="ball-container">
                    <p>Population of 1000 people:</p>
                    <div class="grid-display" id="population-grid"></div>
                </div>
                
                <button class="interactive-btn" onclick="simulateTest()">Run Medical Test Simulation</button>
                <div class="stats-display" id="medical-stats"></div>
            </div>
            
            <div class="explanation">
                <strong>Bayesian insight:</strong> We update our beliefs with new evidence. If the disease is rare (1 in 1000), even a positive test might be wrong!
            </div>
        </div>

        <!-- Prior and Posterior -->
        <div class="concept-section">
            <h2 class="concept-title">üîÑ Prior ‚Üí Evidence ‚Üí Posterior</h2>
            <p><strong>Think of it as:</strong> "What I believed before" + "New information" = "What I believe now"</p>
            
            <div class="visual-demo">
                <h3>üå¶Ô∏è Weather Prediction</h3>
                <p>You start with a belief about tomorrow's weather, then check the forecast:</p>
                
                <div style="display: flex; justify-content: space-around; align-items: center; margin: 20px 0;">
                    <div style="text-align: center;">
                        <h4>Prior Belief</h4>
                        <div class="probability-bar" style="width: 200px;">
                            <div class="probability-fill" id="prior-bar" style="width: 30%;">30%</div>
                        </div>
                        <p>Chance of rain</p>
                    </div>
                    
                    <div style="text-align: center; font-size: 2em;">+</div>
                    
                    <div style="text-align: center;">
                        <h4>New Evidence</h4>
                        <button class="interactive-btn" onclick="addEvidence('clouds')">See Clouds</button>
                        <button class="interactive-btn" onclick="addEvidence('sunny')">See Sun</button>
                    </div>
                    
                    <div style="text-align: center; font-size: 2em;">=</div>
                    
                    <div style="text-align: center;">
                        <h4>Posterior Belief</h4>
                        <div class="probability-bar" style="width: 200px;">
                            <div class="probability-fill" id="posterior-bar" style="width: 30%;">30%</div>
                        </div>
                        <p>Updated chance</p>
                    </div>
                </div>
                
                <button class="interactive-btn" onclick="resetWeather()">Reset Weather</button>
            </div>
        </div>

        <!-- Binomial Distribution -->
        <div class="concept-section">
            <h2 class="concept-title">üìà Binomial Distribution</h2>
            <p><strong>Think of it as:</strong> "If I do something multiple times, what patterns will I see?"</p>
            
            <div class="visual-demo">
                <h3>üéØ Basketball Free Throws</h3>
                <p>A player makes 70% of free throws. If they shoot 10 times, how many will they make?</p>
                
                <div>
                    <label>Number of shots: <input type="range" id="shots-slider" min="1" max="20" value="10" oninput="updateShots()"></label>
                    <span id="shots-display">10</span>
                </div>
                
                <div>
                    <label>Success rate: <input type="range" id="rate-slider" min="10" max="90" value="70" oninput="updateRate()"></label>
                    <span id="rate-display">70%</span>
                </div>
                
                <button class="interactive-btn" onclick="simulateShots()">Simulate Shooting</button>
                
                <div class="ball-container" id="shots-display"></div>
                <div class="stats-display" id="shots-stats"></div>
            </div>
        </div>

        <!-- Permutations and Combinations -->
        <div class="concept-section">
            <h2 class="concept-title">üî¢ Permutations vs Combinations</h2>
            <p><strong>Think of it as:</strong> "Does order matter?"</p>
            
            <div class="visual-demo">
                <h3>üèÜ Race Results vs Team Selection</h3>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div>
                        <h4>üèÉ Permutations (Order Matters)</h4>
                        <p>First, Second, Third place in a race:</p>
                        <div id="race-results"></div>
                        <button class="interactive-btn" onclick="generateRaceResults()">Generate Race Results</button>
                        <div class="stats-display" id="permutation-stats"></div>
                    </div>
                    
                    <div>
                        <h4>üë• Combinations (Order Doesn't Matter)</h4>
                        <p>Selecting 3 people for a team:</p>
                        <div id="team-selection"></div>
                        <button class="interactive-btn" onclick="selectTeam()">Select Team</button>
                        <div class="stats-display" id="combination-stats"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Conjugate Prior -->
        <div class="concept-section">
            <h2 class="concept-title">üîó Conjugate Prior</h2>
            <p><strong>Think of it as:</strong> "A mathematical shortcut that keeps calculations simple"</p>
            
            <div class="visual-demo">
                <h3>üé™ Beta-Binomial Example</h3>
                <p>We're estimating a coin's bias. Our prior belief and new evidence combine naturally:</p>
                
                <div class="explanation">
                    <p><strong>Simple analogy:</strong> It's like having a special calculator that automatically updates your beliefs in the most efficient way possible!</p>
                    
                    <div class="formula-box">
                        Prior: Beta(Œ±, Œ≤) + Data: k successes, n trials = Posterior: Beta(Œ± + k, Œ≤ + n - k)
                    </div>
                    
                    <p>This mathematical relationship makes updating beliefs very smooth and natural.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let coinFlips = 0, heads = 0, tails = 0;
        let cards = [];
        let medicalPopulation = [];
        
        // Coin flip functionality
        function flipCoin() {
            coinFlips++;
            const isHeads = Math.random() < 0.5;
            const coin = document.getElementById('demo-coin');
            
            if (isHeads) {
                heads++;
                coin.textContent = 'H';
                coin.className = 'coin heads animate-pulse';
            } else {
                tails++;
                coin.textContent = 'T';
                coin.className = 'coin tails animate-pulse';
            }
            
            updateCoinStats();
            setTimeout(() => coin.classList.remove('animate-pulse'), 1000);
        }
        
        function updateCoinStats() {
            const headsPercent = coinFlips > 0 ? Math.round((heads / coinFlips) * 100) : 0;
            const tailsPercent = coinFlips > 0 ? Math.round((tails / coinFlips) * 100) : 0;
            document.getElementById('coin-stats').textContent = 
                `Flips: ${coinFlips} | Heads: ${heads} (${headsPercent}%) | Tails: ${tails} (${tailsPercent}%)`;
        }
        
        function resetCoinFlips() {
            coinFlips = heads = tails = 0;
            document.getElementById('demo-coin').textContent = '?';
            document.getElementById('demo-coin').className = 'coin';
            updateCoinStats();
        }
        
        // Card functionality
        function initializeCards() {
            cards = [];
            const cardDeck = document.getElementById('card-deck');
            cardDeck.innerHTML = '';
            
            for (let i = 0; i < 20; i++) {
                const isRed = i < 10;
                cards.push({ color: isRed ? 'red' : 'black', drawn: false });
                
                const cardEl = document.createElement('div');
                cardEl.className = `card ${isRed ? 'red' : 'black'}`;
                cardEl.textContent = isRed ? '‚ô•' : '‚ô†';
                cardEl.id = `card-${i}`;
                cardDeck.appendChild(cardEl);
            }
            updateCardStats();
        }
        
        function drawCard() {
            const availableCards = cards.filter(card => !card.drawn);
            if (availableCards.length === 0) return;
            
            const randomIndex = Math.floor(Math.random() * availableCards.length);
            const drawnCard = availableCards[randomIndex];
            const cardIndex = cards.indexOf(drawnCard);
            
            cards[cardIndex].drawn = true;
            document.getElementById(`card-${cardIndex}`).style.opacity = '0.3';
            
            updateCardStats();
        }
        
        function updateCardStats() {
            const available = cards.filter(card => !card.drawn);
            const redAvailable = available.filter(card => card.color === 'red').length;
            const blackAvailable = available.filter(card => card.color === 'black').length;
            
            document.getElementById('card-stats').textContent = 
                `Available Cards: ${available.length} | Red: ${redAvailable} | Black: ${blackAvailable}`;
        }
        
        function resetCards() {
            initializeCards();
        }
        
        // Medical test simulation
        function simulateTest() {
            const grid = document.getElementById('population-grid');
            grid.innerHTML = '';
            
            // 1000 people, 1 actually has disease (very rare)
            for (let i = 0; i < 1000; i++) {
                const person = document.createElement('div');
                person.className = 'grid-item';
                
                const hasDisease = i === 0; // Only first person has disease
                const testPositive = hasDisease ? 
                    Math.random() < 0.9 : // 90% chance test detects disease
                    Math.random() < 0.1;  // 10% false positive rate
                
                if (hasDisease && testPositive) {
                    person.style.background = '#e74c3c'; // True positive
                    person.textContent = '‚úì';
                } else if (!hasDisease && testPositive) {
                    person.style.background = '#f39c12'; // False positive
                    person.textContent = '?';
                } else if (hasDisease && !testPositive) {
                    person.style.background = '#e67e22'; // False negative
                    person.textContent = '‚úó';
                } else {
                    person.style.background = '#95a5a6'; // True negative
                }
                
                grid.appendChild(person);
            }
            
            // Count results
            const truePositives = 1; // Assuming test catches the one diseased person
            const falsePositives = Math.floor(999 * 0.1); // ~100 false positives
            const totalPositives = truePositives + falsePositives;
            const accuracy = Math.round((truePositives / totalPositives) * 100);
            
            document.getElementById('medical-stats').innerHTML = 
                `<strong>Results:</strong> ${totalPositives} positive tests, but only ${accuracy}% actually have the disease!<br>
                <span style="color: #e74c3c;">Red = True Positive</span> | 
                <span style="color: #f39c12;">Orange = False Positive</span> | 
                <span style="color: #95a5a6;">Gray = True Negative</span>`;
        }
        
        // Weather prediction
        function addEvidence(type) {
            const priorBar = document.getElementById('prior-bar');
            const posteriorBar = document.getElementById('posterior-bar');
            
            let newProbability;
            if (type === 'clouds') {
                newProbability = Math.min(70, parseInt(priorBar.style.width) + 30);
            } else {
                newProbability = Math.max(10, parseInt(priorBar.style.width) - 20);
            }
            
            posteriorBar.style.width = newProbability + '%';
            posteriorBar.textContent = newProbability + '%';
        }
        
        function resetWeather() {
            document.getElementById('prior-bar').style.width = '30%';
            document.getElementById('prior-bar').textContent = '30%';
            document.getElementById('posterior-bar').style.width = '30%';
            document.getElementById('posterior-bar').textContent = '30%';
        }
        
        // Basketball shots
        function updateShots() {
            document.getElementById('shots-display').textContent = document.getElementById('shots-slider').value;
        }
        
        function updateRate() {
            document.getElementById('rate-display').textContent = document.getElementById('rate-slider').value + '%';
        }
        
        function simulateShots() {
            const shots = parseInt(document.getElementById('shots-slider').value);
            const rate = parseInt(document.getElementById('rate-slider').value) / 100;
            
            const display = document.getElementById('shots-display');
            display.innerHTML = '';
            
            let made = 0;
            for (let i = 0; i < shots; i++) {
                const shot = document.createElement('div');
                shot.className = 'ball';
                
                if (Math.random() < rate) {
                    shot.style.background = '#27ae60';
                    shot.textContent = '‚úì';
                    made++;
                } else {
                    shot.style.background = '#e74c3c';
                    shot.textContent = '‚úó';
                }
                
                display.appendChild(shot);
            }
            
            document.getElementById('shots-stats').textContent = 
                `Made ${made} out of ${shots} shots (${Math.round((made/shots)*100)}%)`;
        }
        
        // Race and team selection
        function generateRaceResults() {
            const runners = ['Alice', 'Bob', 'Charlie', 'Diana', 'Eve'];
            const shuffled = [...runners].sort(() => Math.random() - 0.5);
            const top3 = shuffled.slice(0, 3);
            
            document.getElementById('race-results').innerHTML = 
                `ü•á ${top3[0]}<br>ü•à ${top3[1]}<br>ü•â ${top3[2]}`;
            
            // Calculate permutations: 5P3 = 5!/(5-3)! = 60
            document.getElementById('permutation-stats').textContent = 
                'Possible arrangements: 5 √ó 4 √ó 3 = 60 ways';
        }
        
        function selectTeam() {
            const people = ['Alice', 'Bob', 'Charlie', 'Diana', 'Eve'];
            const shuffled = [...people].sort(() => Math.random() - 0.5);
            const team = shuffled.slice(0, 3).sort(); // Sort to show order doesn't matter
            
            document.getElementById('team-selection').innerHTML = 
                `Team: ${team.join(', ')}`;
            
            // Calculate combinations: 5C3 = 5!/(3! √ó 2!) = 10
            document.getElementById('combination-stats').textContent = 
                'Possible teams: 5!/(3! √ó 2!) = 10 ways';
        }
        
        // Initialize everything
        window.onload = function() {
            initializeCards();
            updateCoinStats();
        };
    </script>
</body>
</html>