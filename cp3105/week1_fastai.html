<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CP3501 Week 1: Introduction to Deep Learning with FastAI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #ffffff;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        h1 {
            color: #c41e3a;
            font-size: 2.5em;
            margin-bottom: 20px;
            border-bottom: 3px solid #c41e3a;
            padding-bottom: 10px;
        }

        h2 {
            color: #c41e3a;
            font-size: 2em;
            margin-top: 40px;
            margin-bottom: 15px;
        }

        h3 {
            color: #c41e3a;
            font-size: 1.5em;
            margin-top: 30px;
            margin-bottom: 10px;
        }

        .section {
            margin-bottom: 60px;
            padding: 30px;
            background: #f9f9f9;
            border-left: 5px solid #c41e3a;
        }

        .objectives {
            background: #fff;
            border: 2px solid #c41e3a;
            padding: 25px;
            margin: 30px 0;
        }

        .objectives ul {
            list-style: none;
            padding-left: 0;
        }

        .objectives li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
        }

        .objectives li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #c41e3a;
            font-weight: bold;
            font-size: 1.2em;
        }

        .workflow-diagram {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            padding: 20px;
            background: #fff;
            border: 1px solid #ddd;
        }

        .workflow-step {
            flex: 1;
            text-align: center;
            padding: 20px;
            background: #f5f5f5;
            margin: 0 5px;
            border: 2px solid #c41e3a;
            position: relative;
        }

        .workflow-step h4 {
            color: #c41e3a;
            margin-bottom: 10px;
        }

        .workflow-arrow {
            font-size: 2em;
            color: #c41e3a;
            margin: 0 10px;
        }

        code {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            position: relative;
        }

        .code-annotation {
            color: #75715e;
            font-style: italic;
        }

        .quiz {
            background: #fff;
            border: 3px solid #c41e3a;
            padding: 30px;
            margin: 40px 0;
            border-radius: 8px;
        }

        .quiz h3 {
            margin-top: 0;
            margin-bottom: 20px;
        }

        .quiz-question {
            font-size: 1.1em;
            margin-bottom: 20px;
            font-weight: 500;
        }

        .quiz-options {
            list-style: none;
        }

        .quiz-options li {
            padding: 12px;
            margin: 10px 0;
            background: #f5f5f5;
            border: 2px solid #ddd;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quiz-options li:hover {
            background: #e8e8e8;
            border-color: #c41e3a;
        }

        .quiz-options li.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .quiz-options li.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .quiz-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: #d4edda;
            border: 1px solid #28a745;
            color: #155724;
        }

        .quiz-feedback.incorrect {
            background: #f8d7da;
            border: 1px solid #dc3545;
            color: #721c24;
        }

        .checkpoint {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 20px;
            margin: 30px 0;
            border-radius: 5px;
        }

        .checkpoint h3 {
            color: #856404;
            margin-top: 0;
        }

        .data-viz {
            background: #fff;
            border: 1px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #fff;
        }

        .comparison-table th {
            background: #c41e3a;
            color: white;
            padding: 15px;
            text-align: left;
        }

        .comparison-table td {
            padding: 12px 15px;
            border: 1px solid #ddd;
        }

        .comparison-table tr:nth-child(even) {
            background: #f9f9f9;
        }

        .highlight-box {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 20px;
            margin: 20px 0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
        }

        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 20px;
            margin: 20px 0;
        }

        .diagram-box {
            border: 2px solid #c41e3a;
            padding: 30px;
            margin: 30px 0;
            background: #fff;
        }

        .transfer-learning-viz {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 30px 0;
        }

        .tl-box {
            padding: 20px;
            border: 2px solid #c41e3a;
            background: #f9f9f9;
            text-align: center;
            flex: 1;
            margin: 0 10px;
        }

        .tl-arrow {
            font-size: 2em;
            color: #c41e3a;
        }

        .homework-box {
            background: #c41e3a;
            color: white;
            padding: 30px;
            margin: 40px 0;
            border-radius: 8px;
        }

        .homework-box h2 {
            color: white;
            margin-top: 0;
        }

        .homework-box ul {
            list-style: none;
            padding-left: 0;
        }

        .homework-box li {
            padding: 10px 0;
            font-size: 1.1em;
        }

        @media print {
            .quiz-options li {
                cursor: default;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Title Section -->
        <h1>CP3501: Deep Learning - Week 1</h1>
        <h2>Introduction to Practical Deep Learning with FastAI</h2>
        
        <!-- Learning Objectives -->
        <div class="objectives">
            <h3>Learning Objectives</h3>
            <p>By the end of this week, you will be able to:</p>
            <ul>
                <li>Train your first image classifier in under 5 minutes</li>
                <li>Understand the 5-step FastAI workflow</li>
                <li>Explain when deep learning is (and is not) appropriate</li>
                <li>Modify example code for your own classification projects</li>
                <li>Understand the concept of transfer learning</li>
            </ul>
        </div>

        <!-- Section 1: Why This Course is Different -->
        <div class="section">
            <h2>Course Philosophy: Top-Down Learning</h2>
            <p>Traditional deep learning courses follow a <strong>bottom-up approach</strong>: calculus → linear algebra → optimization theory → finally building models.</p>
            
            <p>This course follows a <strong>top-down approach</strong>: build working models first, understand the mathematics as needed.</p>

            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>Traditional Approach</th>
                            <th>FastAI Approach (This Course)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Week 1: Calculus and linear algebra</td>
                            <td>Week 1: Build your first working classifier</td>
                        </tr>
                        <tr>
                            <td>Week 4: Gradient descent theory</td>
                            <td>Week 1: See gradients in action</td>
                        </tr>
                        <tr>
                            <td>Week 8: First practical model</td>
                            <td>Week 1: Deploy a production model</td>
                        </tr>
                        <tr>
                            <td>Focus: Mathematical rigor</td>
                            <td>Focus: Practical competence</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="highlight-box">
                <strong>Educational Research Support:</strong> Studies by Paul Lockhart and David Perkins show that context-first learning (learning by doing) results in better retention and understanding compared to theory-first approaches. Just as children learn sports by playing first and learning rules gradually, you will learn deep learning by building models first.
            </div>
        </div>

        <!-- Quiz 1 -->
        <div class="quiz" id="quiz1">
            <h3>Quiz 1: Understanding Course Philosophy</h3>
            <div class="quiz-question">
                Which statement best describes the FastAI approach to learning deep learning?
            </div>
            <ul class="quiz-options">
                <li onclick="checkAnswer(1, this, false)">A) Master calculus and linear algebra before writing any code</li>
                <li onclick="checkAnswer(1, this, true)">B) Build working models first, understand mathematics as needed</li>
                <li onclick="checkAnswer(1, this, false)">C) Focus solely on theory without practical implementation</li>
                <li onclick="checkAnswer(1, this, false)">D) Avoid mathematics entirely</li>
            </ul>
            <div class="quiz-feedback" id="feedback1"></div>
        </div>

        <!-- Section 2: The 5-Step Workflow -->
        <div class="section">
            <h2>The FastAI 5-Step Workflow</h2>
            <p>Every deep learning project in this course follows these five steps:</p>

            <div class="workflow-diagram">
                <div class="workflow-step">
                    <h4>1. Get Data</h4>
                    <p>Collect or download your dataset</p>
                </div>
                <div class="workflow-arrow">→</div>
                <div class="workflow-step">
                    <h4>2. Prepare Data</h4>
                    <p>Create DataBlock</p>
                </div>
                <div class="workflow-arrow">→</div>
                <div class="workflow-step">
                    <h4>3. Create Model</h4>
                    <p>Build learner</p>
                </div>
                <div class="workflow-arrow">→</div>
                <div class="workflow-step">
                    <h4>4. Train</h4>
                    <p>Fine-tune weights</p>
                </div>
                <div class="workflow-arrow">→</div>
                <div class="workflow-step">
                    <h4>5. Deploy</h4>
                    <p>Make predictions</p>
                </div>
            </div>

            <p>Let us examine each step in detail through a practical example: building a bird vs. forest classifier.</p>
        </div>

        <!-- Section 3: Step 1 - Get Data -->
        <div class="section">
            <h2>Step 1: Obtaining Training Data</h2>
            <p>For our first classifier, we will distinguish between images of birds and forests. We will use DuckDuckGo image search to collect data.</p>

            <h3>Data Requirements</h3>
            <ul>
                <li><strong>Quantity:</strong> 100-200 images per category is sufficient for transfer learning</li>
                <li><strong>Quality:</strong> Images should be representative of real-world scenarios</li>
                <li><strong>Diversity:</strong> Include varied angles, lighting conditions, and contexts</li>
            </ul>

            <div class="code-block">
<span style="color: #66d9ef;">from</span> fastai.vision.all <span style="color: #66d9ef;">import</span> *
<span style="color: #66d9ef;">from</span> fastdownload <span style="color: #66d9ef;">import</span> download_url
<span style="color: #66d9ef;">from</span> fastbook <span style="color: #66d9ef;">import</span> search_images_ddg

<span class="code-annotation"># Search and download bird images</span>
urls = search_images_ddg(<span style="color: #e6db74;">'bird photo'</span>, max_images=<span style="color: #ae81ff;">200</span>)
download_url(urls[<span style="color: #ae81ff;">0</span>], <span style="color: #e6db74;">'bird.jpg'</span>)

<span class="code-annotation"># Verify the image loads correctly</span>
Image.open(<span style="color: #e6db74;">'bird.jpg'</span>).to_thumb(<span style="color: #ae81ff;">256</span>, <span style="color: #ae81ff;">256</span>)
            </div>

            <div class="highlight-box">
                <strong>Why only 200 images?</strong> Traditional machine learning might require thousands of images. However, with transfer learning (explained later), we can achieve excellent results with just 100-200 images per category because we start with a model that already understands general image features.
            </div>
        </div>

        <!-- Section 4: Step 2 - Prepare Data -->
        <div class="section">
            <h2>Step 2: Preparing Data with DataBlock</h2>
            <p>The DataBlock is FastAI's core abstraction for data preparation. It answers five critical questions:</p>

            <div class="diagram-box">
                <h3>Five Questions Every DataBlock Answers</h3>
                <ol>
                    <li><strong>What are the input and output types?</strong> (blocks)</li>
                    <li><strong>How do we find all the data files?</strong> (get_items)</li>
                    <li><strong>How do we split training and validation sets?</strong> (splitter)</li>
                    <li><strong>How do we extract labels from filenames?</strong> (get_y)</li>
                    <li><strong>What transformations should we apply?</strong> (item_tfms)</li>
                </ol>
            </div>

            <h3>Practical Implementation</h3>
            <div class="code-block">
dls = DataBlock(
    <span class="code-annotation"># Question 1: Input = images, Output = categories</span>
    blocks=(ImageBlock, CategoryBlock),
    
    <span class="code-annotation"># Question 2: Find all image files in the directory</span>
    get_items=get_image_files,
    
    <span class="code-annotation"># Question 3: Randomly assign 80% to training, 20% to validation</span>
    splitter=RandomSplitter(valid_pct=<span style="color: #ae81ff;">0.2</span>, seed=<span style="color: #ae81ff;">42</span>),
    
    <span class="code-annotation"># Question 4: Use folder name as label (bird/ or forest/)</span>
    get_y=parent_label,
    
    <span class="code-annotation"># Question 5: Resize all images to 192x192 pixels</span>
    item_tfms=[Resize(<span style="color: #ae81ff;">192</span>, method=<span style="color: #e6db74;">'squish'</span>)]
).dataloaders(path, bs=<span style="color: #ae81ff;">32</span>)

<span class="code-annotation"># Preview a batch of images with labels</span>
dls.show_batch(max_n=<span style="color: #ae81ff;">6</span>)
            </div>

            <div class="warning-box">
                <strong>Critical Concept: Validation Set</strong><br>
                The validation set contains data the model never sees during training. This allows us to measure how well the model generalizes to new, unseen data. FastAI requires a validation set to prevent overfitting.
            </div>
        </div>

        <!-- Quiz 2 -->
        <div class="quiz" id="quiz2">
            <h3>Quiz 2: Understanding DataBlock</h3>
            <div class="quiz-question">
                Why do we need a validation set separate from the training set?
            </div>
            <ul class="quiz-options">
                <li onclick="checkAnswer(2, this, false)">A) To have backup data in case training data is corrupted</li>
                <li onclick="checkAnswer(2, this, true)">B) To measure how well the model generalizes to new, unseen data</li>
                <li onclick="checkAnswer(2, this, false)">C) To make training faster by using less data</li>
                <li onclick="checkAnswer(2, this, false)">D) Validation sets are optional and not necessary</li>
            </ul>
            <div class="quiz-feedback" id="feedback2"></div>
        </div>

        <!-- Checkpoint -->
        <div class="checkpoint">
            <h3>Checkpoint: Steps 1-2</h3>
            <p>Before proceeding, ensure you understand:</p>
            <ul>
                <li>How to download images using search_images_ddg</li>
                <li>The five questions DataBlock answers</li>
                <li>Why we split data into training and validation sets</li>
                <li>What the parameter <code>bs=32</code> means (batch size = 32 images at once)</li>
            </ul>
        </div>

        <!-- Section 5: Step 3 - Create Model -->
        <div class="section">
            <h2>Step 3: Creating a Vision Learner</h2>
            <p>Now we create our model using a pretrained architecture. We use ResNet18, a proven architecture with 18 layers.</p>

            <div class="code-block">
learn = vision_learner(
    dls,                    <span class="code-annotation"># Our prepared data</span>
    resnet18,               <span class="code-annotation"># Architecture: ResNet with 18 layers</span>
    metrics=error_rate      <span class="code-annotation"># Measure: percentage of incorrect predictions</span>
)
            </div>

            <h3>What is Transfer Learning?</h3>
            <p>Transfer learning is the key technique that allows us to build accurate models with limited data.</p>

            <div class="transfer-learning-viz">
                <div class="tl-box">
                    <h4>ImageNet Model</h4>
                    <p>Trained on 1.2M images</p>
                    <p>1000 categories</p>
                    <p><strong>Already knows:</strong></p>
                    <p>Edges, textures, shapes, patterns</p>
                </div>
                <div class="tl-arrow">→</div>
                <div class="tl-box">
                    <h4>Remove Last Layer</h4>
                    <p>Keep learned features</p>
                    <p>Remove classification head</p>
                </div>
                <div class="tl-arrow">→</div>
                <div class="tl-box">
                    <h4>Add New Layer</h4>
                    <p>2 categories: bird/forest</p>
                    <p>Train only this layer</p>
                    <p><strong>Uses:</strong> 200 images</p>
                </div>
            </div>

            <div class="highlight-box">
                <strong>The Power of Transfer Learning:</strong> Instead of learning everything from scratch, we start with a model that already understands general image features (edges, textures, patterns) from being trained on 1.2 million images. We only need to teach it the specific difference between birds and forests.
            </div>

            <h3>Available Model Architectures</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Model</th>
                        <th>Parameters</th>
                        <th>Speed</th>
                        <th>Accuracy</th>
                        <th>When to Use</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>resnet18</td>
                        <td>11M</td>
                        <td>Fast</td>
                        <td>Good</td>
                        <td>Starting point, quick experiments</td>
                    </tr>
                    <tr>
                        <td>resnet34</td>
                        <td>21M</td>
                        <td>Medium</td>
                        <td>Better</td>
                        <td>Balanced performance</td>
                    </tr>
                    <tr>
                        <td>resnet50</td>
                        <td>25M</td>
                        <td>Slower</td>
                        <td>Best</td>
                        <td>Maximum accuracy needed</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Quiz 3 -->
        <div class="quiz" id="quiz3">
            <h3>Quiz 3: Transfer Learning</h3>
            <div class="quiz-question">
                What is the main advantage of transfer learning?
            </div>
            <ul class="quiz-options">
                <li onclick="checkAnswer(3, this, false)">A) It makes the model train faster but less accurately</li>
                <li onclick="checkAnswer(3, this, true)">B) We can build accurate models with limited data by reusing learned features</li>
                <li onclick="checkAnswer(3, this, false)">C) It eliminates the need for any training data</li>
                <li onclick="checkAnswer(3, this, false)">D) It only works for bird classification tasks</li>
            </ul>
            <div class="quiz-feedback" id="feedback3"></div>
        </div>

        <!-- Section 6: Step 4 - Train -->
        <div class="section">
            <h2>Step 4: Training the Model</h2>
            <p>Now we train our model using the fine_tune method. This method uses a sophisticated two-stage process:</p>

            <div class="code-block">
learn.fine_tune(<span style="color: #ae81ff;">3</span>)  <span class="code-annotation"># Train for 3 epochs</span>
            </div>

            <h3>What Happens During Training?</h3>
            <div class="diagram-box">
                <h4>The Training Loop</h4>
                <ol>
                    <li><strong>Forward Pass:</strong> Input images → Model → Predictions</li>
                    <li><strong>Calculate Loss:</strong> Compare predictions with true labels</li>
                    <li><strong>Backward Pass:</strong> Calculate gradients (how to adjust weights)</li>
                    <li><strong>Update Weights:</strong> Make small adjustments to improve predictions</li>
                    <li><strong>Repeat:</strong> Process all images, then start next epoch</li>
                </ol>
            </div>

            <h3>Understanding Training Output</h3>
            <div class="code-block" style="background: #fff; color: #333; border: 1px solid #ddd;">
epoch    train_loss    valid_loss    error_rate    time
  0        0.374531      0.485603      0.161290    00:09
  1        0.301013      0.262005      0.064516    00:09
  2        0.252080      0.226872      0.064516    00:09
            </div>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>What It Means</th>
                        <th>What to Look For</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>train_loss</td>
                        <td>Error on training data</td>
                        <td>Should decrease steadily</td>
                    </tr>
                    <tr>
                        <td>valid_loss</td>
                        <td>Error on validation data</td>
                        <td>Should decrease with train_loss</td>
                    </tr>
                    <tr>
                        <td>error_rate</td>
                        <td>Percentage of wrong predictions</td>
                        <td>Lower is better (0.064516 = 6.45% error)</td>
                    </tr>
                    <tr>
                        <td>time</td>
                        <td>Seconds per epoch</td>
                        <td>Varies by hardware</td>
                    </tr>
                </tbody>
            </table>

            <div class="success-box">
                <strong>Success Indicators:</strong>
                <ul>
                    <li>Training loss decreases each epoch</li>
                    <li>Validation loss follows training loss (not much higher)</li>
                    <li>Error rate below 10% after a few epochs</li>
                    <li>No error messages during training</li>
                </ul>
            </div>

            <div class="warning-box">
                <strong>Warning Signs:</strong>
                <ul>
                    <li><strong>Loss stays constant:</strong> Model is not learning (check learning rate)</li>
                    <li><strong>Error rate at 50%:</strong> Model is guessing randomly (check data labels)</li>
                    <li><strong>Valid_loss >> train_loss:</strong> Overfitting (use data augmentation)</li>
                </ul>
            </div>
        </div>

        <!-- Section 7: Step 5 - Deploy -->
        <div class="section">
            <h2>Step 5: Making Predictions</h2>
            <p>After training, the model becomes a simple function: input image → output prediction.</p>

            <div class="code-block">
<span class="code-annotation"># Make a prediction on a new image</span>
is_bird, _, probs = learn.predict(PILImage.create(<span style="color: #e6db74;">'bird.jpg'</span>))

<span class="code-annotation"># Display results</span>
<span style="color: #66d9ef;">print</span>(<span style="color: #e6db74;">f"This is a: {is_bird}"</span>)
<span style="color: #66d9ef;">print</span>(<span style="color: #e6db74;">f"Probability it's a bird: {probs[0]:.4f}"</span>)

<span class="code-annotation"># Output:</span>
<span class="code-annotation"># This is a: bird</span>
<span class="code-annotation"># Probability it's a bird: 0.9988</span>
            </div>

            <h3>From Training to Production</h3>
            <p>Once trained, the model is simply executable code that can be integrated into any application:</p>

            <div class="diagram-box">
                <div style="text-align: center; padding: 20px;">
                    <div style="display: inline-block; padding: 20px; border: 2px solid #c41e3a; margin: 10px;">
                        <strong>Input</strong><br>Image File
                    </div>
                    <span style="font-size: 2em; color: #c41e3a;">→</span>
                    <div style="display: inline-block; padding: 20px; border: 2px solid #c41e3a; margin: 10px;">
                        <strong>Model</strong><br>learn.predict()
                    </div>
                    <span style="font-size: 2em; color: #c41e3a;">→</span>
                    <div style="display: inline-block; padding: 20px; border: 2px solid #c41e3a; margin: 10px;">
                        <strong>Output</strong><br>Label + Probability
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz 4 -->
        <div class="quiz" id="quiz4">
            <h3>Quiz 4: Understanding Training Metrics</h3>
            <div class="quiz-question">
                If your model shows error_rate = 0.064516, what does this mean?
            </div>
            <ul class="quiz-options">
                <li onclick="checkAnswer(4, this, false)">A) The model is 6.45% accurate</li>
                <li onclick="checkAnswer(4, this, true)">B) The model makes incorrect predictions 6.45% of the time (93.55% accurate)</li>
                <li onclick="checkAnswer(4, this, false)">C) The model will always make exactly 6.45 errors</li>
                <li onclick="checkAnswer(4, this, false)">D) The training took 6.45 seconds</li>
            </ul>
            <div class="quiz-feedback" id="feedback4"></div>
        </div>

        <!-- Section 8: Understanding How It Works -->
        <div class="section">
            <h2>How Neural Networks Learn: Core Concepts</h2>
            
            <h3>Traditional Programming vs. Machine Learning</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Traditional Programming</th>
                        <th>Machine Learning</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Input + Program → Output</td>
                        <td>Input + Weights → Output</td>
                    </tr>
                    <tr>
                        <td>Programmer writes explicit rules</td>
                        <td>Model learns patterns from data</td>
                    </tr>
                    <tr>
                        <td>Rules are fixed</td>
                        <td>Weights are learned through training</td>
                    </tr>
                    <tr>
                        <td>Example: if (pixels > threshold) return "bird"</td>
                        <td>Example: multiply inputs by learned weights</td>
                    </tr>
                </tbody>
            </table>

            <h3>What Are Weights?</h3>
            <p>Weights are numbers (parameters) that the model adjusts during training. A typical deep learning model contains millions of weights.</p>

            <div class="highlight-box">
                <strong>Scale of Modern Models:</strong>
                <ul>
                    <li>ResNet18: 11 million weights</li>
                    <li>ResNet50: 25 million weights</li>
                    <li>GPT-3: 175 billion weights</li>
                </ul>
            </div>

            <h3>The Learning Process</h3>
            <div class="diagram-box">
                <h4>Simplified Training Loop</h4>
                <pre style="background: #f5f5f5; padding: 15px; border-left: 4px solid #c41e3a;">
1. Initialize weights randomly
2. For each batch of images:
   a. Make predictions using current weights
   b. Calculate loss (how wrong the predictions are)
   c. Calculate gradients (which direction to adjust weights)
   d. Update weights slightly in the right direction
3. Repeat until loss stops decreasing
                </pre>
            </div>

            <h3>Loss Function: Measuring Error</h3>
            <p>The loss function quantifies how wrong our predictions are. Lower loss = better predictions.</p>

            <div class="code-block">
<span class="code-annotation"># Simplified loss calculation</span>
<span style="color: #66d9ef;">def</span> <span style="color: #a6e22e;">calculate_loss</span>(predictions, actual_labels):
    <span class="code-annotation"># How far are predictions from truth?</span>
    errors = predictions - actual_labels
    <span class="code-annotation"># Square the errors (penalize larger mistakes more)</span>
    squared_errors = errors ** <span style="color: #ae81ff;">2</span>
    <span class="code-annotation"># Average across all examples</span>
    loss = mean(squared_errors)
    <span style="color: #66d9ef;">return</span> loss
            </div>

            <h3>Universal Approximation Theorem</h3>
            <p>Neural networks with sufficient depth and width can approximate any continuous function. This theoretical foundation explains why deep learning works for such diverse tasks.</p>

            <div class="highlight-box">
                <strong>Key Components of a Neural Network Layer:</strong>
                <ul>
                    <li><strong>Linear Transformation:</strong> y = Wx + b (matrix multiplication + bias)</li>
                    <li><strong>Activation Function:</strong> ReLU(x) = max(0, x) (introduces non-linearity)</li>
                    <li><strong>Stacking Layers:</strong> Combining multiple layers enables complex pattern recognition</li>
                </ul>
            </div>
        </div>

        <!-- Section 9: When to Use Deep Learning -->
        <div class="section">
            <h2>When to Use (and Not Use) Deep Learning</h2>

            <h3>The One-Second Rule</h3>
            <div class="success-box">
                <strong>Deep Learning Excels When:</strong>
                <p>An expert human can make the decision in less than one second by looking or listening.</p>
                <p><strong>Examples:</strong></p>
                <ul>
                    <li>Is this a bird? ✓ (image classification)</li>
                    <li>Is this email spam? ✓ (text classification)</li>
                    <li>What object is at this location? ✓ (object detection)</li>
                    <li>What did the person say? ✓ (speech recognition)</li>
                </ul>
            </div>

            <div class="warning-box">
                <strong>Deep Learning Struggles With:</strong>
                <ul>
                    <li>Tasks requiring long chains of logical reasoning</li>
                    <li>Predictions requiring real-time external data (stock prices, elections)</li>
                    <li>Tasks with very limited training data (< 50 examples)</li>
                    <li>Scenarios requiring perfect accuracy (safety-critical systems without human oversight)</li>
                </ul>
            </div>

            <h3>Current State-of-the-Art Applications</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Domain</th>
                        <th>Tasks</th>
                        <th>Typical Accuracy</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Computer Vision</td>
                        <td>Classification, detection, segmentation</td>
                        <td>95-99% on standard benchmarks</td>
                    </tr>
                    <tr>
                        <td>Natural Language</td>
                        <td>Translation, summarization, question answering</td>
                        <td>Human-level on many tasks</td>
                    </tr>
                    <tr>
                        <td>Medical Imaging</td>
                        <td>Disease detection in X-rays, MRIs</td>
                        <td>Matches or exceeds radiologist performance</td>
                    </tr>
                    <tr>
                        <td>Recommendation</td>
                        <td>Product, movie, content recommendations</td>
                        <td>Powers Netflix, YouTube, Amazon</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Quiz 5 -->
        <div class="quiz" id="quiz5">
            <h3>Quiz 5: Application Suitability</h3>
            <div class="quiz-question">
                Which of these tasks is MOST suitable for deep learning?
            </div>
            <ul class="quiz-options">
                <li onclick="checkAnswer(5, this, false)">A) Predicting tomorrow's stock market closing price</li>
                <li onclick="checkAnswer(5, this, true)">B) Identifying whether a medical image shows signs of pneumonia</li>
                <li onclick="checkAnswer(5, this, false)">C) Calculating tax returns based on complex legal rules</li>
                <li onclick="checkAnswer(5, this, false)">D) Predicting election outcomes with 100% certainty</li>
            </ul>
            <div class="quiz-feedback" id="feedback5"></div>
        </div>

        <!-- Section 10: Common Issues -->
        <div class="section">
            <h2>Troubleshooting Common Issues</h2>

            <h3>Runtime Errors</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Error Message</th>
                        <th>Cause</th>
                        <th>Solution</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>CUDA out of memory</td>
                        <td>Batch size too large for GPU</td>
                        <td>Reduce batch size: bs=32 → bs=16</td>
                    </tr>
                    <tr>
                        <td>No module named 'fastai'</td>
                        <td>Library not installed</td>
                        <td>Run: !pip install fastai</td>
                    </tr>
                    <tr>
                        <td>FileNotFoundError</td>
                        <td>Incorrect file path</td>
                        <td>Verify path with os.listdir()</td>
                    </tr>
                    <tr>
                        <td>All images are corrupted</td>
                        <td>Download failed</td>
                        <td>Check internet connection, re-download</td>
                    </tr>
                </tbody>
            </table>

            <h3>Poor Model Performance</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Symptom</th>
                        <th>Likely Cause</th>
                        <th>Solution</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Error rate stays at 50%</td>
                        <td>Model is guessing randomly</td>
                        <td>Check labels are correct, ensure data quality</td>
                    </tr>
                    <tr>
                        <td>Loss doesn't decrease</td>
                        <td>Learning rate too high or too low</td>
                        <td>Use learn.lr_find() to find optimal rate</td>
                    </tr>
                    <tr>
                        <td>Valid_loss > train_loss significantly</td>
                        <td>Overfitting</td>
                        <td>Add data augmentation, collect more data</td>
                    </tr>
                    <tr>
                        <td>Training extremely slow</td>
                        <td>Large images, no GPU</td>
                        <td>Resize images smaller, enable GPU in Kaggle</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Final Checkpoint -->
        <div class="checkpoint">
            <h3>Final Checkpoint</h3>
            <p>Before completing this week, you should be able to:</p>
            <ul>
                <li>Explain the 5-step FastAI workflow</li>
                <li>Describe what transfer learning is and why it works</li>
                <li>Interpret training metrics (loss, error_rate)</li>
                <li>Identify when deep learning is appropriate</li>
                <li>Troubleshoot common errors</li>
            </ul>
        </div>

        <!-- Homework Assignment -->
        <div class="homework-box">
            <h2>Week 1 Homework Assignment</h2>
            <p><strong>Due:</strong> Before Week 2 lecture</p>
            
            <h3>Required Task:</h3>
            <ol>
                <li>Open the provided Kaggle notebook for Week 1</li>
                <li>Modify the bird/forest classifier to classify something you are interested in (e.g., cats vs. dogs, roses vs. sunflowers, pizza vs. pasta)</li>
                <li>Train your model and achieve at least 80% accuracy</li>
                <li>Take a screenshot of your training results</li>
                <li>Test your model on 3 new images not in your training set</li>
                <li>Submit your notebook link and screenshots to LearnJCU</li>
            </ol>

            <h3>Success Criteria:</h3>
            <ul>
                <li>Error rate < 0.2 (80% accuracy)</li>
                <li>At least 100 images per category</li>
                <li>Clear documentation of your category choices</li>
                <li>Working predictions on test images</li>
            </ul>

            <h3>Bonus Challenge (Optional):</h3>
            <p>Experiment with different architectures (resnet34, resnet50) and compare their performance. Which gives the best accuracy? Which trains fastest?</p>
        </div>

        <!-- Resources -->
        <div class="section">
            <h2>Additional Resources</h2>
            
            <h3>Required Reading:</h3>
            <ul>
                <li>FastAI Book Chapter 1: <a href="https://github.com/fastai/fastbook" target="_blank">Your First Model</a></li>
                <li>FastAI Documentation: <a href="https://docs.fast.ai/" target="_blank">docs.fast.ai</a></li>
            </ul>

            <h3>Recommended Video:</h3>
            <ul>
                <li>FastAI 2022 Lesson 1: <a href="https://course.fast.ai/" target="_blank">Getting Started</a></li>
            </ul>

            <h3>Practice Platforms:</h3>
            <ul>
                <li><strong>Kaggle:</strong> Free GPU access, 30 hours/week</li>
                <li><strong>Google Colab:</strong> Free GPU access with limitations</li>
                <li><strong>Paperspace Gradient:</strong> Free tier available</li>
            </ul>

            <h3>Getting Help:</h3>
            <ul>
                <li><strong>FastAI Forums:</strong> <a href="https://forums.fast.ai/" target="_blank">forums.fast.ai</a></li>
                <li><strong>LearnJCU Discussion Board:</strong> Ask questions, help peers</li>
                <li><strong>Consultation Hours:</strong> See course outline for schedule</li>
            </ul>
        </div>

        <!-- Summary -->
        <div class="section">
            <h2>Week 1 Summary</h2>
            <p>This week you learned the foundations of practical deep learning:</p>

            <div class="success-box">
                <h3>Key Takeaways:</h3>
                <ol>
                    <li><strong>Top-down learning works:</strong> Build first, understand theory later</li>
                    <li><strong>Transfer learning is powerful:</strong> Achieve excellent results with limited data</li>
                    <li><strong>The 5-step workflow:</strong> Get data → Prepare → Create → Train → Deploy</li>
                    <li><strong>Deep learning excels at perception tasks:</strong> Especially those solvable in < 1 second</li>
                    <li><strong>You can build production models today:</strong> No PhD required</li>
                </ol>
            </div>

            <div class="highlight-box">
                <h3>Next Week Preview:</h3>
                <p>In Week 2, we will explore:</p>
                <ul>
                    <li>Data augmentation techniques to improve model performance</li>
                    <li>How to find the optimal learning rate</li>
                    <li>Understanding what models learn (visualizing activations)</li>
                    <li>Deploying models to production (web apps, mobile)</li>
                    <li>Ethics in deep learning: bias, fairness, and responsible AI</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Quiz functionality
        function checkAnswer(quizNum, element, isCorrect) {
            const quiz = document.getElementById('quiz' + quizNum);
            const feedback = document.getElementById('feedback' + quizNum);
            const options = quiz.querySelectorAll('.quiz-options li');
            
            // Disable all options after selection
            options.forEach(option => {
                option.style.cursor = 'default';
                option.onclick = null;
            });
            
            // Mark the selected answer
            if (isCorrect) {
                element.classList.add('correct');
                feedback.className = 'quiz-feedback show correct';
                feedback.innerHTML = '<strong>Correct!</strong> ' + getExplanation(quizNum, true);
            } else {
                element.classList.add('incorrect');
                feedback.className = 'quiz-feedback show incorrect';
                feedback.innerHTML = '<strong>Incorrect.</strong> ' + getExplanation(quizNum, false);
            }
        }

        function getExplanation(quizNum, isCorrect) {
            const explanations = {
                1: {
                    correct: 'The FastAI approach emphasizes building working models first, then understanding the underlying mathematics as needed. This context-first approach has been shown to improve learning outcomes.',
                    incorrect: 'The FastAI approach is characterized by building working models first (top-down learning), not starting with pure theory. This allows you to see practical applications before diving into mathematics.'
                },
                2: {
                    correct: 'The validation set provides an unbiased measure of model performance on data the model has never seen during training. This is crucial for detecting overfitting and ensuring the model generalizes well.',
                    incorrect: 'The primary purpose of a validation set is to measure generalization: how well the model performs on new, unseen data. Without this, we cannot know if the model has simply memorized the training data.'
                },
                3: {
                    correct: 'Transfer learning allows us to start with a model that already knows general image features from training on millions of images. We only need limited data to teach it the specific task at hand.',
                    incorrect: 'Transfer learning works by reusing features learned from large datasets (like ImageNet), allowing us to build accurate models with far less data than training from scratch would require.'
                },
                4: {
                    correct: 'An error_rate of 0.064516 means 6.45% of predictions are incorrect, which means 93.55% are correct. This is excellent performance for most classification tasks.',
                    incorrect: 'The error_rate represents the fraction of incorrect predictions. An error_rate of 0.064516 means 6.45% wrong, which translates to 93.55% accuracy.'
                },
                5: {
                    correct: 'Medical image diagnosis is an ideal deep learning task: an expert can identify patterns in seconds, there are large labeled datasets available, and the pattern recognition nature suits neural networks perfectly.',
                    incorrect: 'Deep learning excels at pattern recognition tasks that humans can perform quickly. Medical image analysis fits this perfectly. Stock prediction and election outcomes require complex reasoning about future events with many variables, which is much harder for neural networks.'
                }
            };
            
            return explanations[quizNum][isCorrect ? 'correct' : 'incorrect'];
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Progress tracking
        let quizzesCompleted = 0;
        const totalQuizzes = 5;

        function updateProgress() {
            quizzesCompleted++;
            if (quizzesCompleted === totalQuizzes) {
                console.log('All quizzes completed!');
                // You could add a completion message here
            }
        }

        // Add to checkAnswer function
        const originalCheckAnswer = checkAnswer;
        checkAnswer = function(quizNum, element, isCorrect) {
            originalCheckAnswer(quizNum, element, isCorrect);
            updateProgress();
        };
    </script>
</body>
</html>