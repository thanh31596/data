<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuralProphet - Interactive Learning</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Helvetica', Arial, sans-serif;
            background: white;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 2px solid #3498db;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.24em; /* 2.8 * 0.8 */
            color: #2c3e50;
            font-weight: 300;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 0.96em; /* 1.2 * 0.8 */
            color: #7f8c8d;
        }
        
        .tab-container {
            margin-bottom: 30px;
        }
        
        .tab-nav {
            display: flex;
            border-bottom: 2px solid #e9ecef;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .tab-button {
            background: #f8f9fa;
            border: none;
            padding: 15px 20px;
            cursor: pointer;
            font-size: 12.8px; /* 16 * 0.8 */
            font-family: 'Helvetica', Arial, sans-serif;
            color: #495057;
            border-radius: 8px 8px 0 0;
            transition: all 0.3s;
            flex: 1;
            min-width: 140px;
        }
        
        .tab-button:hover {
            background: #e9ecef;
            color: #2c3e50;
        }
        
        .tab-button.active {
            background: #3498db;
            color: white;
            font-weight: bold;
        }
        
        .tab-content {
            display: none;
            min-height: 500px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 0 0 10px 10px;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section-title {
            font-size: 1.76em; /* 2.2 * 0.8 */
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: 300;
        }
        
        .section-subtitle {
            font-size: 1.28em; /* 1.6 * 0.8 */
            color: #34495e;
            margin-bottom: 15px;
            margin-top: 25px;
        }
        
        .business-question {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        
        .business-question h3 {
            color: white;
            margin-bottom: 15px;
            font-size: 1.28em; /* 1.6 * 0.8 */
        }
        
        .dataset-table {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        
        .dataset-table table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .dataset-table th, .dataset-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #e9ecef;
            font-size: 0.88em; /* 1.1 * 0.8 */
        }
        
        .dataset-table th {
            background: #34495e;
            color: white;
            font-weight: bold;
        }
        
        .dataset-table tr:hover {
            background: #f8f9fa;
        }
        
        .feature-column {
            background: #a8e6cf !important;
        }
        
        .target-column {
            background: #ffb3ba !important;
        }
        
        .visualization-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .control-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 11.2px; /* 14 * 0.8 */
            transition: all 0.3s;
            font-family: 'Helvetica', Arial, sans-serif;
        }
        
        .control-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .control-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }
        
        .algorithm-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .algorithm-step {
            background: white;
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .algorithm-step:hover {
            transform: translateY(-5px);
        }
        
        .algorithm-step h4 {
            color: #2980b9;
            margin-bottom: 10px;
            font-size: 0.96em; /* 1.2 * 0.8 */
        }
        
        .algorithm-step p {
            font-size: 0.88em; /* 1.1 * 0.8 */
        }
        
        .key-concepts {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .key-concepts h3 {
            color: #856404;
            margin-bottom: 15px;
            font-size: 1.28em; /* 1.6 * 0.8 */
        }
        
        .concept-list {
            list-style: none;
            padding: 0;
        }
        
        .concept-list li {
            margin: 10px 0;
            padding-left: 20px;
            position: relative;
            font-size: 0.88em; /* 1.1 * 0.8 */
        }
        
        .concept-list li:before {
            content: "→";
            position: absolute;
            left: 0;
            color: #ffc107;
            font-weight: bold;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .metric-card {
            background: white;
            border: 2px solid #27ae60;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        
        .metric-value {
            font-size: 1.6em; /* 2.0 * 0.8 */
            font-weight: bold;
            color: #27ae60;
            margin: 10px 0;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.88em; /* 1.1 * 0.8 */
        }
        
        .legend-circle {
            width: 16px;
            height: 16px;
            border-radius: 50%;
        }
        
        .legend-line {
            width: 20px;
            height: 3px;
        }
        
        .back-link {
            text-align: center;
            margin: 30px 0;
        }
        
        .back-link a {
            background: #34495e;
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 25px;
            font-size: 0.88em; /* 1.1 * 0.8 */
            transition: all 0.3s;
        }
        
        .back-link a:hover {
            background: #2c3e50;
            transform: translateY(-2px);
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .comparison-item {
            background: white;
            border: 2px solid #3498db;
            border-radius: 10px;
            padding: 20px;
        }
        
        .comparison-item h4 {
            color: #2980b9;
            margin-bottom: 15px;
            font-size: 1.04em; /* 1.3 * 0.8 */
        }
        
        .comparison-item p, .comparison-item li {
            font-size: 0.88em; /* 1.1 * 0.8 */
        }
        
        /* Time Series Specific Styles */
        .slider-container {
            margin: 20px 0;
        }
        
        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.88em; /* 1.1 * 0.8 */
        }
        
        .slider {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            background: #e9ecef;
            border-radius: 4px;
            outline: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3498db;
            cursor: pointer;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
        }
        
        .chart-container {
            height: 450px;
            background: #f8f9fa;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            border: 2px solid #e9ecef;
        }
        
        .forecast-info {
            background: #e8f5e8;
            border: 2px solid #27ae60;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .forecast-info h4 {
            color: #27ae60;
            margin-bottom: 10px;
            font-size: 1.04em; /* 1.3 * 0.8 */
        }
        
        p {
            font-size: 0.88em; /* 1.1 * 0.8 */
            margin-bottom: 15px;
        }
        
        .time-series-components {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .component-card {
            background: white;
            border: 2px solid #9b59b6;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }
        
        .component-card h4 {
            color: #8e44ad;
            margin-bottom: 10px;
            font-size: 0.96em;
        }
        
        @media (max-width: 768px) {
            .tab-nav {
                flex-direction: column;
            }
            
            .tab-button {
                flex: none;
                min-width: none;
            }
            
            .algorithm-steps {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .legend {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>NeuralProphet</h1>
            <p>Advanced Time Series Forecasting with Neural Networks</p>
        </div>
        
        <div class="tab-container">
            <div class="tab-nav">
                <button class="tab-button active" onclick="showTab('business')">Business Scenario</button>
                <button class="tab-button" onclick="showTab('what-is')">What is NeuralProphet</button>
                <button class="tab-button" onclick="showTab('interactive')">Interactive Demo</button>
                <button class="tab-button" onclick="showTab('how-works')">How It Works</button>
                <button class="tab-button" onclick="showTab('evaluation')">Performance</button>
                <button class="tab-button" onclick="showTab('when-use')">When to Use</button>
            </div>
            
            <!-- Tab 1: Business Scenario -->
            <div id="business" class="tab-content active">
                <h2 class="section-title">Business Scenario: E-commerce Sales Forecasting</h2>
                
                <div class="business-question">
                    <h3>Business Question</h3>
                    <p>"Can we accurately predict our online sales for the next 12 months to optimize inventory, staffing, and marketing budgets? We need a model that captures complex patterns like seasonality, trends, and special events."</p>
                </div>
                
                <h3 class="section-subtitle">Our Dataset: Monthly Sales Data</h3>
                <p>We have 3 years of monthly e-commerce sales data showing clear seasonal patterns and growth trends:</p>
                
                <div class="dataset-table">
                    <table>
                        <thead>
                            <tr>
                                <th class="feature-column">Date</th>
                                <th class="target-column">Monthly Sales ($)</th>
                                <th class="feature-column">Holiday Month</th>
                                <th class="feature-column">Marketing Spend ($)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="feature-column">2021-01</td>
                                <td class="target-column">$125,000</td>
                                <td class="feature-column">No</td>
                                <td class="feature-column">$15,000</td>
                            </tr>
                            <tr>
                                <td class="feature-column">2021-02</td>
                                <td class="target-column">$118,000</td>
                                <td class="feature-column">No</td>
                                <td class="feature-column">$12,000</td>
                            </tr>
                            <tr>
                                <td class="feature-column">2021-03</td>
                                <td class="target-column">$135,000</td>
                                <td class="feature-column">No</td>
                                <td class="feature-column">$18,000</td>
                            </tr>
                            <tr>
                                <td class="feature-column">2021-11</td>
                                <td class="target-column">$285,000</td>
                                <td class="feature-column">Yes</td>
                                <td class="feature-column">$45,000</td>
                            </tr>
                            <tr>
                                <td class="feature-column">2021-12</td>
                                <td class="target-column">$320,000</td>
                                <td class="feature-column">Yes</td>
                                <td class="feature-column">$50,000</td>
                            </tr>
                            <tr>
                                <td class="feature-column">2023-12</td>
                                <td class="target-column">$425,000</td>
                                <td class="feature-column">Yes</td>
                                <td class="feature-column">$65,000</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-circle" style="background: #a8e6cf;"></div>
                        <span>Time Features (Date, Holidays, Marketing)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-circle" style="background: #ffb3ba;"></div>
                        <span>Target (Sales Revenue)</span>
                    </div>
                </div>
                
                <div class="key-concepts">
                    <h3>Understanding Time Series Data</h3>
                    <ul class="concept-list">
                        <li><strong>Time Dependency:</strong> Each month's sales depend on previous months and seasonal patterns</li>
                        <li><strong>Seasonality:</strong> Clear holiday spikes in November/December every year</li>
                        <li><strong>Trend:</strong> Overall growth in sales from 2021 to 2023</li>
                        <li><strong>External Factors:</strong> Marketing spend and holidays influence sales</li>
                        <li><strong>Goal:</strong> Predict future sales to optimize business operations</li>
                    </ul>
                </div>
            </div>
            
            <!-- Tab 2: What is NeuralProphet -->
            <div id="what-is" class="tab-content">
                <h2 class="section-title">What is NeuralProphet?</h2>
                
                <p>NeuralProphet is an advanced time series forecasting library that combines traditional time series analysis with neural networks. It's designed to capture complex patterns in sequential data and make accurate future predictions.</p>
                
                <div class="key-concepts">
                    <h3>Think of it Like This</h3>
                    <ul class="concept-list">
                        <li><strong>Weather Prediction:</strong> Like meteorologists use past weather patterns to forecast future weather</li>
                        <li><strong>Memory + Learning:</strong> Remembers historical patterns and learns complex relationships</li>
                        <li><strong>Multiple Patterns:</strong> Captures daily, weekly, monthly, and yearly cycles simultaneously</li>
                        <li><strong>Uncertainty:</strong> Provides confidence intervals, not just point predictions</li>
                    </ul>
                </div>
                
                <div class="time-series-components">
                    <div class="component-card">
                        <h4>Trend</h4>
                        <p>Long-term growth or decline in the data</p>
                    </div>
                    <div class="component-card">
                        <h4>Seasonality</h4>
                        <p>Repeating patterns (daily, weekly, yearly)</p>
                    </div>
                    <div class="component-card">
                        <h4>Autoregression</h4>
                        <p>How past values influence future values</p>
                    </div>
                    <div class="component-card">
                        <h4>External Factors</h4>
                        <p>Holiday effects, marketing campaigns, events</p>
                    </div>
                </div>
                
                <div class="comparison-grid">
                    <div class="comparison-item">
                        <h4>Advantages of NeuralProphet</h4>
                        <ul>
                            <li>Handles complex non-linear patterns</li>
                            <li>Automatic seasonality detection</li>
                            <li>Incorporates external variables</li>
                            <li>Provides uncertainty quantification</li>
                            <li>Scalable to large datasets</li>
                            <li>Built-in change point detection</li>
                        </ul>
                    </div>
                    <div class="comparison-item">
                        <h4>When NeuralProphet Excels</h4>
                        <ul>
                            <li>Business forecasting (sales, demand)</li>
                            <li>Strong seasonal patterns</li>
                            <li>Multiple time series</li>
                            <li>Need uncertainty estimates</li>
                            <li>Complex trend changes</li>
                            <li>External factor effects</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Tab 3: Interactive Demo -->
            <div id="interactive" class="tab-content">
                <h2 class="section-title">Interactive Forecasting Demo</h2>
                <p>Watch how NeuralProphet analyzes historical sales data and creates future predictions with confidence intervals:</p>
                
                <div class="visualization-container">
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>Forecast Horizon: <span id="horizon-value">12</span> months</span>
                            <span>How far into the future to predict</span>
                        </div>
                        <input type="range" min="6" max="24" value="12" class="slider" id="horizon-slider">
                    </div>
                    
                    <div class="controls">
                        <button class="control-btn" id="show-trend-btn">Show Trend</button>
                        <button class="control-btn" id="show-seasonality-btn">Show Seasonality</button>
                        <button class="control-btn" id="show-forecast-btn">Generate Forecast</button>
                        <button class="control-btn" id="reset-forecast-btn">Reset</button>
                    </div>
                    
                    <div class="forecast-info" id="forecast-info" style="display: none;">
                        <h4>Forecast Analysis</h4>
                        <p id="forecast-description">Forecast information will appear here</p>
                    </div>
                    
                    <div class="chart-container" id="forecast-chart">
                        <!-- Time series chart will be rendered here -->
                    </div>
                    
                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-line" style="background: #3498db;"></div>
                            <span>Historical Sales</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-line" style="background: #27ae60;"></div>
                            <span>Trend Component</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-line" style="background: #9b59b6;"></div>
                            <span>Seasonal Pattern</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-line" style="background: #e74c3c;"></div>
                            <span>Future Predictions</span>
                        </div>
                        <div class="legend-item">
                            <div style="width: 20px; height: 8px; background: rgba(231, 76, 60, 0.2); border-radius: 4px;"></div>
                            <span>Uncertainty Band</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Tab 4: How It Works -->
            <div id="how-works" class="tab-content">
                <h2 class="section-title">How NeuralProphet Works</h2>
                
                <div class="algorithm-steps">
                    <div class="algorithm-step">
                        <h4>1. Data Preparation</h4>
                        <p>Organize time series data with timestamps and handle missing values</p>
                    </div>
                    <div class="algorithm-step">
                        <h4>2. Trend Modeling</h4>
                        <p>Fit flexible trend curves that can change over time with detected change points</p>
                    </div>
                    <div class="algorithm-step">
                        <h4>3. Seasonality Detection</h4>
                        <p>Automatically identify and model repeating patterns at different time scales</p>
                    </div>
                    <div class="algorithm-step">
                        <h4>4. Autoregression</h4>
                        <p>Use neural networks to learn how past values influence future predictions</p>
                    </div>
                    <div class="algorithm-step">
                        <h4>5. External Factors</h4>
                        <p>Incorporate holidays, marketing campaigns, and other external variables</p>
                    </div>
                    <div class="algorithm-step">
                        <h4>6. Neural Network Training</h4>
                        <p>Train deep learning models to combine all components optimally</p>
                    </div>
                </div>
                
                <div class="key-concepts">
                    <h3>Key Components Explained</h3>
                    <ul class="concept-list">
                        <li><strong>Additive Model:</strong> y(t) = trend(t) + seasonality(t) + autoregression(t) + holidays(t) + noise</li>
                        <li><strong>Change Points:</strong> Automatically detect when trends shift (like market changes)</li>
                        <li><strong>Fourier Series:</strong> Mathematical representation of seasonal patterns</li>
                        <li><strong>AR-Net:</strong> Neural network component for autoregressive relationships</li>
                        <li><strong>Lagged Features:</strong> Use past values as inputs to predict future values</li>
                    </ul>
                </div>
                
                <div class="comparison-grid">
                    <div class="comparison-item">
                        <h4>Traditional vs Neural Approach</h4>
                        <ul>
                            <li><strong>Traditional (ARIMA):</strong> Linear relationships, manual tuning</li>
                            <li><strong>Prophet:</strong> Additive model, good seasonality handling</li>
                            <li><strong>NeuralProphet:</strong> Non-linear patterns + automatic optimization</li>
                            <li><strong>Advantage:</strong> Best of both worlds - interpretability + flexibility</li>
                        </ul>
                    </div>
                    <div class="comparison-item">
                        <h4>Uncertainty Quantification</h4>
                        <ul>
                            <li><strong>Point Predictions:</strong> Single best guess for future values</li>
                            <li><strong>Confidence Intervals:</strong> Range of likely outcomes</li>
                            <li><strong>Quantile Regression:</strong> Predict different percentiles</li>
                            <li><strong>Business Value:</strong> Risk assessment and scenario planning</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Tab 5: Performance Evaluation -->
            <div id="evaluation" class="tab-content">
                <h2 class="section-title">Model Performance Evaluation</h2>
                <p>Let's evaluate how well our NeuralProphet model performs on the e-commerce sales forecasting task:</p>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h4>Mean Absolute Error</h4>
                        <div class="metric-value">$8,500</div>
                        <p>Average prediction error in monthly sales</p>
                    </div>
                    <div class="metric-card">
                        <h4>MAPE</h4>
                        <div class="metric-value">4.2%</div>
                        <p>Mean Absolute Percentage Error - relative accuracy</p>
                    </div>
                    <div class="metric-card">
                        <h4>R-squared</h4>
                        <div class="metric-value">94%</div>
                        <p>Variance in sales explained by the model</p>
                    </div>
                    <div class="metric-card">
                        <h4>Coverage</h4>
                        <div class="metric-value">92%</div>
                        <p>Actual values within predicted confidence intervals</p>
                    </div>
                </div>
                
                <div class="key-concepts">
                    <h3>What These Results Mean for Business</h3>
                    <ul class="concept-list">
                        <li><strong>Low MAE ($8,500):</strong> Predictions are typically within $8,500 of actual sales</li>
                        <li><strong>Excellent MAPE (4.2%):</strong> Model is highly accurate across different sales levels</li>
                        <li><strong>High R-squared (94%):</strong> Model captures almost all variation in sales patterns</li>
                        <li><strong>Good Coverage (92%):</strong> Uncertainty estimates are well-calibrated and reliable</li>
                        <li><strong>Business Impact:</strong> Enables confident inventory and resource planning</li>
                    </ul>
                </div>
                
                <div class="comparison-grid">
                    <div class="comparison-item">
                        <h4>Business Impact</h4>
                        <ul>
                            <li><strong>Inventory Optimization:</strong> Reduce stockouts by 35% and overstock by 28%</li>
                            <li><strong>Staff Planning:</strong> Optimize seasonal hiring with 90% accuracy</li>
                            <li><strong>Marketing Budget:</strong> Allocate $2M annual budget based on predicted demand</li>
                            <li><strong>Cash Flow:</strong> Improve working capital management with 12-month visibility</li>
                        </ul>
                    </div>
                    <div class="comparison-item">
                        <h4>Model Comparison</h4>
                        <ul>
                            <li><strong>Simple Moving Average:</strong> 18% MAPE (baseline)</li>
                            <li><strong>Linear Regression:</strong> 12% MAPE (trend only)</li>
                            <li><strong>Prophet:</strong> 6.8% MAPE (good seasonality)</li>
                            <li><strong>NeuralProphet:</strong> 4.2% MAPE (best overall)</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Tab 6: When to Use -->
            <div id="when-use" class="tab-content">
                <h2 class="section-title">When to Use NeuralProphet</h2>
                
                <div class="comparison-grid">
                    <div class="comparison-item">
                        <h4>Perfect for NeuralProphet</h4>
                        <ul>
                            <li><strong>Time series forecasting</strong> - sequential data with time dependency</li>
                            <li><strong>Strong seasonality</strong> - daily, weekly, monthly, yearly patterns</li>
                            <li><strong>Multiple time series</strong> - forecasting many related series</li>
                            <li><strong>External regressors</strong> - holidays, promotions, economic indicators</li>
                            <li><strong>Uncertainty important</strong> - need confidence intervals for decisions</li>
                            <li><strong>Business forecasting</strong> - sales, demand, revenue, traffic</li>
                        </ul>
                    </div>
                    <div class="comparison-item">
                        <h4>Consider Other Methods When</h4>
                        <ul>
                            <li><strong>Very short series</strong> - less than 100 observations</li>
                            <li><strong>No clear patterns</strong> - random walk or pure noise</li>
                            <li><strong>Real-time predictions</strong> - need millisecond response times</li>
                            <li><strong>Simple linear trends</strong> - basic regression might suffice</li>
                            <li><strong>Highly irregular data</strong> - many missing values or outliers</li>
                        </ul>
                    </div>
                </div>
                
                <div class="algorithm-steps">
                    <div class="algorithm-step">
                        <h4>Business Applications</h4>
                        <p>Sales forecasting, demand planning, financial projections, website traffic prediction</p>
                    </div>
                    <div class="algorithm-step">
                        <h4>Alternative Methods</h4>
                        <p>Prophet for simpler cases, LSTM for very complex patterns, ARIMA for traditional approach</p>
                    </div>
                    <div class="algorithm-step">
                        <h4>Implementation</h4>
                        <p>Python library with PyTorch backend, easy integration with existing data pipelines</p>
                    </div>
                </div>
                
                <div class="key-concepts">
                    <h3>Decision Framework: Choose NeuralProphet When</h3>
                    <ul class="concept-list">
                        <li><strong>Data Type:</strong> Time series data with clear timestamps</li>
                        <li><strong>Data Size:</strong> At least 200+ observations for good performance</li>
                        <li><strong>Patterns:</strong> Observable seasonality, trends, or cyclical behavior</li>
                        <li><strong>Business Need:</strong> Accurate forecasts with uncertainty estimates</li>
                        <li><strong>External Factors:</strong> Holiday effects, promotions, or other known influences</li>
                        <li><strong>Accuracy Priority:</strong> High accuracy is more important than interpretability</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="back-link">
            <a href="#" onclick="history.back()">← Back to Main Presentation</a>
        </div>
    </div>

    <script>
        // Generate synthetic sales data for demonstration
        function generateSalesData() {
            const data = [];
            const startDate = new Date('2021-01-01');
            
            for (let i = 0; i < 36; i++) { // 3 years of monthly data
                const date = new Date(startDate);
                date.setMonth(date.getMonth() + i);
                
                // Base trend (growth over time)
                const trend = 100000 + (i * 2000);
                
                // Seasonal component (higher in Nov/Dec)
                const month = date.getMonth();
                let seasonal = 0;
                if (month === 10) seasonal = 50000; // November
                if (month === 11) seasonal = 80000; // December
                if (month >= 2 && month <= 4) seasonal = 20000; // Spring boost
                if (month >= 5 && month <= 7) seasonal = -10000; // Summer dip
                
                // Random noise
                const noise = (Math.random() - 0.5) * 20000;
                
                // Holiday effect
                const isHoliday = month === 10 || month === 11;
                
                const sales = Math.max(50000, trend + seasonal + noise);
                
                data.push({
                    date: date,
                    sales: sales,
                    isHoliday: isHoliday,
                    dateStr: date.toISOString().slice(0, 7) // YYYY-MM format
                });
            }
            return data;
        }
        
        // Tab functionality
        function showTab(tabName) {
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });
            
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => {
                button.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            if (tabName === 'interactive' && !document.querySelector('#forecast-chart svg')) {
                setTimeout(() => {
                    initializeForecastDemo();
                }, 100);
            }
        }
        
        // Forecasting demo variables
        let svg, xScale, yScale, salesData, forecastHorizon = 12;
        let showTrend = false, showSeasonality = false, showForecast = false;
        
        function initializeForecastDemo() {
            salesData = generateSalesData();
            
            const container = d3.select("#forecast-chart");
            container.selectAll("*").remove();
            
            const margin = { top: 40, right: 30, bottom: 60, left: 80 };
            const width = 700 - margin.left - margin.right;
            const height = 450 - margin.top - margin.bottom;
            
            // Scales
            const allDates = salesData.map(d => d.date);
            const maxDate = new Date(Math.max(...allDates));
            const forecastEndDate = new Date(maxDate);
            forecastEndDate.setMonth(forecastEndDate.getMonth() + forecastHorizon);
            
            xScale = d3.scaleTime()
                .domain([salesData[0].date, forecastEndDate])
                .range([0, width]);
            
            yScale = d3.scaleLinear()
                .domain([0, d3.max(salesData, d => d.sales) * 1.3])
                .range([height, 0]);
            
            svg = container.append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);
            
            // Add axes
            svg.append("g")
                .attr("transform", `translate(0,${height})`)
                .call(d3.axisBottom(xScale).tickFormat(d3.timeFormat("%Y-%m")));
            
            svg.append("g")
                .call(d3.axisLeft(yScale).tickFormat(d => "$" + (d/1000) + "K"));
            
            // Add labels
            svg.append("text")
                .attr("transform", `translate(${width/2}, ${height + 50})`)
                .style("text-anchor", "middle")
                .style("fill", "#3498db")
                .style("font-weight", "bold")
                .style("font-size", "12px")
                .text("Time (Year-Month)");
            
            svg.append("text")
                .attr("transform", "rotate(-90)")
                .attr("y", -60)
                .attr("x", -height/2)
                .style("text-anchor", "middle")
                .style("fill", "#3498db")
                .style("font-weight", "bold")
                .style("font-size", "12px")
                .text("Monthly Sales ($)");
            
            // Add title
            svg.append("text")
                .attr("x", width / 2)
                .attr("y", -15)
                .attr("text-anchor", "middle")
                .style("font-size", "16px")
                .style("fill", "#2c3e50")
                .style("font-weight", "bold")
                .text("E-commerce Sales Forecasting with NeuralProphet");
            
            // Draw historical sales line
            const line = d3.line()
                .x(d => xScale(d.date))
                .y(d => yScale(d.sales))
                .curve(d3.curveMonotoneX);
            
            svg.append("path")
                .datum(salesData)
                .attr("class", "sales-line")
                .attr("fill", "none")
                .attr("stroke", "#3498db")
                .attr("stroke-width", 3)
                .attr("d", line);
            
            // Add data points
            svg.selectAll(".data-point")
                .data(salesData)
                .enter()
                .append("circle")
                .attr("class", "data-point")
                .attr("cx", d => xScale(d.date))
                .attr("cy", d => yScale(d.sales))
                .attr("r", d => d.isHoliday ? 6 : 4)
                .attr("fill", d => d.isHoliday ? "#e74c3c" : "#3498db")
                .attr("stroke", "white")
                .attr("stroke-width", 1);
            
            setupForecastControls();
        }
        
        function setupForecastControls() {
            document.getElementById("horizon-slider").addEventListener("input", function() {
                forecastHorizon = parseInt(this.value);
                document.getElementById("horizon-value").textContent = forecastHorizon;
                
                if (showForecast) {
                    drawForecast();
                }
            });
            
            document.getElementById("show-trend-btn").addEventListener("click", function() {
                showTrend = !showTrend;
                this.style.background = showTrend ? "#27ae60" : "#3498db";
                drawTrendComponent();
            });
            
            document.getElementById("show-seasonality-btn").addEventListener("click", function() {
                showSeasonality = !showSeasonality;
                this.style.background = showSeasonality ? "#9b59b6" : "#3498db";
                drawSeasonalComponent();
            });
            
            document.getElementById("show-forecast-btn").addEventListener("click", function() {
                showForecast = !showForecast;
                this.style.background = showForecast ? "#e74c3c" : "#3498db";
                drawForecast();
            });
            
            document.getElementById("reset-forecast-btn").addEventListener("click", function() {
                resetForecast();
            });
        }
        
        function drawTrendComponent() {
            svg.selectAll(".trend-line").remove();
            
            if (showTrend) {
                // Generate trend line
                const trendData = salesData.map((d, i) => ({
                    date: d.date,
                    trend: 100000 + (i * 2000)
                }));
                
                const trendLine = d3.line()
                    .x(d => xScale(d.date))
                    .y(d => yScale(d.trend))
                    .curve(d3.curveMonotoneX);
                
                svg.append("path")
                    .datum(trendData)
                    .attr("class", "trend-line")
                    .attr("fill", "none")
                    .attr("stroke", "#27ae60")
                    .attr("stroke-width", 3)
                    .attr("stroke-dasharray", "5,5")
                    .attr("d", trendLine);
                
                showForecastInfo("Trend Component", 
                    "The trend shows steady growth of approximately $2,000 per month, indicating business expansion over the 3-year period.");
            }
        }
        
        function drawSeasonalComponent() {
            svg.selectAll(".seasonal-line").remove();
            
            if (showSeasonality) {
                // Generate seasonal pattern (extracted from original data)
                const seasonalData = salesData.map(d => {
                    const month = d.date.getMonth();
                    let seasonal = 0;
                    if (month === 10) seasonal = 50000; // November
                    if (month === 11) seasonal = 80000; // December
                    if (month >= 2 && month <= 4) seasonal = 20000; // Spring
                    if (month >= 5 && month <= 7) seasonal = -10000; // Summer
                    
                    return {
                        date: d.date,
                        seasonal: 150000 + seasonal // Offset for visibility
                    };
                });
                
                const seasonalLine = d3.line()
                    .x(d => xScale(d.date))
                    .y(d => yScale(d.seasonal))
                    .curve(d3.curveMonotoneX);
                
                svg.append("path")
                    .datum(seasonalData)
                    .attr("class", "seasonal-line")
                    .attr("fill", "none")
                    .attr("stroke", "#9b59b6")
                    .attr("stroke-width", 3)
                    .attr("stroke-dasharray", "3,3")
                    .attr("d", seasonalLine);
                
                showForecastInfo("Seasonal Component", 
                    "Strong holiday seasonality with peaks in November/December (+60-80K) and moderate spring increases. Summer months show slight dips.");
            }
        }
        
        function drawForecast() {
            svg.selectAll(".forecast-line").remove();
            svg.selectAll(".confidence-band").remove();
            svg.selectAll(".forecast-point").remove();
            
            if (showForecast) {
                // Generate forecast data
                const lastDate = salesData[salesData.length - 1].date;
                const lastSales = salesData[salesData.length - 1].sales;
                const forecastData = [];
                
                for (let i = 1; i <= forecastHorizon; i++) {
                    const forecastDate = new Date(lastDate);
                    forecastDate.setMonth(forecastDate.getMonth() + i);
                    
                    // Trend continuation
                    const trend = lastSales + (i * 2000);
                    
                    // Seasonal effect
                    const month = forecastDate.getMonth();
                    let seasonal = 0;
                    if (month === 10) seasonal = 50000;
                    if (month === 11) seasonal = 80000;
                    if (month >= 2 && month <= 4) seasonal = 20000;
                    if (month >= 5 && month <= 7) seasonal = -10000;
                    
                    const forecast = trend + seasonal;
                    const uncertainty = Math.sqrt(i) * 15000; // Increasing uncertainty
                    
                    forecastData.push({
                        date: forecastDate,
                        forecast: forecast,
                        lower: forecast - uncertainty,
                        upper: forecast + uncertainty
                    });
                }
                
                // Draw confidence band
                const area = d3.area()
                    .x(d => xScale(d.date))
                    .y0(d => yScale(d.lower))
                    .y1(d => yScale(d.upper))
                    .curve(d3.curveMonotoneX);
                
                svg.append("path")
                    .datum(forecastData)
                    .attr("class", "confidence-band")
                    .attr("fill", "rgba(231, 76, 60, 0.2)")
                    .attr("d", area);
                
                // Draw forecast line
                const forecastLine = d3.line()
                    .x(d => xScale(d.date))
                    .y(d => yScale(d.forecast))
                    .curve(d3.curveMonotoneX);
                
                svg.append("path")
                    .datum(forecastData)
                    .attr("class", "forecast-line")
                    .attr("fill", "none")
                    .attr("stroke", "#e74c3c")
                    .attr("stroke-width", 3)
                    .attr("d", forecastLine);
                
                // Add forecast points
                svg.selectAll(".forecast-point")
                    .data(forecastData)
                    .enter()
                    .append("circle")
                    .attr("class", "forecast-point")
                    .attr("cx", d => xScale(d.date))
                    .attr("cy", d => yScale(d.forecast))
                    .attr("r", 4)
                    .attr("fill", "#e74c3c")
                    .attr("stroke", "white")
                    .attr("stroke-width", 2);
                
                const avgForecast = d3.mean(forecastData, d => d.forecast);
                showForecastInfo("Future Predictions", 
                    `${forecastHorizon}-month forecast shows average monthly sales of $${Math.round(avgForecast/1000)}K with continued growth and seasonal patterns. Confidence intervals widen over time as uncertainty increases.`);
            }
        }
        
        function showForecastInfo(title, description) {
            document.getElementById("forecast-info").style.display = "block";
            document.getElementById("forecast-description").innerHTML = `<strong>${title}:</strong> ${description}`;
        }
        
        function resetForecast() {
            showTrend = false;
            showSeasonality = false;
            showForecast = false;
            
            // Reset button colors
            document.getElementById("show-trend-btn").style.background = "#3498db";
            document.getElementById("show-seasonality-btn").style.background = "#3498db";
            document.getElementById("show-forecast-btn").style.background = "#3498db";
            
            // Remove all components
            svg.selectAll(".trend-line").remove();
            svg.selectAll(".seasonal-line").remove();
            svg.selectAll(".forecast-line").remove();
            svg.selectAll(".confidence-band").remove();
            svg.selectAll(".forecast-point").remove();
            
            document.getElementById("forecast-info").style.display = "none";
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Visualization will be initialized when interactive tab is clicked
        });
    </script>
</body>
</html>