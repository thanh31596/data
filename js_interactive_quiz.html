<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Fundamentals Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        .quiz-container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .quiz-header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 20px;
        }

        .quiz-header h1 {
            color: #4a5568;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e2e8f0;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 5px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .score-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f7fafc;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        .question-container {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .question-container.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question {
            background: #f8f9ff;
            border-left: 4px solid #667eea;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 0 10px 10px 0;
        }

        .question h3 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .code-block {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
            border-left: 4px solid #667eea;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .option.selected {
            border-color: #667eea;
            background: #eef2ff;
        }

        .option.correct {
            border-color: #48bb78;
            background: #c6f6d5;
        }

        .option.incorrect {
            border-color: #f56565;
            background: #fed7d7;
        }

        .option input[type="radio"] {
            margin-right: 10px;
        }

        .text-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1em;
            font-family: 'Courier New', monospace;
            background: white;
        }

        .text-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .code-input {
            width: 100%;
            min-height: 100px;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            background: #f7fafc;
            resize: vertical;
        }

        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .feedback.correct {
            background: #c6f6d5;
            color: #22543d;
            border: 1px solid #48bb78;
        }

        .feedback.incorrect {
            background: #fed7d7;
            color: #c53030;
            border: 1px solid #f56565;
        }

        .feedback.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
        }

        .nav-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .nav-button:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }

        .nav-button:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
        }

        .check-button {
            background: #48bb78;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 15px;
        }

        .check-button:hover {
            background: #38a169;
        }

        .results-container {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .results-container.show {
            display: block;
        }

        .final-score {
            font-size: 3em;
            color: #667eea;
            font-weight: bold;
            margin: 20px 0;
        }

        .grade {
            font-size: 1.5em;
            margin: 15px 0;
            padding: 20px;
            border-radius: 10px;
        }

        .grade.excellent {
            background: #c6f6d5;
            color: #22543d;
        }

        .grade.good {
            background: #bee3f8;
            color: #2c5282;
        }

        .grade.fair {
            background: #fbb6ce;
            color: #97266d;
        }

        .grade.needs-improvement {
            background: #fed7d7;
            color: #c53030;
        }

        .restart-button {
            background: #764ba2;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            margin-top: 20px;
        }

        .question-counter {
            color: #718096;
            font-weight: 600;
        }

        .topic-badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: 600;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="quiz-header">
            <h1>JavaScript Fundamentals Quiz</h1>
            <p>Test your understanding of JavaScript concepts</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>

        <div class="score-display">
            <div class="question-counter">
                Question <span id="current-question">1</span> of <span id="total-questions">20</span>
            </div>
            <div>
                Score: <span id="current-score">0</span> / <span id="total-score">0</span>
            </div>
        </div>

        <!-- Question 1: Script Placement -->
        <div class="question-container active" data-question="1">
            <div class="question">
                <div class="topic-badge">JavaScript in HTML</div>
                <h3>In what order will these console.log messages appear?</h3>
                <div class="code-block">
&lt;html&gt;
&lt;head&gt;
    &lt;script&gt;console.log("Script A");&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;My Website&lt;/h1&gt;
    &lt;script&gt;console.log("Script B");&lt;/script&gt;
    &lt;p&gt;Content here&lt;/p&gt;
    &lt;script&gt;console.log("Script C");&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q1" value="a"> Script B, Script A, Script C
                    </label>
                    <label class="option">
                        <input type="radio" name="q1" value="b"> Script A, Script B, Script C
                    </label>
                    <label class="option">
                        <input type="radio" name="q1" value="c"> Script C, Script B, Script A
                    </label>
                    <label class="option">
                        <input type="radio" name="q1" value="d"> They all run simultaneously
                    </label>
                </div>
                <button class="check-button" onclick="checkAnswer(1, 'b')">Check Answer</button>
                <div class="feedback" id="feedback-1"></div>
            </div>
        </div>

        <!-- Question 2: JavaScript Methods -->
        <div class="question-container" data-question="2">
            <div class="question">
                <div class="topic-badge">JavaScript in HTML</div>
                <h3>Which JavaScript inclusion method is best for a large project with multiple pages?</h3>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q2" value="a"> Inline JavaScript (onclick="...")
                    </label>
                    <label class="option">
                        <input type="radio" name="q2" value="b"> Internal JavaScript (&lt;script&gt; tags)
                    </label>
                    <label class="option">
                        <input type="radio" name="q2" value="c"> External JavaScript (.js file)
                    </label>
                    <label class="option">
                        <input type="radio" name="q2" value="d"> All methods are equally good
                    </label>
                </div>
                <button class="check-button" onclick="checkAnswer(2, 'c')">Check Answer</button>
                <div class="feedback" id="feedback-2"></div>
            </div>
        </div>

        <!-- Question 3: Variable Declaration -->
        <div class="question-container" data-question="3">
            <div class="question">
                <div class="topic-badge">Variables</div>
                <h3>Complete the variable declaration for a constant school name:</h3>
                <p><strong>Declare a constant variable named "schoolName" with the value "JavaScript Academy":</strong></p>
                <input type="text" class="text-input" id="q3-input" placeholder="Write your variable declaration here">
                <button class="check-button" onclick="checkTextAnswer(3, 'const schoolName = \"JavaScript Academy\";')">Check Answer</button>
                <div class="feedback" id="feedback-3"></div>
            </div>
        </div>

        <!-- Question 4: Data Types -->
        <div class="question-container" data-question="4">
            <div class="question">
                <div class="topic-badge">Data Types</div>
                <h3>What is the data type of: [1, 2, 3, 4]?</h3>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q4" value="a"> String
                    </label>
                    <label class="option">
                        <input type="radio" name="q4" value="b"> Number
                    </label>
                    <label class="option">
                        <input type="radio" name="q4" value="c"> Array
                    </label>
                    <label class="option">
                        <input type="radio" name="q4" value="d"> Object
                    </label>
                </div>
                <button class="check-button" onclick="checkAnswer(4, 'c')">Check Answer</button>
                <div class="feedback" id="feedback-4"></div>
            </div>
        </div>

        <!-- Question 5: Variable Operations -->
        <div class="question-container" data-question="5">
            <div class="question">
                <div class="topic-badge">Variables</div>
                <h3>Predict the output:</h3>
                <div class="code-block">
let firstName = "Alice";
let lastName = "Johnson";
console.log(firstName + " " + lastName);
                </div>
                <input type="text" class="text-input" id="q5-input" placeholder="What will be logged to the console?">
                <button class="check-button" onclick="checkTextAnswer(5, 'Alice Johnson')">Check Answer</button>
                <div class="feedback" id="feedback-5"></div>
            </div>
        </div>

        <!-- Question 6: Function Tracing -->
        <div class="question-container" data-question="6">
            <div class="question">
                <div class="topic-badge">Functions</div>
                <h3>What will this function return when called with calculateGrade(85)?</h3>
                <div class="code-block">
function calculateGrade(score) {
    if (score >= 90) {
        return "A";
    } else if (score >= 80) {
        return "B";
    } else {
        return "C";
    }
}
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q6" value="a"> "A"
                    </label>
                    <label class="option">
                        <input type="radio" name="q6" value="b"> "B"
                    </label>
                    <label class="option">
                        <input type="radio" name="q6" value="c"> "C"
                    </label>
                    <label class="option">
                        <input type="radio" name="q6" value="d"> undefined
                    </label>
                </div>
                <button class="check-button" onclick="checkAnswer(6, 'b')">Check Answer</button>
                <div class="feedback" id="feedback-6"></div>
            </div>
        </div>

        <!-- Question 7: Function Writing -->
        <div class="question-container" data-question="7">
            <div class="question">
                <div class="topic-badge">Functions</div>
                <h3>Write a function declaration that takes two numbers and returns their sum:</h3>
                <textarea class="code-input" id="q7-input" placeholder="function functionName(parameter1, parameter2) { ... }"></textarea>
                <button class="check-button" onclick="checkFunctionAnswer(7)">Check Answer</button>
                <div class="feedback" id="feedback-7"></div>
            </div>
        </div>

        <!-- Question 8: Control Structures -->
        <div class="question-container" data-question="8">
            <div class="question">
                <div class="topic-badge">Control Structures</div>
                <h3>What will this code output?</h3>
                <div class="code-block">
let temperature = 25;
if (temperature > 30) {
    console.log("Hot");
} else if (temperature > 20) {
    console.log("Warm");
} else {
    console.log("Cold");
}
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q8" value="a"> "Hot"
                    </label>
                    <label class="option">
                        <input type="radio" name="q8" value="b"> "Warm"
                    </label>
                    <label class="option">
                        <input type="radio" name="q8" value="c"> "Cold"
                    </label>
                    <label class="option">
                        <input type="radio" name="q8" value="d"> Nothing
                    </label>
                </div>
                <button class="check-button" onclick="checkAnswer(8, 'b')">Check Answer</button>
                <div class="feedback" id="feedback-8"></div>
            </div>
        </div>

        <!-- Question 9: Loop Tracing -->
        <div class="question-container" data-question="9">
            <div class="question">
                <div class="topic-badge">Loops</div>
                <h3>How many times will this loop run?</h3>
                <div class="code-block">
for (let i = 0; i < 4; i++) {
    console.log("Count: " + i);
}
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q9" value="a"> 3 times
                    </label>
                    <label class="option">
                        <input type="radio" name="q9" value="b"> 4 times
                    </label>
                    <label class="option">
                        <input type="radio" name="q9" value="c"> 5 times
                    </label>
                    <label class="option">
                        <input type="radio" name="q9" value="d"> Infinite times
                    </label>
                </div>
                <button class="check-button" onclick="checkAnswer(9, 'b')">Check Answer</button>
                <div class="feedback" id="feedback-9"></div>
            </div>
        </div>

        <!-- Question 10: Array Operations -->
        <div class="question-container" data-question="10">
            <div class="question">
                <div class="topic-badge">Arrays</div>
                <h3>What will be the result after these operations?</h3>
                <div class="code-block">
let fruits = ["apple", "banana"];
fruits.push("orange");
console.log(fruits);
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q10" value="a"> ["apple", "banana"]
                    </label>
                    <label class="option">
                        <input type="radio" name="q10" value="b"> ["apple", "banana", "orange"]
                    </label>
                    <label class="option">
                        <input type="radio" name="q10" value="c"> ["orange", "apple", "banana"]
                    </label>
                    <label class="option">
                        <input type="radio" name="q10" value="d"> Error
                    </label>
                </div>
                <button class="check-button" onclick="checkAnswer(10, 'b')">Check Answer</button>
                <div class="feedback" id="feedback-10"></div>
            </div>
        </div>

        <!-- Question 11: Array Indexing -->
        <div class="question-container" data-question="11">
            <div class="question">
                <div class="topic-badge">Arrays</div>
                <h3>What is colors[2] for this array?</h3>
                <div class="code-block">
let colors = ["red", "blue", "green", "yellow"];
                </div>
                <input type="text" class="text-input" id="q11-input" placeholder="Enter the value">
                <button class="check-button" onclick="checkTextAnswer(11, 'green')">Check Answer</button>
                <div class="feedback" id="feedback-11"></div>
            </div>
        </div>

        <!-- Question 12: Object Creation -->
        <div class="question-container" data-question="12">
            <div class="question">
                <div class="topic-badge">Objects</div>
                <h3>Create an object to represent a book with title "JavaScript Guide":</h3>
                <textarea class="code-input" id="q12-input" placeholder="let book = { ... }"></textarea>
                <button class="check-button" onclick="checkObjectAnswer(12)">Check Answer</button>
                <div class="feedback" id="feedback-12"></div>
            </div>
        </div>

        <!-- Question 13: Object Access -->
        <div class="question-container" data-question="13">
            <div class="question">
                <div class="topic-badge">Objects</div>
                <h3>How do you access the student's name from this object?</h3>
                <div class="code-block">
let student = {
    name: "Sarah",
    age: 22,
    courses: ["Math", "Science"]
};
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q13" value="a"> student.name
                    </label>
                    <label class="option">
                        <input type="radio" name="q13" value="b"> student[name]
                    </label>
                    <label class="option">
                        <input type="radio" name="q13" value="c"> student->name
                    </label>
                    <label class="option">
                        <input type="radio" name="q13" value="d"> student.getName()
                    </label>
                </div>
                <button class="check-button" onclick="checkAnswer(13, 'a')">Check Answer</button>
                <div class="feedback" id="feedback-13"></div>
            </div>
        </div>

        <!-- Question 14: DOM Selection -->
        <div class="question-container" data-question="14">
            <div class="question">
                <div class="topic-badge">DOM</div>
                <h3>How do you select an element with id "main"?</h3>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q14" value="a"> document.getElementById("main")
                    </label>
                    <label class="option">
                        <input type="radio" name="q14" value="b"> document.getElement("main")
                    </label>
                    <label class="option">
                        <input type="radio" name="q14" value="c"> document.querySelector("main")
                    </label>
                    <label class="option">
                        <input type="radio" name="q14" value="d"> document.select("#main")
                    </label>
                </div>
                <button class="check-button" onclick="checkAnswer(14, 'a')">Check Answer</button>
                <div class="feedback" id="feedback-14"></div>
            </div>
        </div>

        <!-- Question 15: Events -->
        <div class="question-container" data-question="15">
            <div class="question">
                <div class="topic-badge">Events</div>
                <h3>What event fires when a user clicks on an element?</h3>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q15" value="a"> "press"
                    </label>
                    <label class="option">
                        <input type="radio" name="q15" value="b"> "click"
                    </label>
                    <label class="option">
                        <input type="radio" name="q15" value="c"> "tap"
                    </label>
                    <label class="option">
                        <input type="radio" name="q15" value="d"> "select"
                    </label>
                </div>
                <button class="check-button" onclick="checkAnswer(15, 'b')">Check Answer</button>
                <div class="feedback" id="feedback-15"></div>
            </div>
        </div>

        <!-- Question 16: Bug Finding -->
        <div class="question-container" data-question="16">
            <div class="question">
                <div class="topic-badge">Debugging</div>
                <h3>What's wrong with this code?</h3>
                <div class="code-block">
let name = "Alice"
let age = 25

if age > 18 {
    console.log(name + " is an adult");
}
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q16" value="a"> Missing semicolons and parentheses in if statement
                    </label>
                    <label class="option">
                        <input type="radio" name="q16" value="b"> Variables should use var instead of let
                    </label>
                    <label class="option">
                        <input type="radio" name="q16" value="c"> The condition should use = instead of >
                    </label>
                    <label class="option">
                        <input type="radio" name="q16" value="d"> Nothing is wrong
                    </label>
                </div>
                <button class="check-button" onclick="checkAnswer(16, 'a')">Check Answer</button>
                <div class="feedback" id="feedback-16"></div>
            </div>
        </div>

        <!-- Question 17: Code Prediction -->
        <div class="question-container" data-question="17">
            <div class="question">
                <div class="topic-badge">Code Reading</div>
                <h3>What will be the final value of x?</h3>
                <div class="code-block">
let x = 5;
let y = 10;

if (x < y) {
    x = x + 2;
}

console.log("x is now: " + x);
                </div>
                <input type="text" class="text-input" id="q17-input" placeholder="Enter the final value of x">
                <button class="check-button" onclick="checkTextAnswer(17, '7')">Check Answer</button>
                <div class="feedback" id="feedback-17"></div>
            </div>
        </div>

        <!-- Question 18: Array Methods -->
        <div class="question-container" data-question="18">
            <div class="question">
                <div class="topic-badge">Arrays</div>
                <h3>Which method removes the last element from an array?</h3>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q18" value="a"> push()
                    </label>
                    <label class="option">
                        <input type="radio" name="q18" value="b"> pop()
                    </label>
                    <label class="option">
                        <input type="radio" name="q18" value="c"> shift()
                    </label>
                    <label class="option">
                        <input type="radio" name="q18" value="d"> unshift()
                    </label>
                </div>
                <button class="check-button" onclick="checkAnswer(18, 'b')">Check Answer</button>
                <div class="feedback" id="feedback-18"></div>
            </div>
        </div>

        <!-- Question 19: Function Types -->
        <div class="question-container" data-question="19">
            <div class="question">
                <div class="topic-badge">Functions</div>
                <h3>Convert this function to an arrow function:</h3>
                <div class="code-block">
function multiply(a, b) {
    return a * b;
}
                </div>
                <textarea class="code-input" id="q19-input" placeholder="const multiply = ..."></textarea>
                <button class="check-button" onclick="checkArrowFunction(19)">Check Answer</button>
                <div class="feedback" id="feedback-19"></div>
            </div>
        </div>

        <!-- Question 20: Integration -->
        <div class="question-container" data-question="20">
            <div class="question">
                <div class="topic-badge">Integration</div>
                <h3>Which is the best practice for including JavaScript in HTML?</h3>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q20" value="a"> Put all scripts in the &lt;head&gt; section
                    </label>
                    <label class="option">
                        <input type="radio" name="q20" value="b"> Use only inline JavaScript for everything
                    </label>
                    <label class="option">
                        <input type="radio" name="q20" value="c"> Place scripts at the end of &lt;body&gt; or use defer attribute
                    </label>
                    <label class="option">
                        <input type="radio" name="q20" value="d"> JavaScript should never be used with HTML
                    </label>
                </div>
                <button class="check-button" onclick="checkAnswer(20, 'c')">Check Answer</button>
                <div class="feedback" id="feedback-20"></div>
            </div>
        </div>

        <!-- Results Screen -->
        <div class="results-container" id="results-container">
            <h2>Quiz Complete! 🎉</h2>
            <div class="final-score" id="final-score">0/20</div>
            <div class="grade" id="final-grade"></div>
            <p id="results-message"></p>
            <button class="restart-button" onclick="restartQuiz()">Take Quiz Again</button>
        </div>

        <!-- Navigation -->
        <div class="navigation" id="navigation">
            <button class="nav-button" id="prev-btn" onclick="previousQuestion()" disabled>Previous</button>
            <div class="question-counter">
                <span id="nav-current">1</span> / <span id="nav-total">20</span>
            </div>
            <button class="nav-button" id="next-btn" onclick="nextQuestion()">Next</button>
        </div>
    </div>

    <script>
        let currentQuestion = 1;
        const totalQuestions = 20;
        let score = 0;
        let answeredQuestions = new Set();

        // Initialize quiz
        document.getElementById('total-questions').textContent = totalQuestions;
        document.getElementById('nav-total').textContent = totalQuestions;
        updateProgress();

        function checkAnswer(questionNum, correctAnswer) {
            const selectedOption = document.querySelector(`input[name="q${questionNum}"]:checked`);
            const feedback = document.getElementById(`feedback-${questionNum}`);
            const options = document.querySelectorAll(`input[name="q${questionNum}"]`);
            
            if (!selectedOption) {
                feedback.innerHTML = "Please select an answer first!";
                feedback.className = "feedback incorrect show";
                return;
            }

            // Mark all options to show correct/incorrect
            options.forEach(option => {
                const label = option.parentElement;
                if (option.value === correctAnswer) {
                    label.classList.add('correct');
                } else if (option.checked && option.value !== correctAnswer) {
                    label.classList.add('incorrect');
                }
                option.disabled = true;
            });

            if (selectedOption.value === correctAnswer) {
                feedback.innerHTML = "✅ Correct! Well done!";
                feedback.className = "feedback correct show";
                if (!answeredQuestions.has(questionNum)) {
                    score++;
                    answeredQuestions.add(questionNum);
                    updateScore();
                }
            } else {
                feedback.innerHTML = "❌ Incorrect. The correct answer is highlighted in green.";
                feedback.className = "feedback incorrect show";
                if (!answeredQuestions.has(questionNum)) {
                    answeredQuestions.add(questionNum);
                    updateScore();
                }
            }

            // Disable check button
            event.target.disabled = true;
        }

        function checkTextAnswer(questionNum, correctAnswer) {
            const input = document.getElementById(`q${questionNum}-input`);
            const feedback = document.getElementById(`feedback-${questionNum}`);
            const userAnswer = input.value.trim().toLowerCase();
            const correct = correctAnswer.toLowerCase();

            if (!userAnswer) {
                feedback.innerHTML = "Please enter an answer first!";
                feedback.className = "feedback incorrect show";
                return;
            }

            if (userAnswer === correct || userAnswer.includes(correct)) {
                feedback.innerHTML = `✅ Correct! The answer is: ${correctAnswer}`;
                feedback.className = "feedback correct show";
                if (!answeredQuestions.has(questionNum)) {
                    score++;
                    answeredQuestions.add(questionNum);
                    updateScore();
                }
            } else {
                feedback.innerHTML = `❌ Incorrect. The correct answer is: ${correctAnswer}`;
                feedback.className = "feedback incorrect show";
                if (!answeredQuestions.has(questionNum)) {
                    answeredQuestions.add(questionNum);
                    updateScore();
                }
            }

            input.disabled = true;
            event.target.disabled = true;
        }

        function checkFunctionAnswer(questionNum) {
            const input = document.getElementById(`q${questionNum}-input`);
            const feedback = document.getElementById(`feedback-${questionNum}`);
            const userAnswer = input.value.trim().toLowerCase();

            if (!userAnswer) {
                feedback.innerHTML = "Please write a function first!";
                feedback.className = "feedback incorrect show";
                return;
            }

            // Check for function keywords and structure
            const hasFunction = userAnswer.includes('function');
            const hasParams = userAnswer.includes('(') && userAnswer.includes(')');
            const hasReturn = userAnswer.includes('return');
            const hasAddition = userAnswer.includes('+');

            if (hasFunction && hasParams && hasReturn && hasAddition) {
                feedback.innerHTML = "✅ Correct! Your function has the right structure and logic.";
                feedback.className = "feedback correct show";
                if (!answeredQuestions.has(questionNum)) {
                    score++;
                    answeredQuestions.add(questionNum);
                    updateScore();
                }
            } else {
                feedback.innerHTML = "❌ Make sure your function: 1) Uses the 'function' keyword, 2) Has parameters in parentheses, 3) Returns the sum with +";
                feedback.className = "feedback incorrect show";
                if (!answeredQuestions.has(questionNum)) {
                    answeredQuestions.add(questionNum);
                    updateScore();
                }
            }

            input.disabled = true;
            event.target.disabled = true;
        }

        function checkObjectAnswer(questionNum) {
            const input = document.getElementById(`q${questionNum}-input`);
            const feedback = document.getElementById(`feedback-${questionNum}`);
            const userAnswer = input.value.trim().toLowerCase();

            if (!userAnswer) {
                feedback.innerHTML = "Please create an object first!";
                feedback.className = "feedback incorrect show";
                return;
            }

            const hasObject = userAnswer.includes('{') && userAnswer.includes('}');
            const hasTitle = userAnswer.includes('title') && userAnswer.includes('javascript guide');
            const hasColon = userAnswer.includes(':');

            if (hasObject && hasTitle && hasColon) {
                feedback.innerHTML = "✅ Correct! Your object has the right structure and properties.";
                feedback.className = "feedback correct show";
                if (!answeredQuestions.has(questionNum)) {
                    score++;
                    answeredQuestions.add(questionNum);
                    updateScore();
                }
            } else {
                feedback.innerHTML = "❌ Make sure your object: 1) Uses curly braces {}, 2) Has a title property, 3) Uses proper key:value syntax";
                feedback.className = "feedback incorrect show";
                if (!answeredQuestions.has(questionNum)) {
                    answeredQuestions.add(questionNum);
                    updateScore();
                }
            }

            input.disabled = true;
            event.target.disabled = true;
        }

        function checkArrowFunction(questionNum) {
            const input = document.getElementById(`q${questionNum}-input`);
            const feedback = document.getElementById(`feedback-${questionNum}`);
            const userAnswer = input.value.trim().toLowerCase();

            if (!userAnswer) {
                feedback.innerHTML = "Please write an arrow function first!";
                feedback.className = "feedback incorrect show";
                return;
            }

            const hasArrow = userAnswer.includes('=>');
            const hasConst = userAnswer.includes('const') || userAnswer.includes('let');
            const hasMultiply = userAnswer.includes('multiply');

            if (hasArrow && hasConst && hasMultiply) {
                feedback.innerHTML = "✅ Correct! Your arrow function syntax is right. Example: const multiply = (a, b) => a * b;";
                feedback.className = "feedback correct show";
                if (!answeredQuestions.has(questionNum)) {
                    score++;
                    answeredQuestions.add(questionNum);
                    updateScore();
                }
            } else {
                feedback.innerHTML = "❌ Arrow function should use: const multiply = (a, b) => a * b;";
                feedback.className = "feedback incorrect show";
                if (!answeredQuestions.has(questionNum)) {
                    answeredQuestions.add(questionNum);
                    updateScore();
                }
            }

            input.disabled = true;
            event.target.disabled = true;
        }

        function updateScore() {
            document.getElementById('current-score').textContent = score;
            document.getElementById('total-score').textContent = answeredQuestions.size;
        }

        function updateProgress() {
            const progress = (currentQuestion / totalQuestions) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
            document.getElementById('current-question').textContent = currentQuestion;
            document.getElementById('nav-current').textContent = currentQuestion;
        }

        function nextQuestion() {
            if (currentQuestion < totalQuestions) {
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.remove('active');
                currentQuestion++;
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('active');
                updateProgress();
                updateNavigationButtons();
            } else {
                showResults();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 1) {
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.remove('active');
                currentQuestion--;
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('active');
                updateProgress();
                updateNavigationButtons();
            }
        }

        function updateNavigationButtons() {
            document.getElementById('prev-btn').disabled = currentQuestion === 1;
            document.getElementById('next-btn').textContent = currentQuestion === totalQuestions ? 'Finish Quiz' : 'Next';
        }

        function showResults() {
            // Hide quiz content
            document.querySelectorAll('.question-container').forEach(q => q.style.display = 'none');
            document.getElementById('navigation').style.display = 'none';
            
            // Show results
            const resultsContainer = document.getElementById('results-container');
            const finalScore = document.getElementById('final-score');
            const finalGrade = document.getElementById('final-grade');
            const resultsMessage = document.getElementById('results-message');
            
            const percentage = Math.round((score / totalQuestions) * 100);
            finalScore.textContent = `${score}/${totalQuestions} (${percentage}%)`;
            
            if (percentage >= 90) {
                finalGrade.textContent = "Excellent! 🌟";
                finalGrade.className = "grade excellent";
                resultsMessage.textContent = "Outstanding work! You have mastered JavaScript fundamentals.";
            } else if (percentage >= 80) {
                finalGrade.textContent = "Good Job! 👍";
                finalGrade.className = "grade good";
                resultsMessage.textContent = "Well done! You have a solid understanding of JavaScript basics.";
            } else if (percentage >= 70) {
                finalGrade.textContent = "Fair 📚";
                finalGrade.className = "grade fair";
                resultsMessage.textContent = "You're on the right track! Review the concepts and try again.";
            } else {
                finalGrade.textContent = "Needs Improvement 💪";
                finalGrade.className = "grade needs-improvement";
                resultsMessage.textContent = "Keep studying! Practice more and retake the quiz when ready.";
            }
            
            resultsContainer.classList.add('show');
        }

        function restartQuiz() {
            // Reset all variables
            currentQuestion = 1;
            score = 0;
            answeredQuestions.clear();
            
            // Reset UI
            document.getElementById('results-container').classList.remove('show');
            document.getElementById('navigation').style.display = 'flex';
            
            // Reset all questions
            document.querySelectorAll('.question-container').forEach((q, index) => {
                q.style.display = index === 0 ? 'block' : 'none';
                q.classList.toggle('active', index === 0);
            });
            
            // Reset all inputs and feedback
            document.querySelectorAll('input[type="radio"]').forEach(input => {
                input.checked = false;
                input.disabled = false;
                input.parentElement.classList.remove('correct', 'incorrect', 'selected');
            });
            
            document.querySelectorAll('input[type="text"], textarea').forEach(input => {
                input.value = '';
                input.disabled = false;
            });
            
            document.querySelectorAll('.feedback').forEach(feedback => {
                feedback.classList.remove('show');
            });
            
            document.querySelectorAll('.check-button').forEach(button => {
                button.disabled = false;
            });
            
            // Update displays
            updateScore();
            updateProgress();
            updateNavigationButtons();
        }

        // Initialize navigation buttons
        updateNavigationButtons();

        // Add option selection highlighting
        document.querySelectorAll('input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', function() {
                // Remove selected class from all options in this question
                const questionNum = this.name.replace('q', '');
                document.querySelectorAll(`input[name="${this.name}"]`).forEach(r => {
                    r.parentElement.classList.remove('selected');
                });
                // Add selected class to chosen option
                this.parentElement.classList.add('selected');
            });
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' && currentQuestion < totalQuestions) {
                nextQuestion();
            } else if (e.key === 'ArrowLeft' && currentQuestion > 1) {
                previousQuestion();
            }
        });
    </script>
</body>
</html>